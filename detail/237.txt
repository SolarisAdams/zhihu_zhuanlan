{
    "title": "5åˆ†é’ŸGETä¸€ä¸ªæå®¢æŠ€èƒ½", 
    "description": "5åˆ†é’Ÿï¼Œå¯ä»¥ç©ä¸€å±€ç‹è€…è£è€€ï¼Œä¹Ÿå¯ä»¥GETä¸€ä¸ªæå®¢æŠ€èƒ½", 
    "followers": [
        "https://www.zhihu.com/people/mo-da-hu-16", 
        "https://www.zhihu.com/people/shuang-ren-yu-guo", 
        "https://www.zhihu.com/people/chou-jay-14", 
        "https://www.zhihu.com/people/ocarol", 
        "https://www.zhihu.com/people/da-jin-shui-gou", 
        "https://www.zhihu.com/people/tian-ma-xing-kong-de-ren", 
        "https://www.zhihu.com/people/ymg-90", 
        "https://www.zhihu.com/people/nuo-wei-6-28", 
        "https://www.zhihu.com/people/gao-gong-96-86", 
        "https://www.zhihu.com/people/jacob-fe", 
        "https://www.zhihu.com/people/da-xue-20-38", 
        "https://www.zhihu.com/people/wangyongyue", 
        "https://www.zhihu.com/people/guo-ji-chen", 
        "https://www.zhihu.com/people/forl", 
        "https://www.zhihu.com/people/lvda-pi-jia", 
        "https://www.zhihu.com/people/shan-he-yi-jiu", 
        "https://www.zhihu.com/people/ba-miao-zhu-chang-1", 
        "https://www.zhihu.com/people/wang-zheng-97-73-94", 
        "https://www.zhihu.com/people/luo-pan-36-60", 
        "https://www.zhihu.com/people/meng-a-li-82", 
        "https://www.zhihu.com/people/tonnytwo", 
        "https://www.zhihu.com/people/zheng-jian-yang-56", 
        "https://www.zhihu.com/people/wang-liu-ji-26", 
        "https://www.zhihu.com/people/ggff-ss", 
        "https://www.zhihu.com/people/camark", 
        "https://www.zhihu.com/people/connaught-93", 
        "https://www.zhihu.com/people/tao-han", 
        "https://www.zhihu.com/people/lipengyu", 
        "https://www.zhihu.com/people/firstlife", 
        "https://www.zhihu.com/people/eeeeeeeeeeeeeee", 
        "https://www.zhihu.com/people/100-1-57", 
        "https://www.zhihu.com/people/taiyuannb", 
        "https://www.zhihu.com/people/kEviN9H", 
        "https://www.zhihu.com/people/yue-guang-qin-liao-cheng", 
        "https://www.zhihu.com/people/jun-zhong-lu-hua-50", 
        "https://www.zhihu.com/people/jerryding21", 
        "https://www.zhihu.com/people/wj2014-59", 
        "https://www.zhihu.com/people/yuan-fang-91-30", 
        "https://www.zhihu.com/people/hanxu2016", 
        "https://www.zhihu.com/people/everyxing-99", 
        "https://www.zhihu.com/people/daniel-91-36", 
        "https://www.zhihu.com/people/xue-xi-xiao-bai-78-28", 
        "https://www.zhihu.com/people/mo-shan-39", 
        "https://www.zhihu.com/people/fp567s0626-45", 
        "https://www.zhihu.com/people/pie-dao-chuan-69-64", 
        "https://www.zhihu.com/people/song-lei-lei-94", 
        "https://www.zhihu.com/people/hu-dong-peng-13", 
        "https://www.zhihu.com/people/mei-hua-16-57", 
        "https://www.zhihu.com/people/meng-ti-san-chi-jian", 
        "https://www.zhihu.com/people/taltao", 
        "https://www.zhihu.com/people/civic-tesla", 
        "https://www.zhihu.com/people/cai-mo-gu-de-mei-jing-ling", 
        "https://www.zhihu.com/people/mess-66-74", 
        "https://www.zhihu.com/people/gu-feng-58-10", 
        "https://www.zhihu.com/people/pi-pi-87-78", 
        "https://www.zhihu.com/people/fendoudexiaoniao", 
        "https://www.zhihu.com/people/van-wang-8", 
        "https://www.zhihu.com/people/yuan-bao-die-15", 
        "https://www.zhihu.com/people/cole-72-85", 
        "https://www.zhihu.com/people/jin-li-76-69", 
        "https://www.zhihu.com/people/zhang-hua-song", 
        "https://www.zhihu.com/people/liu-guang-90-59", 
        "https://www.zhihu.com/people/ng-jim", 
        "https://www.zhihu.com/people/cai-cai-7-85", 
        "https://www.zhihu.com/people/wen-ren-shi-7", 
        "https://www.zhihu.com/people/zhang-zhang-41-48-52", 
        "https://www.zhihu.com/people/yang-guang-xiao", 
        "https://www.zhihu.com/people/zhang-kumakichi", 
        "https://www.zhihu.com/people/zhang-zhi-shi-43-28", 
        "https://www.zhihu.com/people/li-duo-sheng-89", 
        "https://www.zhihu.com/people/jason-lee-38-93", 
        "https://www.zhihu.com/people/jl-zhu", 
        "https://www.zhihu.com/people/divineddc", 
        "https://www.zhihu.com/people/hu-xiao-lai-77", 
        "https://www.zhihu.com/people/zzzzzwyu", 
        "https://www.zhihu.com/people/wu-huo-de-hui-jin-25", 
        "https://www.zhihu.com/people/fish_tx", 
        "https://www.zhihu.com/people/zheng-mason", 
        "https://www.zhihu.com/people/zhao-rui-66-48", 
        "https://www.zhihu.com/people/wu-hong-28-46", 
        "https://www.zhihu.com/people/li-li-92-48-36", 
        "https://www.zhihu.com/people/yoming-wong", 
        "https://www.zhihu.com/people/feng-xie-42-47", 
        "https://www.zhihu.com/people/liu-jin-35-9", 
        "https://www.zhihu.com/people/xiao-ke-10-21", 
        "https://www.zhihu.com/people/tian-dian-83", 
        "https://www.zhihu.com/people/zhang-jin-ling-31-20", 
        "https://www.zhihu.com/people/liang-min-hong-88", 
        "https://www.zhihu.com/people/shuang231", 
        "https://www.zhihu.com/people/xing-zhe-wu-jiang-36", 
        "https://www.zhihu.com/people/jiang-he-66-21", 
        "https://www.zhihu.com/people/chen-bu-zhi-32", 
        "https://www.zhihu.com/people/li-yi-heng-60-80", 
        "https://www.zhihu.com/people/sen-lin-jian-shang", 
        "https://www.zhihu.com/people/bright-20-29-46", 
        "https://www.zhihu.com/people/qqq112347", 
        "https://www.zhihu.com/people/shi-wei-yang-63", 
        "https://www.zhihu.com/people/yi-si-te-34", 
        "https://www.zhihu.com/people/doublej-2", 
        "https://www.zhihu.com/people/lu-andy-88", 
        "https://www.zhihu.com/people/qi-che-ren-82", 
        "https://www.zhihu.com/people/huaxia249", 
        "https://www.zhihu.com/people/lan-feng-44-63", 
        "https://www.zhihu.com/people/dogdog-7", 
        "https://www.zhihu.com/people/bolide74", 
        "https://www.zhihu.com/people/woo-woo", 
        "https://www.zhihu.com/people/aaronlaw", 
        "https://www.zhihu.com/people/mo-mi-13", 
        "https://www.zhihu.com/people/han-xiao-23-25", 
        "https://www.zhihu.com/people/fighting-tq", 
        "https://www.zhihu.com/people/zheng-xu-99-41", 
        "https://www.zhihu.com/people/jia-pang-zi", 
        "https://www.zhihu.com/people/gushan", 
        "https://www.zhihu.com/people/whjxnyzh", 
        "https://www.zhihu.com/people/zhuo1997", 
        "https://www.zhihu.com/people/sandy-80-90", 
        "https://www.zhihu.com/people/yan-lei-9-64", 
        "https://www.zhihu.com/people/fei-qi-67-55", 
        "https://www.zhihu.com/people/du-xu-chong", 
        "https://www.zhihu.com/people/ji-luo-74", 
        "https://www.zhihu.com/people/BearRobot", 
        "https://www.zhihu.com/people/wu-wan-93", 
        "https://www.zhihu.com/people/hammer-cui", 
        "https://www.zhihu.com/people/windge", 
        "https://www.zhihu.com/people/liu-lang-hai", 
        "https://www.zhihu.com/people/wang-shan-40-82", 
        "https://www.zhihu.com/people/zhang-chun-lei-34-53", 
        "https://www.zhihu.com/people/someonelikeypp", 
        "https://www.zhihu.com/people/wu-zhong-sheng-you-30-96", 
        "https://www.zhihu.com/people/davidxp", 
        "https://www.zhihu.com/people/bu-ding-long", 
        "https://www.zhihu.com/people/kong-kan-kan-91", 
        "https://www.zhihu.com/people/gai-ge-16", 
        "https://www.zhihu.com/people/linuxcpp", 
        "https://www.zhihu.com/people/zhou-jin-jun-59", 
        "https://www.zhihu.com/people/wukong.sun", 
        "https://www.zhihu.com/people/tracy-72-82", 
        "https://www.zhihu.com/people/yi-chen-88-68", 
        "https://www.zhihu.com/people/xxsgdsg", 
        "https://www.zhihu.com/people/siyee-4", 
        "https://www.zhihu.com/people/te-te-54", 
        "https://www.zhihu.com/people/zhang-chi-carol", 
        "https://www.zhihu.com/people/324863", 
        "https://www.zhihu.com/people/yu-si-wen-98", 
        "https://www.zhihu.com/people/da-jiang-30-30", 
        "https://www.zhihu.com/people/duanbingnan", 
        "https://www.zhihu.com/people/xu-zhi-mo-de-shi-ge", 
        "https://www.zhihu.com/people/hui-zeng-59", 
        "https://www.zhihu.com/people/zhao-yong-65-34", 
        "https://www.zhihu.com/people/yixie-zhi-qiu-56-66", 
        "https://www.zhihu.com/people/shihan96", 
        "https://www.zhihu.com/people/bleriot.z", 
        "https://www.zhihu.com/people/lipafneng", 
        "https://www.zhihu.com/people/zhou-yong-chang-67", 
        "https://www.zhihu.com/people/liujiahao-91", 
        "https://www.zhihu.com/people/tommoo", 
        "https://www.zhihu.com/people/vmin-13", 
        "https://www.zhihu.com/people/linku-64", 
        "https://www.zhihu.com/people/luqianqian-5", 
        "https://www.zhihu.com/people/ewenwan", 
        "https://www.zhihu.com/people/wang-gang-62", 
        "https://www.zhihu.com/people/mao-ming-33", 
        "https://www.zhihu.com/people/lemi-lemi", 
        "https://www.zhihu.com/people/qin-fw", 
        "https://www.zhihu.com/people/dou-dou-dou-68-96", 
        "https://www.zhihu.com/people/misaka0w0", 
        "https://www.zhihu.com/people/jiang-nan-34-75-89", 
        "https://www.zhihu.com/people/chao-ji-ma-li-19-51", 
        "https://www.zhihu.com/people/rusty-nail", 
        "https://www.zhihu.com/people/Akagi201", 
        "https://www.zhihu.com/people/anks-akin", 
        "https://www.zhihu.com/people/wang-wang-28", 
        "https://www.zhihu.com/people/proxy-z", 
        "https://www.zhihu.com/people/li-ke-meng", 
        "https://www.zhihu.com/people/lei-zi-hai", 
        "https://www.zhihu.com/people/wang-ya-kun-29-28", 
        "https://www.zhihu.com/people/huang-bu-24", 
        "https://www.zhihu.com/people/shu-ke-58", 
        "https://www.zhihu.com/people/mu-zheng-72", 
        "https://www.zhihu.com/people/ghostalpha", 
        "https://www.zhihu.com/people/luoxuan-73", 
        "https://www.zhihu.com/people/6666666666666", 
        "https://www.zhihu.com/people/chen_juntong", 
        "https://www.zhihu.com/people/xi-yang-wu-qu", 
        "https://www.zhihu.com/people/watsonl", 
        "https://www.zhihu.com/people/esharyday", 
        "https://www.zhihu.com/people/xiao-jing-bo-53", 
        "https://www.zhihu.com/people/yan-shui-chong-cha", 
        "https://www.zhihu.com/people/keen-lin", 
        "https://www.zhihu.com/people/feng-si-98-62", 
        "https://www.zhihu.com/people/shuai-qi-de-hui", 
        "https://www.zhihu.com/people/liang-ge-e-meng", 
        "https://www.zhihu.com/people/saitofang", 
        "https://www.zhihu.com/people/jueying2015", 
        "https://www.zhihu.com/people/he-he-he-he-he-he-61-80", 
        "https://www.zhihu.com/people/chen-bo-kai-72", 
        "https://www.zhihu.com/people/qiqi-35", 
        "https://www.zhihu.com/people/bai-yi-jiang-gong-zi", 
        "https://www.zhihu.com/people/shuang-zhi-an-shang", 
        "https://www.zhihu.com/people/zhou-ling-chao-39", 
        "https://www.zhihu.com/people/xiaotozhi", 
        "https://www.zhihu.com/people/sushengbuhuo", 
        "https://www.zhihu.com/people/ti-mo-65-62", 
        "https://www.zhihu.com/people/elvin-76-68", 
        "https://www.zhihu.com/people/beiyangfelix", 
        "https://www.zhihu.com/people/liu-meng-yuan-72-95", 
        "https://www.zhihu.com/people/thomasyang-24", 
        "https://www.zhihu.com/people/da-zi-44", 
        "https://www.zhihu.com/people/lian-zhi-wen", 
        "https://www.zhihu.com/people/guo-jun-85-45", 
        "https://www.zhihu.com/people/shisu", 
        "https://www.zhihu.com/people/dingin917", 
        "https://www.zhihu.com/people/ilinlin-80", 
        "https://www.zhihu.com/people/li-yuan-41-96-3", 
        "https://www.zhihu.com/people/yidian-er-xiao-jiao-ao", 
        "https://www.zhihu.com/people/feilaoda", 
        "https://www.zhihu.com/people/mu-mu-8-68", 
        "https://www.zhihu.com/people/xiang-fei-de-zhu-64-92", 
        "https://www.zhihu.com/people/zeng-1-76", 
        "https://www.zhihu.com/people/he-huangcai", 
        "https://www.zhihu.com/people/man-man-na-mian-bao", 
        "https://www.zhihu.com/people/zuo-guo-cai-15", 
        "https://www.zhihu.com/people/lan-tang-13", 
        "https://www.zhihu.com/people/simon-cai-47", 
        "https://www.zhihu.com/people/xin-sui-jing-qian-61", 
        "https://www.zhihu.com/people/ke-luo-di-ya-ya-te-lu", 
        "https://www.zhihu.com/people/meng-zi-lalalla", 
        "https://www.zhihu.com/people/azer.xu", 
        "https://www.zhihu.com/people/eztester", 
        "https://www.zhihu.com/people/chang-broots", 
        "https://www.zhihu.com/people/flyo", 
        "https://www.zhihu.com/people/hao-ren-79-93", 
        "https://www.zhihu.com/people/you-dang-de-xiao-za-bing", 
        "https://www.zhihu.com/people/shaop-ju", 
        "https://www.zhihu.com/people/xdays", 
        "https://www.zhihu.com/people/lan-zhi-zhu-49", 
        "https://www.zhihu.com/people/yuanfeiz", 
        "https://www.zhihu.com/people/wang-ming-66-71", 
        "https://www.zhihu.com/people/party55555", 
        "https://www.zhihu.com/people/duan-fang-liang", 
        "https://www.zhihu.com/people/tian-kai-96", 
        "https://www.zhihu.com/people/awen162awen"
    ], 
    "article": [
        {
            "url": "https://zhuanlan.zhihu.com/p/78109926", 
            "userName": "é•¿è„š", 
            "userLink": "https://www.zhihu.com/people/59e31f1c355dd88f47fd61d2937b02aa", 
            "upvote": 0, 
            "title": "5åˆ†é’ŸGET H5 - è¢«ç©åäº†çš„å¼‚æ­¥å¤„ç† RxJSï¼ˆä¸€ï¼‰", 
            "content": "<p>çŸ¥è¯†ç‚¹ GETï¼šä»€ä¹ˆæ˜¯å¼‚æ­¥ï¼Œç”¨ä»€ä¹ˆå·¥å…·å¤„ç†å¼‚æ­¥<br/>å»ºè®®ç©å®¶ç­‰çº§ï¼šå­¦ç”Ÿå…šï¼Œå¤§å‰ç«¯ç å†œï¼Œæœ‰å¿—äºå¤§å‰ç«¯çš„å…¶å®ƒç å†œ<br/>é˜…è¯»æ­¤æ–‡å…ˆè§£é”æŠ€èƒ½ï¼šAngular æˆåŠŸè¿è¡Œ Hello World<br/><br/><b>PART 1: åŒæ­¥(Sync) vs å¼‚æ­¥(Async)</b><br/>ä¸¾ä¸ªğŸŒ°ï¼šæŠ€æœ¯å®…å°æ˜ä¸Šç­ç¬¬ä¸€å¤©æ—©ä¸Šèµ·åºŠååšäº†3ä»¶ä»»åŠ¡ï¼Œ</p><ol><li>æ‰“å¼€è‡ªåŠ¨ç…®è›‹å™¨ï¼Œå¹¶ä¸€ç›´ç­‰å¾…ç…®è›‹å®Œæˆï¼Œç”¨æ—¶8åˆ†é’Ÿ</li><li>æ‰“å¼€è‡ªåŠ¨å’–å•¡æœºï¼Œå¹¶ä¸€ç›´ç­‰å¾…å’–å•¡å®Œæˆï¼Œç”¨æ—¶2åˆ†é’Ÿ</li><li>æ‰“å¼€è‡ªåŠ¨é¢åŒ…æœºï¼Œå¹¶ä¸€ç›´ç­‰å¾…é¢åŒ…å®Œæˆï¼Œç”¨æ—¶6åˆ†é’Ÿ</li></ol><p>æ€»å…±ç”¨æ—¶ï¼š8+2+6=16åˆ†é’Ÿï¼Œäºæ˜¯å°æ˜ä¸Šç­è¿Ÿåˆ°äº†ğŸ˜­</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-2880b198fde8f700d7474b37104594d0_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"679\" data-rawheight=\"279\" class=\"origin_image zh-lightbox-thumb\" width=\"679\" data-original=\"https://pic1.zhimg.com/v2-2880b198fde8f700d7474b37104594d0_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;679&#39; height=&#39;279&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"679\" data-rawheight=\"279\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"679\" data-original=\"https://pic1.zhimg.com/v2-2880b198fde8f700d7474b37104594d0_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-2880b198fde8f700d7474b37104594d0_b.jpg\"/></figure><p>ä¸Šç­ç¬¬äºŒå¤©æ—©ä¸Šï¼Œå°æ˜è°ƒæ•´äº†ä»»åŠ¡ç­–ç•¥ï¼Œ</p><ol><li>æ‰“å¼€è‡ªåŠ¨ç…®è›‹å™¨ï¼Œç„¶åä¸ç®¡å®ƒï¼Œ8åˆ†é’Ÿåï¼Œé¸¡è›‹å®Œæˆ</li><li>æ‰“å¼€è‡ªåŠ¨å’–å•¡æœºï¼Œç„¶åä¸ç®¡å®ƒï¼Œ2åˆ†é’Ÿåï¼Œå’–å•¡å®Œæˆ</li><li>æ‰“å¼€è‡ªåŠ¨é¢åŒ…æœºï¼Œç„¶åä¸ç®¡å®ƒï¼Œ6åˆ†é’Ÿåï¼Œé¢åŒ…å®Œæˆ</li></ol><p>æ€»å…±ç”¨æ—¶ï¼š8åˆ†é’Ÿï¼Œå°æ˜æˆåŠŸæŠŠæ—©èµ·è¿™ä»¶äº‹çš„æ—¶é—´æ•ˆç‡æå‡äº†50%</p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-587a5ee80de1df3118a571f2081babcf_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"680\" data-rawheight=\"280\" class=\"origin_image zh-lightbox-thumb\" width=\"680\" data-original=\"https://pic4.zhimg.com/v2-587a5ee80de1df3118a571f2081babcf_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;680&#39; height=&#39;280&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"680\" data-rawheight=\"280\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"680\" data-original=\"https://pic4.zhimg.com/v2-587a5ee80de1df3118a571f2081babcf_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-587a5ee80de1df3118a571f2081babcf_b.jpg\"/></figure><p>ç†è§£<b>åŒæ­¥(Sync)</b>ï¼šå°æ˜ç¬¬ä¸€å¤©æ‰§è¡Œæ¯ä»¶ä»»åŠ¡ï¼Œä¼šä¸€ç›´ç­‰å¾…å½“å‰ä»»åŠ¡å®Œæˆï¼Œæ‰é€€å‡ºä»»åŠ¡æ‰§è¡Œä¸‹ä¸€ä»¶ä»»åŠ¡</p><p>ç†è§£<b>å¼‚æ­¥(Async)</b>ï¼šå°æ˜ç¬¬äºŒå¤©æ‰§è¡Œæ¯ä»¶ä»»åŠ¡ï¼Œå¼€å¯å½“å‰ä»»åŠ¡åå°±ç«‹åˆ»é€€å‡ºè¯¥ä»»åŠ¡ï¼Œå¹¶æ‰§è¡Œä¸‹ä¸€ä»¶ä»»åŠ¡</p><p>æ•²é»‘æ¿ï¼š<b>å¼‚æ­¥æ˜¯æå‡æ•ˆç‡åˆ©å™¨ï¼Œç³»ç»Ÿæ•ˆç‡å¦‚æ­¤ï¼Œç”Ÿæ´»æ•ˆç‡äº¦å¦‚æ­¤</b></p><p><br/><b>PART 2: è¢«è§‚å¯Ÿè€…(Observable) vs è§‚å¯Ÿè€…(Observer)</b><br/>æ¥ç€ä¸¾å°æ˜çš„ğŸŒ°ï¼Œæ¥ç†è§£ç¨‹åºçŒ¿ä¸–ç•Œé‡Œçš„å°æ˜å’Œç…®è›‹å™¨é•¿ä»€ä¹ˆæ ·å­</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-e534e298ad0230de574c2265d671215d_b.jpg\" data-size=\"normal\" data-rawwidth=\"564\" data-rawheight=\"306\" class=\"origin_image zh-lightbox-thumb\" width=\"564\" data-original=\"https://pic2.zhimg.com/v2-e534e298ad0230de574c2265d671215d_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;564&#39; height=&#39;306&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"564\" data-rawheight=\"306\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"564\" data-original=\"https://pic2.zhimg.com/v2-e534e298ad0230de574c2265d671215d_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-e534e298ad0230de574c2265d671215d_b.jpg\"/><figcaption>å›¾1</figcaption></figure><p>ç†è§£<b>è§‚å¯Ÿè€…(Observer)</b>ï¼šå°æ˜æ˜¯è§‚å¯Ÿè€…ã€‚å°æ˜è§‚å¯Ÿç…®è›‹å™¨</p><p>ç†è§£<b>è¢«è§‚å¯Ÿè€…(Observable)</b>ï¼šç…®è›‹å™¨æ˜¯è¢«è§‚å¯Ÿè€…ã€‚ç…®è›‹å™¨è¢«å°æ˜è§‚å¯Ÿï¼Œå®Œæˆç…®è›‹åå‘å‡ºæ¶ˆæ¯é€šçŸ¥å°æ˜</p><p>ç†è§£<b>è®¢é˜…(Subscribe)</b>ï¼šå°æ˜è®¢é˜…ç…®è›‹å™¨ã€‚å°æ˜æ‰“å¼€ç…®è›‹å™¨ï¼Œç­‰åŒäºç»™äº†è‡ªå·±ä¸€ä¸ªç¡®å®šçš„é€šçŸ¥é¢„æœŸï¼Œç…®è›‹å™¨å®Œæˆåä¼šé€šçŸ¥è‡ªå·±</p><p>æ•²é»‘æ¿ï¼š<b>è§‚å¯Ÿè€… è®¢é˜… è¢«è§‚å¯Ÿè€…ï¼Œè¢«è§‚å¯Ÿè€… å‘é€æ¶ˆæ¯é€šçŸ¥ è§‚å¯Ÿè€…</b><br/><br/><br/><b>PART 3: RxJS å¸®ä½ å®ç°</b></p><p>é…åˆ <b>å›¾1</b> é‡ç‚¹ç†è§£ <b>next()</b></p><div class=\"highlight\"><pre><code class=\"language-js\"><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Observable</span> <span class=\"p\">}</span> <span class=\"nx\">from</span> <span class=\"s1\">&#39;rxjs&#39;</span><span class=\"p\">;</span>\n\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">&#39;[5åˆ†é’ŸGET H5] - è¢«ç©åäº†çš„å¼‚æ­¥å¤„ç† RxJS&#39;</span><span class=\"p\">);</span>\n\n<span class=\"c1\">// ç…®è›‹å™¨\n</span><span class=\"c1\"></span><span class=\"k\">const</span> <span class=\"nx\">eggMachine</span><span class=\"o\">:</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span> <span class=\"o\">=</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"nx\">create</span><span class=\"p\">((</span><span class=\"nx\">xiaoMing</span><span class=\"o\">:</span> <span class=\"nx\">Observer</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span><span class=\"p\">)</span> <span class=\"p\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">&#39;8ç‚¹&#39;</span> <span class=\"o\">+</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">minute</span> <span class=\"o\">+</span> <span class=\"s1\">&#39;åˆ† ç…®é¸¡è›‹&#39;</span><span class=\"p\">);</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">minute</span> <span class=\"o\">+=</span> <span class=\"mi\">8</span><span class=\"p\">;</span>\n  <span class=\"nx\">xiaoMing</span><span class=\"p\">.</span><span class=\"nx\">next</span><span class=\"p\">(</span><span class=\"s1\">&#39;8ç‚¹&#39;</span> <span class=\"o\">+</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">minute</span> <span class=\"o\">+</span> <span class=\"s1\">&#39;åˆ† [é¸¡è›‹å®Œæˆ]&#39;</span><span class=\"p\">);</span>\n<span class=\"p\">});</span>\n\n<span class=\"c1\">// é¢åŒ…æœº\n</span><span class=\"c1\"></span><span class=\"k\">const</span> <span class=\"nx\">toastMachine</span><span class=\"o\">:</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span> <span class=\"o\">=</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"nx\">create</span><span class=\"p\">((</span><span class=\"nx\">xiaoMing</span><span class=\"o\">:</span> <span class=\"nx\">Observer</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span><span class=\"p\">)</span> <span class=\"p\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">&#39;8ç‚¹&#39;</span> <span class=\"o\">+</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">minute</span> <span class=\"o\">+</span> <span class=\"s1\">&#39;åˆ† çƒ¤é¢åŒ…&#39;</span><span class=\"p\">);</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">minute</span> <span class=\"o\">+=</span> <span class=\"mi\">6</span><span class=\"p\">;</span>\n  <span class=\"nx\">xiaoMing</span><span class=\"p\">.</span><span class=\"nx\">next</span><span class=\"p\">(</span><span class=\"s1\">&#39;8ç‚¹&#39;</span> <span class=\"o\">+</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">minute</span> <span class=\"o\">+</span> <span class=\"s1\">&#39;åˆ† [é¢åŒ…å®Œæˆ]&#39;</span><span class=\"p\">);</span>\n<span class=\"p\">});</span>\n\n<span class=\"c1\">// å’–å•¡æœº\n</span><span class=\"c1\"></span><span class=\"k\">const</span> <span class=\"nx\">cafeMachine</span><span class=\"o\">:</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span> <span class=\"o\">=</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"nx\">create</span><span class=\"p\">((</span><span class=\"nx\">xiaoMing</span><span class=\"o\">:</span> <span class=\"nx\">Observer</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span><span class=\"p\">)</span> <span class=\"p\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">&#39;8ç‚¹&#39;</span> <span class=\"o\">+</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">minute</span> <span class=\"o\">+</span> <span class=\"s1\">&#39;åˆ† ç…®å’–å•¡&#39;</span><span class=\"p\">);</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">minute</span> <span class=\"o\">+=</span> <span class=\"mi\">2</span><span class=\"p\">;</span>\n  <span class=\"nx\">xiaoMing</span><span class=\"p\">.</span><span class=\"nx\">next</span><span class=\"p\">(</span><span class=\"s1\">&#39;8ç‚¹&#39;</span> <span class=\"o\">+</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">minute</span> <span class=\"o\">+</span> <span class=\"s1\">&#39;åˆ† [å’–å•¡å®Œæˆ]&#39;</span><span class=\"p\">);</span>\n<span class=\"p\">});</span>\n</code></pre></div><p>é…åˆ <b>å›¾1</b> é‡ç‚¹ç†è§£ <b>subscribe()</b></p><div class=\"highlight\"><pre><code class=\"language-js\"><span class=\"c1\">// åŒæ­¥\n</span><span class=\"c1\"></span><span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">&#39;[5åˆ†é’ŸGET H5] - åŒæ­¥çš„ç¬¬ä¸€å¤©ï¼š&#39;</span><span class=\"p\">);</span>\n<span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">minute</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n<span class=\"nx\">eggMachine</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"nx\">message</span><span class=\"o\">:</span> <span class=\"nx\">Observer</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span><span class=\"p\">)</span> <span class=\"p\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">message</span><span class=\"p\">);</span>\n\n  <span class=\"nx\">cafeMachine</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"nx\">message</span><span class=\"o\">:</span> <span class=\"nx\">Observer</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span><span class=\"p\">)</span> <span class=\"p\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">message</span><span class=\"p\">);</span>\n\n    <span class=\"nx\">toastMachine</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"nx\">message</span><span class=\"o\">:</span> <span class=\"nx\">Observer</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span><span class=\"p\">)</span> <span class=\"p\">=&gt;</span> <span class=\"p\">{</span>\n      <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">message</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">});</span>\n</code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><div class=\"highlight\"><pre><code class=\"language-js\"><span class=\"c1\">// å¼‚æ­¥\n</span><span class=\"c1\"></span><span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">&#39;[5åˆ†é’ŸGET H5] - å¼‚æ­¥çš„ç¬¬äºŒå¤©ï¼š&#39;</span><span class=\"p\">);</span>\n<span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">minute</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n<span class=\"nx\">eggMachine</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"nx\">message</span><span class=\"o\">:</span> <span class=\"nx\">Observer</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span><span class=\"p\">)</span> <span class=\"p\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">message</span><span class=\"p\">);</span>\n<span class=\"p\">});</span>\n\n<span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">minute</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n<span class=\"nx\">cafeMachine</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"nx\">message</span><span class=\"o\">:</span> <span class=\"nx\">Observer</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span><span class=\"p\">)</span> <span class=\"p\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">message</span><span class=\"p\">);</span>\n<span class=\"p\">});</span>\n\n<span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">minute</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n<span class=\"nx\">toastMachine</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"nx\">message</span><span class=\"o\">:</span> <span class=\"nx\">Observer</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span><span class=\"p\">)</span> <span class=\"p\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">message</span><span class=\"p\">);</span>\n<span class=\"p\">});</span>\n</code></pre></div><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-c27b16f9f55bd2e4feddee8626417897_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"610\" data-rawheight=\"364\" class=\"origin_image zh-lightbox-thumb\" width=\"610\" data-original=\"https://pic4.zhimg.com/v2-c27b16f9f55bd2e4feddee8626417897_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;610&#39; height=&#39;364&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"610\" data-rawheight=\"364\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"610\" data-original=\"https://pic4.zhimg.com/v2-c27b16f9f55bd2e4feddee8626417897_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-c27b16f9f55bd2e4feddee8626417897_b.jpg\"/></figure><p><br/><br/><b>Part Final: Do It Yourself</b><br/>æ­¤åˆ»åº”æœ‰æŒå£°ï¼Œæ­å–œä½ åªèŠ±5åˆ†é’ŸGETäº†çŸ¥è¯†ç‚¹ï¼š</p><ol><li>åŒæ­¥å’Œå¼‚æ­¥</li><li>è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…</li><li>å¤§å‰ç«¯é„™è§†é“¾æŠ€æœ¯ä¹‹ä¸€RxJSå…¥é—¨ </li></ol><p><a href=\"https://link.zhihu.com/?target=https%3A//github.com/fengjihua/rxjs-app\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">ä¸‹è½½æœ¬æ–‡æºä»£ç </a> äº²è‡ªè°ƒè¯•ä¸€ä¸‹<br/></p><hr/><p><i>æƒ³è½¬è½½å°±è½¬è½½å§ï¼ŒçŸ¥è¯†æ˜¯æ— ç•Œçš„~</i></p>", 
            "topic": [
                {
                    "tag": "RxJS", 
                    "tagLink": "https://api.zhihu.com/topics/20036245"
                }, 
                {
                    "tag": "å¼‚æ­¥", 
                    "tagLink": "https://api.zhihu.com/topics/19571217"
                }, 
                {
                    "tag": "å‰ç«¯å¼€å‘", 
                    "tagLink": "https://api.zhihu.com/topics/19550901"
                }
            ], 
            "comments": []
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/35140033", 
            "userName": "é•¿è„š", 
            "userLink": "https://www.zhihu.com/people/59e31f1c355dd88f47fd61d2937b02aa", 
            "upvote": 3, 
            "title": "5åˆ†é’ŸGETéŸ³ä¹æ£€ç´¢ - æ³›éŸ³è¯†åˆ«", 
            "content": "<p>æœ¬æ–‡æ”»ç•¥ï¼šä½¿ç”¨è®¡ç®—æœºæŠ€æœ¯è¯†åˆ«å¹¶æ£€ç´¢éŸ³ä¹ï¼Œç§‘æ™®ä¹ç†åŸºç¡€</p><p>å»ºè®®ç©å®¶ç­‰çº§ï¼šéŸ³ä¹å…šï¼Œå‘çƒ§å‹ï¼Œå­¦ç”Ÿå…šï¼Œä¸­çº§ç å†œ</p><p class=\"ztext-empty-paragraph\"><br/></p><p>é˜…è¯»æ­¤æ–‡å…ˆè§£é”æŠ€èƒ½ï¼š</p><ol><li>ä¸€ç‚¹ç‚¹ä¹ç†åŸºç¡€</li><li>ä¸€ç‚¹ç‚¹ Python åŸºç¡€</li></ol><p>å®è·µæ­¤æ–‡æ¨èè£…å¤‡ï¼š</p><ol><li>Python ç‰ˆæœ¬ï¼š3.6</li><li>ç¼–ç¨‹è½¯ä»¶ï¼šJupyter Notebook, VS Code</li><li>éŸ³ä¹è½¯ä»¶ï¼šMuseScore</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 1: å¼•è¨€</b></h2><p><a href=\"https://zhuanlan.zhihu.com/p/34433387\" class=\"internal\">ä¸Šç¯‡æ–‡ç« </a> æˆ‘ä»¬ä»‹ç»äº†å¦‚ä½•åˆ†ææ£€æµ‹ä¸€æ®µéŸ³é¢‘ä¸­çš„é¢‘ç‡ï¼Œæœ€è¿‘POä¸»æ¥ç€ä¸Šæ¬¡çš„æˆæœç»ˆäºå†™å®Œäº†ç¬¬ä¸€ä¸ªBetaç‰ˆï¼Œä¾ç…§æƒ¯ä¾‹å…ˆä¸Šæˆæœï¼š</p><p>è§†é¢‘ä¸­å³è¾¹ä¸ºMuseScoreæ‰“è°±è½¯ä»¶æ’­æ”¾éŸ³ä¹ï¼Œå·¦è¾¹ä¸ºBetaç‰ˆæ£€æµ‹å½“å‰æ’­æ”¾çš„éŸ³ä¹è¿›åº¦ï¼Œç®—æ³•è¿˜æœªåšåˆ°å®Œç¾ï¼Œåœ¨æ­¤å…ˆæŠ›ç –å¼•ç‰ã€‚</p><blockquote><i>Betaç‰ˆä¸­çš„ Measure è¡¨ç¤ºå½“å‰å°èŠ‚ï¼ŒBeat è¡¨ç¤ºå½“å‰æ‹å­ï¼ŒPitch è¡¨ç¤ºå½“å‰æ£€æµ‹åˆ°çš„ä¸»éŸ³</i></blockquote><a class=\"video-box\" href=\"https://link.zhihu.com/?target=https%3A//www.zhihu.com/video/963206018105323520\" target=\"_blank\" data-video-id=\"\" data-video-playable=\"true\" data-name=\"\" data-poster=\"https://pic1.zhimg.com/80/v2-fce37084d8fcf5c558cce638cb0d8e2c_b.jpg\" data-lens-id=\"963206018105323520\"><img class=\"thumbnail\" src=\"https://pic1.zhimg.com/80/v2-fce37084d8fcf5c558cce638cb0d8e2c_b.jpg\"/><span class=\"content\"><span class=\"title\"><span class=\"z-ico-extern-gray\"></span><span class=\"z-ico-extern-blue\"></span></span><span class=\"url\"><span class=\"z-ico-video\"></span>https://www.zhihu.com/video/963206018105323520</span></span></a><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 2: ç†è§£æ³›éŸ³</b></h2><p>å¯¹äºPOä¸»è¿™ä½ä¹ç†å°ç™½æ¥è¯´ï¼Œæ³›éŸ³ç®—æ˜¯è¿™æ¬¡ Beta ç‰ˆè¿‡ç¨‹ä¸­æœ€å¤§çš„è‹¦ä¸»äº†ã€‚</p><p>é‚£æˆ‘ä»¬å°±å…ˆæ¥ç®€å•äº†è§£ä¸€ä¸‹è¿™ä½è‹¦ä¸»ï¼š</p><ol><li>åŸç†äº†è§£ä¸€ä¸‹ï¼šå½“æˆ‘ä»¬åœ¨é’¢ç´ä¸Šå¼¹ä¸‹ C4(do) çš„æ—¶å€™ï¼Œé’¢ç´ä¼šå‘å‡º C4 å¯¹åº”çš„çº¦ç­‰äº 262Hz é¢‘ç‡å£°æ³¢ï¼ŒåŒæ—¶é’¢ç´è¿˜ä¼šå‘å‡ºä¸€ç³»åˆ—çº¦ç­‰äº 262Hz æ•´æ•°å€é¢‘ç‡çš„å£°æ³¢ã€‚</li><li>ä¸“ä¸šåè¯äº†è§£ä¸€ä¸‹ï¼š262Hz æ˜¯ C4 çš„ <b>åŸºé¢‘</b>ï¼Œ262*2Hz æ˜¯ C4 çš„ <b>ç¬¬ä¸€æ³›éŸ³</b>ï¼Œ262*3Hz æ˜¯ C4 çš„ <b>ç¬¬äºŒæ³›éŸ³</b>ï¼Œ262*4Hz æ˜¯ C4 çš„ <b>ç¬¬ä¸‰æ³›éŸ³</b>ï¼Œ262*5Hz æ˜¯ C4 çš„ <b>ç¬¬å››æ³›éŸ³ </b>ç­‰ç­‰ç­‰ç­‰ï¼Œä»¥æ­¤ç±»æ¨ã€‚</li><li>æ€»ç»“é™ˆè¯ï¼šæˆ‘ä»¬äººè€³å¬åˆ°çš„é’¢ç´å£° C4ï¼Œå…¶å®è´¨æ˜¯ C4 çš„åŸºé¢‘åŠå…¶æ‰€æœ‰æ³›éŸ³é¢‘ç‡ä¸€èµ·å…±æŒ¯çš„ç»“æœã€‚</li></ol><p>äº†è§£äº†æ³›éŸ³çš„åŸç†åï¼Œç»“åˆå®æ“æˆ‘ä»¬å¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š</p><ol><li>ä½¿ç”¨æˆ‘ä»¬ä¹‹å‰çš„é¢‘ç‡æ£€æµ‹æ–¹æ³•ï¼Œæ£€æµ‹åˆ°çš„é¢‘ç‡æœ‰å¯èƒ½æ˜¯åŸºé¢‘ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æ³›éŸ³é¢‘ç‡ï¼Œå¹¶éå®Œå…¨å¯ä»¥ç”¨æ¥å‡†ç¡®ç¡®å®šè¿™æ®µéŸ³é¢‘çš„ä¸»éŸ³ã€‚</li><li>å¦‚æœä¸€ä¸ªéŸ³ï¼ˆä¾‹å¦‚ C4ï¼‰çš„åŸºé¢‘ï¼ˆ262Hzï¼‰åŠå…¶ä¸€ç³»åˆ—æ³›éŸ³é¢‘ç‡ï¼ˆ262*2Hz, 262*3Hz, 262*4Hz...ï¼‰éƒ½è¢«æ£€æµ‹åˆ°ï¼Œåˆ™å¯ä»¥è®¤ä¸ºè¿™æ®µéŸ³é¢‘ä¸­å¤§æ¦‚ç‡åŒ…å«è¯¥éŸ³ã€‚</li></ol><p>æ ¹æ®è¿™ä¸ªåŸç†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±å¼€å§‹æ’¸ä»£ç å‡çº§æˆ‘ä»¬çš„æ£€æµ‹ç®—æ³•ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 3: ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…</b></h2><blockquote><i>å‰æ–¹é«˜èƒ½ï¼Œéç å†œç©å®¶å¯ä»¥å¿½ç•¥ä»£ç éƒ¨åˆ†</i></blockquote><p>åˆ°äº†æ’¸ä»£ç ç¯èŠ‚ï¼Œåœ¨å¼€å§‹åšæ³›éŸ³æ£€æµ‹å‰ï¼Œå…ˆä»‹ç»ä¸€ä¸‹æœ¬æ¬¡ä»£ç æ¶æ„ã€‚</p><p>POä¸»ç”¨äº†ç»å…¸çš„æ•°æ®ç»“æ„ - é˜Ÿåˆ—ï¼Œä½œä¸ºåˆ‡å…¥ç‚¹ï¼Œå¹¶å†™äº†ä¸¤ä¸ªå¹¶å‘çº¿ç¨‹ï¼Œåˆ†åˆ«æ˜¯å¤§å®¶ç†Ÿæ‚‰çš„ç”Ÿäº§è€…ï¼ˆProducerThreadï¼‰å’Œæ¶ˆè´¹è€…ï¼ˆConsumerThreadï¼‰ã€‚</p><p>ç”Ÿäº§è€…ï¼šè´Ÿè´£å‘é˜Ÿåˆ—ç”Ÿäº§éŸ³é¢‘æ•°æ®ã€‚éŸ³é¢‘æ•°æ®æ¥æºå¯ä»¥æœ‰ä¸¤ç§æ–¹å¼ï¼Œwavæ–‡ä»¶å’Œéº¦å…‹é£ã€‚</p><p>æ¶ˆè´¹è€…ï¼šè´Ÿè´£æ¶ˆè´¹ï¼ˆå¤„ç†ï¼‰é˜Ÿåˆ—ä¸­çš„éŸ³é¢‘æ•°æ®ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 1: åˆ›å»ºé˜Ÿåˆ—</b></p><div class=\"highlight\"><pre><code class=\"language-python3\"><span class=\"n\">Q</span> <span class=\"o\">=</span> <span class=\"n\">queue</span><span class=\"o\">.</span><span class=\"n\">Queue</span><span class=\"p\">()</span></code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 2: ç”Ÿäº§è€…ç›‘å¬éº¦å…‹é£ï¼Œæ¯æ¬¡è¯»å– 4096 ä¸ªéŸ³é¢‘æ•°æ®æ ·æœ¬ï¼Œå¹¶å°†æ•°æ®æ ·æœ¬æ”¾å…¥é˜Ÿåˆ— Q</b></p><blockquote><i>è¿™é‡Œä½¿ç”¨ Python ç±»åº“ PyAudio è¯»å–éº¦å…‹é£éŸ³é¢‘æ•°æ®</i></blockquote><div class=\"highlight\"><pre><code class=\"language-python3\"><span class=\"n\">CHUNK_UNIT</span> <span class=\"o\">=</span> <span class=\"mi\">1024</span>\n<span class=\"n\">TIME</span> <span class=\"o\">=</span> <span class=\"mi\">4</span>\n<span class=\"n\">CHUNK</span> <span class=\"o\">=</span> <span class=\"n\">CHUNK_UNIT</span> <span class=\"o\">*</span> <span class=\"n\">TIME</span>\n<span class=\"n\">FORMAT</span> <span class=\"o\">=</span> <span class=\"n\">pyaudio</span><span class=\"o\">.</span><span class=\"n\">paInt16</span>\n<span class=\"n\">CHANNELS</span> <span class=\"o\">=</span> <span class=\"mi\">2</span>\n<span class=\"n\">RATE</span> <span class=\"o\">=</span> <span class=\"mi\">44100</span>\n<span class=\"n\">RECORD_SECONDS</span> <span class=\"o\">=</span> <span class=\"mi\">60</span>\n\n<span class=\"n\">p</span> <span class=\"o\">=</span> <span class=\"n\">pyaudio</span><span class=\"o\">.</span><span class=\"n\">PyAudio</span><span class=\"p\">()</span>\n\n<span class=\"n\">stream</span> <span class=\"o\">=</span> <span class=\"n\">p</span><span class=\"o\">.</span><span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"nb\">format</span><span class=\"o\">=</span><span class=\"n\">FORMAT</span><span class=\"p\">,</span>\n                <span class=\"n\">channels</span><span class=\"o\">=</span><span class=\"n\">CHANNELS</span><span class=\"p\">,</span>\n                <span class=\"n\">rate</span><span class=\"o\">=</span><span class=\"n\">RATE</span><span class=\"p\">,</span>\n                <span class=\"nb\">input</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">,</span>\n                <span class=\"n\">frames_per_buffer</span><span class=\"o\">=</span><span class=\"n\">CHUNK</span><span class=\"p\">)</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&#34;* recording&#34;</span><span class=\"p\">)</span>\n\n<span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">RATE</span> <span class=\"o\">/</span> <span class=\"n\">CHUNK</span> <span class=\"o\">*</span> <span class=\"n\">RECORD_SECONDS</span><span class=\"p\">)):</span>\n    <span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"n\">stream</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">(</span><span class=\"n\">CHUNK</span><span class=\"p\">,</span> <span class=\"n\">exception_on_overflow</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n    <span class=\"n\">Q</span><span class=\"o\">.</span><span class=\"n\">put</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;Producer:&#39;</span><span class=\"p\">,</span> <span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">))</span>\n\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s2\">&#34;* done recording&#34;</span><span class=\"p\">)</span>\n\n<span class=\"n\">stream</span><span class=\"o\">.</span><span class=\"n\">stop_stream</span><span class=\"p\">()</span>\n<span class=\"n\">stream</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n<span class=\"n\">p</span><span class=\"o\">.</span><span class=\"n\">terminate</span><span class=\"p\">()</span></code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 3: æ¶ˆè´¹è€…ä»é˜Ÿåˆ— Q å¾—åˆ°ä¸€æ‰¹ï¼ˆ4096ä¸ªï¼‰éŸ³é¢‘æ•°æ®æ ·æœ¬ï¼Œå¹¶å®šä¹‰ä¸€ä¸ªæµæ°´çº¿å‡½æ•° Pipeline å¤„ç†æ¯ä¸€æ‰¹éŸ³é¢‘æ•°æ®ã€‚</b></p><p>æµæ°´çº¿åŒ…æ‹¬ä»¥ä¸‹å¤„ç†æ­¥éª¤ï¼š</p><ol><li>å°†è¯¥æ‰¹æ¬¡ 4096 ä¸ªéŸ³é¢‘æ•°æ®æ ·æœ¬è½¬æ¢ä¸ºæ•´å‹æ•°ç»„ waveDataï¼Œç„¶ååˆ†ç¦»éŸ³é¢‘æ•°æ®å·¦å³é€šé“ waveData[0] å’Œ waveData[1]</li><li>å°† 4096 ä¸ªéŸ³é¢‘æ•°æ®æ ·æœ¬æŒ‰æ¯æ¬¡è¿­ä»£ 1024 ä¸ªï¼ˆwaveDataUnitï¼‰åˆ†æ‰¹å¾ªç¯å¤„ç†ï¼Œè¿™æ ·åšçš„åŸå› æ˜¯å°½å¯èƒ½æ£€æµ‹çŸ­æ—¶éŸ³é¢‘çš„é¢‘ç‡ï¼ŒçŸ­æ—¶éŸ³é¢‘çš„é¢‘ç‡æ‰æ˜¯æœ‰æ„ä¹‰çš„ç»“æœã€‚</li><li>å°† 1024 ä¸ªæ•°æ®æ ·æœ¬ï¼ˆwaveDataUnitï¼‰åšå¿«é€Ÿå‚…é‡Œå¶å˜æ¢ï¼ˆFFTï¼‰ï¼Œå¾—åˆ°ä¸€ç»„ 512 ä¸ªä¸€èˆ¬äººçœ‹ä¸æ‡‚çš„å‚…é‡Œå¶å˜æ¢æ•°æ® FFT_DATAï¼Œä»¥åŠä¸€ç»„ 512 ä¸ªé¢‘ç‡æ•°æ® frequencyã€‚</li><li>å®šä¹‰ä¸€ä¸ªå…¨å±€æ•°ç»„ WAVE_DATA æ—¶åºä¿å­˜æ‰€æœ‰éŸ³é¢‘æ•°æ®æ ·æœ¬ï¼Œå¹¶å§‹ç»ˆä¿æŒ WAVE_DATA æœ€å¤šåªä¿å­˜æœ€è¿‘ 5 ç§’é‡‡é›†åˆ°çš„éŸ³é¢‘æ•°æ®ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœå†…å­˜ç©ºé—´å¹¶æé«˜è®¡ç®—é€Ÿåº¦ã€‚</li><li>æ‰§è¡ŒéŸ³ç¬¦æ£€æµ‹ç®—æ³•å‡½æ•° pitchDetectï¼ˆç¨åè¯¦ç»†åˆ†è§£ï¼‰ï¼Œé€šè¿‡åˆ†æé¢‘ç‡æ•°æ® frequencyï¼Œè¿”å›åˆ†æå‡ºçš„ä¸»éŸ³ï¼ˆpitchNameï¼‰ï¼Œç½®ä¿¡åº¦ï¼ˆpitchConfidenceï¼‰ï¼ŒæŸå¤±å€¼ï¼ˆpitchLossï¼‰ã€‚ç½®ä¿¡åº¦ç”¨æ¥è¡¨ç¤ºè¯¥éŸ³çš„é è°±ç¨‹åº¦ï¼ŒæŸå¤±å€¼ç”¨æ¥è¡¨ç¤ºè¯¥éŸ³çš„ä¸é è°±ç¨‹åº¦ã€‚</li><li>å®šä¹‰ä¸€ä¸ªå…¨å±€æ•°ç»„ LIVE_DATA æ—¶åºä¿å­˜æ‰€æœ‰æ£€æµ‹å‡ºçš„éŸ³ç¬¦ç»“æœæ•°æ®ã€‚</li><li>æ‰§è¡Œæ€»è°±æ£€ç´¢ç®—æ³•å‡½æ•° pitchScoreMatchï¼Œå¯¹æ£€æµ‹åˆ°çš„æ—¶åºéŸ³ç¬¦æ•°æ® LIVE_DATA å’Œé¢„å…ˆå®šä¹‰å¥½çš„æ€»è°±æ•°æ®ï¼ˆMuseScore æ’­æ”¾çš„æ€»è°±ï¼‰è¿›è¡Œå³æ—¶åŒ¹é…ã€‚</li></ol><div class=\"highlight\"><pre><code class=\"language-python3\"><span class=\"k\">def</span> <span class=\"nf\">pipeline</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">data</span><span class=\"p\">):</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;Consumer Pipeline:&#39;</span><span class=\"p\">,</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">))</span>\n    <span class=\"n\">waveData</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">fromstring</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">,</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">int16</span><span class=\"p\">)</span> <span class=\"c1\">### 1</span>\n    <span class=\"n\">waveData</span><span class=\"o\">.</span><span class=\"n\">shape</span> <span class=\"o\">=</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span>\n    <span class=\"n\">waveData</span> <span class=\"o\">=</span> <span class=\"n\">waveData</span><span class=\"o\">.</span><span class=\"n\">T</span>\n\n    <span class=\"k\">global</span> <span class=\"n\">TIME</span>\n    <span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"n\">TIME</span><span class=\"p\">):</span> <span class=\"c1\">### 2</span>\n        <span class=\"n\">start</span> <span class=\"o\">=</span> <span class=\"n\">CHUNK_UNIT</span> <span class=\"o\">*</span> <span class=\"n\">i</span>\n        <span class=\"n\">end</span> <span class=\"o\">=</span> <span class=\"n\">start</span> <span class=\"o\">+</span> <span class=\"n\">CHUNK_UNIT</span>\n        <span class=\"n\">waveDataUnit</span> <span class=\"o\">=</span> <span class=\"n\">waveData</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">][</span><span class=\"n\">start</span><span class=\"p\">:</span><span class=\"n\">end</span><span class=\"p\">]</span>\n\n        <span class=\"k\">global</span> <span class=\"n\">FFT_DATA</span><span class=\"p\">,</span> <span class=\"n\">FFT_DATA2</span>\n        <span class=\"n\">FFT_DATA2</span><span class=\"p\">,</span> <span class=\"n\">_</span><span class=\"p\">,</span> <span class=\"n\">frequency2</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">fft2</span><span class=\"p\">(</span><span class=\"n\">waveDataUnit</span><span class=\"p\">)</span> <span class=\"c1\">### 3</span>\n\n        <span class=\"k\">global</span> <span class=\"n\">WAVE_DATA</span>\n        <span class=\"n\">WAVE_DATA</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">concatenate</span><span class=\"p\">((</span><span class=\"n\">WAVE_DATA</span><span class=\"p\">,</span> <span class=\"n\">waveDataUnit</span><span class=\"p\">))</span> <span class=\"c1\">### 4</span>\n        <span class=\"k\">if</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">WAVE_DATA</span><span class=\"p\">)</span> <span class=\"o\">&gt;</span> <span class=\"n\">RATE</span> <span class=\"o\">*</span> <span class=\"n\">PLOT_XLIM</span><span class=\"p\">:</span>\n            <span class=\"n\">WAVE_DATA</span> <span class=\"o\">=</span> <span class=\"n\">WAVE_DATA</span><span class=\"p\">[</span><span class=\"n\">CHUNK_UNIT</span><span class=\"p\">:]</span>\n\n        <span class=\"n\">pitchName</span><span class=\"p\">,</span> <span class=\"n\">pitchConfidence</span><span class=\"p\">,</span> <span class=\"n\">pitchLoss</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">pitchDetect</span><span class=\"p\">(</span>\n            <span class=\"n\">frequency2</span><span class=\"p\">,</span> <span class=\"n\">numPitch</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"c1\">### 5</span>\n\n        <span class=\"k\">if</span> <span class=\"n\">pitchConfidence</span> <span class=\"o\">&lt;</span> <span class=\"mi\">6</span><span class=\"p\">:</span>\n            <span class=\"n\">pitchName</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;No&#39;</span>\n\n        <span class=\"k\">global</span> <span class=\"n\">LIVE_DATA</span>\n        <span class=\"n\">LIVE_DATA</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">LIVE_DATA</span><span class=\"p\">,</span> <span class=\"n\">pitchName</span><span class=\"p\">)</span> <span class=\"c1\">### 6</span>\n\n    <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">pitchScoreMatch</span><span class=\"p\">()</span> <span class=\"c1\">### 7</span></code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 4: æ£€æµ‹ç®—æ³•å‡çº§</b></h2><p>è¿™ä¸€éƒ¨åˆ†æˆ‘ä»¬å°±å¼€å§‹è¯¦ç»†åˆ†ææ³›éŸ³çš„æ£€æµ‹ï¼ŒPOä¸»å†è¯´æ˜ä¸€ä¸‹ç®—æ³•å¹¶éå®Œç¾ï¼Œä»æœ‰å¾ˆå¤§ä¼˜åŒ–ç©ºé—´ï¼Œå¸Œæœ›å¯ä»¥æŠ›ç –å¼•ç‰ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><p>æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªéŸ³ç¬¦æ£€æµ‹ç®—æ³•å‡½æ•° pitchDetectï¼Œå‘å‡½æ•°è¾“å…¥ä¸€ç»„æ£€æµ‹åˆ°çš„é¢‘ç‡æ•°æ®freqDataï¼ˆå³æ˜¯ PART 3 çš„ frequencyï¼‰:</p><div class=\"highlight\"><pre><code class=\"language-text\">def pitchDetect(self, freqData, numPitch=1):</code></pre></div><p>ä¾æ¬¡é€šè¿‡ä»¥ä¸‹ 5 ä¸ªæ­¥éª¤æ¥è®¡ç®—è¿™ç»„é¢‘ç‡çš„ä¸»éŸ³ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 1: å®šä¹‰æ ‡å‡†éŸ³æ³›éŸ³é¢‘ç‡çŸ©é˜µ</b></p><p>é¦–å…ˆæˆ‘ä»¬ä½¿ç”¨æœ€å¸¸ç”¨åˆ°çš„ä¸‰ä¸ªå…«åº¦ç©ºé—´ C3~B3, C4~B4, C5~B5ï¼Œä¸€å…± 36 ä¸ªæ ‡å‡†åŠéŸ³éŸ³ç¬¦ä½œä¸ºçŸ©é˜µç¬¬ä¸€ä¸ªç»´åº¦ï¼Œå–æ¯ä¸€ä¸ªåŠéŸ³çš„ n ä¸ªæ³›éŸ³ä½œä¸ºçŸ©é˜µçš„ç¬¬äºŒä¸ªç»´åº¦ï¼Œæ„å»ºä¸€ä¸ªå½¢çŠ¶ä¸º (36,n) çš„äºŒç»´çŸ©é˜µã€‚ï¼ˆç©å®¶ä¹Ÿå¯ä»¥æ„å»ºå…¨éƒ¨ 88 ä¸ªåŠéŸ³ï¼Œå½¢çŠ¶ä¸º (88,n) çš„äºŒç»´çŸ©é˜µï¼‰</p><blockquote><i>è¿™é‡Œä½¿ç”¨äº† Python çš„ music21 ç±»åº“ï¼ŒfreqHarmonicArray ä¸ºæ ‡å‡†éŸ³æ³›éŸ³é¢‘ç‡çŸ©é˜µ</i></blockquote><div class=\"highlight\"><pre><code class=\"language-text\">def preparePitchHarmonicFrequency(self, numHarmonic=10):\n    pitchNameList = []\n    freqHarmonicArray = np.array([])\n\n    useScale = music21.scale.ChromaticScale(&#39;C3&#39;)\n    for p in useScale.pitches:\n        if p.nameWithOctave == &#39;C4&#39;:\n            continue\n\n        pitchNameList.append(p.nameWithOctave)\n        freqFundamental = p.frequency\n        freqsHarmonic = list()\n        for i in range(numHarmonic):\n            freqsHarmonic.append(freqFundamental * (i + 1))\n        freqHarmonicArray = np.append(\n            freqHarmonicArray, np.array(freqsHarmonic), axis=0)\n\n    useScale = music21.scale.ChromaticScale(&#39;C4&#39;)\n    for p in useScale.pitches:\n        if p.nameWithOctave == &#39;C5&#39;:\n            continue\n\n        pitchNameList.append(p.nameWithOctave)\n        freqFundamental = p.frequency\n        freqsHarmonic = list()\n        for i in range(numHarmonic):\n            freqsHarmonic.append(freqFundamental * (i + 1))\n        freqHarmonicArray = np.append(\n            freqHarmonicArray, np.array(freqsHarmonic), axis=0)\n\n    useScale = music21.scale.ChromaticScale(&#39;C5&#39;)\n    for p in useScale.pitches:\n        if p.nameWithOctave == &#39;C6&#39;:\n            continue\n\n        pitchNameList.append(p.nameWithOctave)\n        freqFundamental = p.frequency\n        freqsHarmonic = list()\n        for i in range(numHarmonic):\n            freqsHarmonic.append(freqFundamental * (i + 1))\n        freqHarmonicArray = np.append(\n            freqHarmonicArray, np.array(freqsHarmonic), axis=0)\n\n    freqHarmonicArray.shape = (-1, numHarmonic)\n    return pitchNameList, freqHarmonicArray</code></pre></div><p>è¿™é‡Œæˆ‘ä»¬æ‰“å°å‰ 5 ä¸ªæ ‡å‡†éŸ³ï¼ˆC3, C#3, D3, D#3, E3ï¼‰çš„æ³›éŸ³é¢‘ç‡çŸ©é˜µï¼Œè®©ç©å®¶ä»¬ç›´è§‚ç†è§£</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-895bea537f9c7bb07a44b1897d9d1295_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1320\" data-rawheight=\"624\" class=\"origin_image zh-lightbox-thumb\" width=\"1320\" data-original=\"https://pic2.zhimg.com/v2-895bea537f9c7bb07a44b1897d9d1295_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1320&#39; height=&#39;624&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1320\" data-rawheight=\"624\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1320\" data-original=\"https://pic2.zhimg.com/v2-895bea537f9c7bb07a44b1897d9d1295_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-895bea537f9c7bb07a44b1897d9d1295_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 2: è®¡ç®—æ³›éŸ³æƒå€¼çŸ©é˜µ</b></p><p>å¯¹è¾“å…¥çš„æ¯ä¸ªæ£€æµ‹é¢‘ç‡è¿›è¡Œä»¥ä¸‹è®¡ç®—ï¼š</p><ol><li>å°†æ£€æµ‹é¢‘ç‡ä¸æ ‡å‡†éŸ³æ³›éŸ³é¢‘ç‡çŸ©é˜µè¿›è¡Œé™¤æ³•è®¡ç®—ï¼Œå¾—åˆ°æ£€æµ‹é¢‘ç‡ä¸æ ‡å‡†é¢‘ç‡çš„åå·®ç™¾åˆ†æ¯”çŸ©é˜µã€‚</li><li>å°†æƒå€¼ (weight = 1) èµ‹äºˆåå·®åœ¨ 2% (lossThreshold)  ä»¥å†…çš„æ ‡å‡†é¢‘ç‡ï¼Œè®¤ä¸ºè¯¥æ ‡å‡†é¢‘ç‡è¢«æ£€æµ‹åˆ° 1 æ¬¡ï¼Œå¾—åˆ°å•ä¸ªæ£€æµ‹é¢‘ç‡çš„æ³›éŸ³æƒå€¼çŸ©é˜µ resultã€‚</li><li>å°†æ‰€æœ‰æ£€æµ‹é¢‘ç‡çš„æ³›éŸ³æƒå€¼çŸ©é˜µæ±‚å’Œï¼Œå¾—åˆ°è¾“å…¥é¢‘ç‡æ•°ç»„çš„æ³›éŸ³æƒå€¼çŸ©é˜µ resultSumã€‚</li></ol><div class=\"highlight\"><pre><code class=\"language-text\">lossThreshold = 0.02\nweight = 1\nresultSum = np.zeros_like(self.freqHarmonicArray)\n\nfor freq in freqData:\n    result = self.freqHarmonicArray / freq\n    result = np.abs(result - 1)\n    result[result &gt; lossThreshold] = 0\n    result[result &gt; 0] += weight\n    resultSum += result</code></pre></div><p>å› ç¯‡å¹…æœ‰é™ï¼Œè¿™é‡Œä»…æ‰“å°æ¯ä¸ªæ£€æµ‹é¢‘ç‡çš„ç¬¬ä¸€ä¸ªæ ‡å‡†éŸ³ C3 ï¼ˆresult[0:1]ï¼‰çš„æ³›éŸ³æƒå€¼çŸ©é˜µï¼š</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-727273b5e6aa2d75b3954cddc54046aa_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1474\" data-rawheight=\"1476\" class=\"origin_image zh-lightbox-thumb\" width=\"1474\" data-original=\"https://pic3.zhimg.com/v2-727273b5e6aa2d75b3954cddc54046aa_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1474&#39; height=&#39;1476&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1474\" data-rawheight=\"1476\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1474\" data-original=\"https://pic3.zhimg.com/v2-727273b5e6aa2d75b3954cddc54046aa_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-727273b5e6aa2d75b3954cddc54046aa_b.jpg\"/></figure><p>å†æ‰“å°ä¸€ä¸‹æ‰€æœ‰æ£€æµ‹é¢‘ç‡æ±‚å’Œåçš„æœ€ç»ˆæ³›éŸ³æƒå€¼çŸ©é˜µï¼Œå›¾ä¸­æ ‡æ³¨äº†å…¶ä¸­æŸä¸‰ä¸ªæ ‡å‡†éŸ³C3, G3, G4ï¼š</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-97e413569bea54671645c3f19b1f2a72_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"739\" data-rawheight=\"851\" class=\"origin_image zh-lightbox-thumb\" width=\"739\" data-original=\"https://pic3.zhimg.com/v2-97e413569bea54671645c3f19b1f2a72_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;739&#39; height=&#39;851&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"739\" data-rawheight=\"851\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"739\" data-original=\"https://pic3.zhimg.com/v2-97e413569bea54671645c3f19b1f2a72_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-97e413569bea54671645c3f19b1f2a72_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 3: å¯¹æ³›éŸ³æƒå€¼çŸ©é˜µç¬¬ä¸€ç»´æ±‚å’Œï¼Œæ¯ä¸ªæ ‡å‡†éŸ³è®¡ç®—å‡ºä¸€ä¸ªæ•°å€¼</b></p><div class=\"highlight\"><pre><code class=\"language-text\">pitchConfidenceSumArray = np.sum(resultSum, axis=1)</code></pre></div><p>é€šè¿‡æ‰“å°ç»“æœï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥åˆæ­¥çœ‹åˆ°æ£€æµ‹å‡ºå“ªå‡ ä¸ªæ ‡å‡†éŸ³åŠå…¶æ³›éŸ³å…±æŒ¯è¾ƒé«˜äº†ï¼š</p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-d64c2fe17248f45c796bd19d8d738af7_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"653\" data-rawheight=\"110\" class=\"origin_image zh-lightbox-thumb\" width=\"653\" data-original=\"https://pic4.zhimg.com/v2-d64c2fe17248f45c796bd19d8d738af7_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;653&#39; height=&#39;110&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"653\" data-rawheight=\"110\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"653\" data-original=\"https://pic4.zhimg.com/v2-d64c2fe17248f45c796bd19d8d738af7_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-d64c2fe17248f45c796bd19d8d738af7_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 4: è®¡ç®—ç½®ä¿¡åº¦å’ŒæŸå¤±å€¼</b></p><p>ä½¿ç”¨ numpy.modf å‡½æ•°å°†æ•´æ•°å’Œå°æ•°åˆ†ç¦»ï¼Œæ•´æ•°éƒ¨åˆ†æ˜¯æƒå€¼å’Œï¼Œå°æ•°éƒ¨åˆ†æ˜¯åå·®å’Œã€‚è¿™é‡Œç®€å•çš„å°†ç½®ä¿¡åº¦èµ‹å€¼æƒå€¼å’Œï¼ŒæŸå¤±å€¼èµ‹å€¼å¹³å‡åå·®å³å¯ã€‚</p><div class=\"highlight\"><pre><code class=\"language-text\">pitchCostArray, pitchConfidenceArray = np.modf(pitchConfidenceSumArray)\npitchLossArray = np.zeros_like(pitchCostArray)\npitchLossArray[pitchCostArray&gt;0] = pitchCostArray[pitchCostArray&gt;0] / pitchConfidenceArray[pitchCostArray&gt;0] * 100.0</code></pre></div><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-f8fc2e7bbb9f06954f577ffc9888b5b5_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"652\" data-rawheight=\"178\" class=\"origin_image zh-lightbox-thumb\" width=\"652\" data-original=\"https://pic2.zhimg.com/v2-f8fc2e7bbb9f06954f577ffc9888b5b5_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;652&#39; height=&#39;178&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"652\" data-rawheight=\"178\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"652\" data-original=\"https://pic2.zhimg.com/v2-f8fc2e7bbb9f06954f577ffc9888b5b5_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-f8fc2e7bbb9f06954f577ffc9888b5b5_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 5: æ³¨æ„åŠ›ç³»æ•°</b></p><p>æˆ‘ä»¬å·²çŸ¥æ³›éŸ³é¢‘ç‡çº¦ç­‰äºåŸºé¢‘çš„æ•´æ•°å€ï¼Œæˆ‘ä»¬åˆå·²çŸ¥å·®ä¸€ä¸ªå…«åº¦çš„ä¸¤ä¸ªéŸ³å…¶é¢‘ç‡å€¼ä¹Ÿå·®ä¸€å€ã€‚</p><p>é€šè¿‡ä»¥ä¸Šæ‰“å°ç»“æœæˆ‘ä»¬ç¡®å®å¯ä»¥è§‚å¯Ÿåˆ°è¿™ä¸¤ä¸ªå·²çŸ¥äº‹å®ï¼š</p><ol><li>æ³›éŸ³æƒå€¼çŸ©é˜µå‘½ä¸­äº† G3 ç¬¬ä¸€ã€ä¸‰ã€äº”ã€ä¸ƒã€ä¹æ³›éŸ³ï¼ˆå…± 5 ä¸ªï¼‰ï¼ŒG3 çš„ç½®ä¿¡åº¦ä¸º 5</li><li>æ³›éŸ³æƒå€¼çŸ©é˜µå‘½ä¸­äº† G4 çš„åŸºé¢‘ã€ç¬¬ä¸€ã€äºŒã€ä¸‰ã€å››ã€äº”ã€å…­ã€å…«æ³›éŸ³ï¼ˆå…± 7 ä¸ªï¼‰ï¼ŒG4 çš„ç½®ä¿¡åº¦ä¸º 7</li><li>G3 ç¬¬ä¸€ã€ä¸‰ã€äº”ã€ä¸ƒã€ä¹æ³›éŸ³é¢‘ç‡åˆ†åˆ«ç­‰äº G4 çš„åŸºé¢‘ã€ç¬¬ä¸€ã€äºŒã€ä¸‰ã€å››ã€äº”æ³›éŸ³çš„é¢‘ç‡</li></ol><p>ä¸ºäº†è¿›ä¸€æ­¥æé«˜è¿™æ®µéŸ³é¢‘ä¸»éŸ³ç»“æœæ˜¯ G4 çš„æ­£ç¡®ç‡ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª <b>æ³¨æ„åŠ›ç³»æ•°</b>ï¼Œç”¨æ¥æ£€æµ‹å•ä¸ªæ ‡å‡†éŸ³çš„è¿ç»­é€’å¢æ³›éŸ³å€¼ã€‚å¹¶å°† <b>ç½®ä¿¡åº¦çŸ©é˜µ </b>ä¸ <b>æ³¨æ„åŠ›ç³»æ•°çŸ©é˜µ </b>ç›¸ä¹˜ï¼Œå¾—åˆ°æœ€ç»ˆ <b>ç½®ä¿¡åº¦çŸ©é˜µ</b>ã€‚</p><div class=\"highlight\"><pre><code class=\"language-text\">pitchConfidenceAttention = list()\nnumPitch, numHaronic = resultSum.shape\nfor i in range(numPitch):\n    attention = 0\n    attentionMax = 0\n    for j in range(numHaronic):\n        if resultSum[i][j] &gt; 0:\n            attention += 1\n        else:\n            if attention &gt; attentionMax:\n                attentionMax = attention\n            attention = 0\n\n    if attention &gt; attentionMax:\n        attentionMax = attention\n    pitchConfidenceAttention.append(attentionMax)\npitchConfidenceArray = pitchConfidenceArray * np.array(pitchConfidenceAttention)</code></pre></div><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-27db96a6621a74ed0f4cb674c013f3f8_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"820\" data-rawheight=\"198\" class=\"origin_image zh-lightbox-thumb\" width=\"820\" data-original=\"https://pic1.zhimg.com/v2-27db96a6621a74ed0f4cb674c013f3f8_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;820&#39; height=&#39;198&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"820\" data-rawheight=\"198\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"820\" data-original=\"https://pic1.zhimg.com/v2-27db96a6621a74ed0f4cb674c013f3f8_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-27db96a6621a74ed0f4cb674c013f3f8_b.jpg\"/></figure><p>å¾ˆæ˜æ˜¾åœ¨è¿™æ®µæ ·æœ¬ä¸­ï¼ŒG3 æ²¡æœ‰å‡ºç°è¿ç»­æ³›éŸ³ï¼ˆç¬¬ä¸€ã€ä¸‰ã€äº”ã€ä¸ƒã€ä¹æ³›éŸ³ï¼‰ï¼Œè€Œ G4 å‡ºç°äº†è¿ç»­é€’å¢æ³›éŸ³ï¼ˆç¬¬ä¸€ã€äºŒã€ä¸‰ã€å››ã€äº”ã€å…­æ³›éŸ³ï¼‰ã€‚</p><p>äºæ˜¯å¯ä»¥è®¡ç®—å‡º G3 çš„æ³¨æ„åŠ›ç³»æ•°ä¸º 1ï¼ŒG4çš„æ³¨æ„åŠ›ç³»æ•°ä¸º 6ï¼Œåœ¨ä¸¤ä¸ªçŸ©é˜µç›¸ä¹˜åï¼Œæœ€ç»ˆé€‰å‡ºç½®ä¿¡åº¦æœ€å¤§å€¼ 42 æ‰€å¯¹åº”éŸ³ G4ã€‚</p><div class=\"highlight\"><pre><code class=\"language-text\">idx = np.argmax(pitchConfidenceArray)\n\npitchName = self.pitchNameList[idx]\npitchConfidence = pitchConfidenceArray[idx]\npitchLoss = pitchLossArray[idx]</code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 5: PyQt</b></h2><p>æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨ PyQt ç»™ Beta ç‰ˆåšä¸€ä¸ª UIã€‚</p><p><b>Step 1: å®šä¹‰ä¸€ä¸ª PlotCanvas ç±»æ˜¾ç¤ºéŸ³é¢‘æ—¶åŸŸå’Œé¢‘ç‡å›¾å½¢</b></p><div class=\"highlight\"><pre><code class=\"language-text\">self.m = PlotCanvas(self, width=8, height=6)\nself.m.move(0, 0)\n\nclass PlotCanvas(FigureCanvas):\n\n    def __init__(self, parent=None, width=8, height=6, dpi=100):\n        fig, (self.ax1, self.ax2, self.ax3) = plt.subplots(3, figsize=(width, height), dpi=dpi)\n\n        FigureCanvas.__init__(self, fig)\n        self.setParent(parent)\n\n        FigureCanvas.setSizePolicy(self,\n                                   QSizePolicy.Expanding,\n                                   QSizePolicy.Expanding)\n        FigureCanvas.updateGeometry(self)\n        self.plot()\n\n    def plot(self):\n        self.plotChunk = 1024\n        self.plotYlim = 10000\n\n        x = np.arange(0, self.plotChunk, 1)\n        x_fft2 = np.linspace(0, RATE, CHUNK_UNIT / 2)\n        x_fft = np.arange(0, RATE, 2)\n\n        self.ax1.set_title(&#39;Wave&#39;)\n        self.ax1.set_xlim(0, self.plotChunk)\n        self.ax1.set_ylim(-self.plotYlim, self.plotYlim)\n        self.line1, = self.ax1.plot(x, np.zeros_like(x))\n\n        self.ax2.set_title(&#39;FFT2&#39;)\n        self.ax2.set_xlim(20, RATE / 2)\n        self.line2, = self.ax2.plot(x_fft2, np.zeros_like(x_fft2))\n\n        self.ax3.set_title(&#39;FFT&#39;)\n        self.ax3.set_xlim(20, RATE / 2)\n        self.line3, = self.ax3.plot(x_fft, np.zeros_like(x_fft))\n\n        self.draw()</code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 2: å®šä¹‰ä¸‰ä¸ª QLabel åˆ†åˆ«æ˜¾ç¤º Measureã€Beatã€Pitch</b></p><div class=\"highlight\"><pre><code class=\"language-text\">self.label1 = QLabel(&#39;Measure:&#39;, self)\nself.label1.setTextFormat(Qt.RichText)\nself.label1.move(50, 630)\nself.label1.setMinimumWidth(200)\nself.label1.setText(&#39;&lt;font color=&#34;red&#34; size=&#34;20&#34;&gt;Measure: 0&lt;/font&gt;&#39;)\n\nself.label2 = QLabel(&#39;Beat:&#39;, self)\nself.label2.setTextFormat(Qt.RichText)\nself.label2.move(300, 630)\nself.label2.setMinimumWidth(200)\nself.label2.setText(&#39;&lt;font color=&#34;green&#34; size=&#34;20&#34;&gt;Beat: 0&lt;/font&gt;&#39;)\n\nself.label3 = QLabel(&#39;Pitch:&#39;, self)\nself.label3.setTextFormat(Qt.RichText)\nself.label3.move(550, 630)\nself.label3.setMinimumWidth(200)\nself.label3.setText(&#39;&lt;font color=&#34;blue&#34; size=&#34;20&#34;&gt;Pitch: &lt;/font&gt;&#39;)</code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 3: å®šä¹‰ä¸€ä¸ªå®šæ—¶å™¨ QTimerï¼Œæ¯ 0.1 ç§’æ›´æ–°æ•°æ®å›¾å½¢å’Œ QLabel</b></p><div class=\"highlight\"><pre><code class=\"language-text\">self.timer = QTimer(self)  # åˆå§‹åŒ–ä¸€ä¸ªå®šæ—¶å™¨\nself.timer.timeout.connect(self.on_timer)  # è®¡æ—¶ç»“æŸè°ƒç”¨operate()æ–¹æ³•\nself.timer.start(0.1)  # è®¾ç½®è®¡æ—¶é—´éš”å¹¶å¯åŠ¨\n\ndef on_timer(self):\n    # print(&#39;Timer&#39;)\n    self.refreshPitch()\n    self.m.refresh()</code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART Final: Do it your self</b></h2><p>æœ€åå…³äºæ€»è°±æ£€ç´¢ç®—æ³•å‡½æ•° pitchScoreMatch çš„å®ç°ï¼Œå„ä½ç©å®¶ä¸å¦‚è‡ªè¡Œæ€è€ƒä¸€ä¸‹å¦‚ä½•å®ç°ï¼Œæœ€åçŒ®ä¸Š<a href=\"https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1VR9hze3ykoZKTvc0K2dT9Q\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">æœ¬æ–‡æºä»£ç </a>æŠ›ç –å¼•ç‰ã€‚</p><hr/><p><i>å¦‚éœ€åˆä½œæˆ–è½¬è½½è¯·è”ç³»æœ¬æ–‡ä½œè€…ï¼Œè·ªè°¢</i></p>", 
            "topic": [
                {
                    "tag": "éŸ³ä¹æ£€ç´¢", 
                    "tagLink": "https://api.zhihu.com/topics/19663980"
                }, 
                {
                    "tag": "éŸ³é¢‘å¤„ç†", 
                    "tagLink": "https://api.zhihu.com/topics/19786874"
                }, 
                {
                    "tag": "éŸ³ä¹è¯†åˆ«", 
                    "tagLink": "https://api.zhihu.com/topics/19609289"
                }
            ], 
            "comments": [
                {
                    "userName": "é•¿å²›é›ª", 
                    "userLink": "https://www.zhihu.com/people/e39cb70983ba75c3c936c7520b3e6d9d", 
                    "content": "<p>å­¦ä¹ äº†</p>", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "Hubert", 
                    "userLink": "https://www.zhihu.com/people/3745c2816d710c9750b5556d364ac083", 
                    "content": "<p>å¤ªç‰›é€¼äº†å•Šå•Šå•Š</p><p></p>", 
                    "likes": 0, 
                    "childComments": []
                }
            ]
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/34433387", 
            "userName": "é•¿è„š", 
            "userLink": "https://www.zhihu.com/people/59e31f1c355dd88f47fd61d2937b02aa", 
            "upvote": 11, 
            "title": "5åˆ†é’ŸGETéŸ³ä¹æ£€ç´¢ - éŸ³ä¹å’Œç¼–ç¨‹", 
            "content": "<p>æœ¬æ–‡æ”»ç•¥ï¼šä½¿ç”¨è®¡ç®—æœºæŠ€æœ¯è¯†åˆ«å¹¶æ£€ç´¢éŸ³ä¹ï¼Œç§‘æ™®ä¹ç†é›¶åŸºç¡€</p><p>å»ºè®®ç©å®¶ç­‰çº§ï¼šéŸ³ä¹å…šï¼Œå‘çƒ§å‹ï¼Œå­¦ç”Ÿå…šï¼Œåˆçº§ç å†œ</p><p class=\"ztext-empty-paragraph\"><br/></p><p>é˜…è¯»æ­¤æ–‡å…ˆè§£é”æŠ€èƒ½ï¼š</p><ol><li>ä¸€ç‚¹ç‚¹ä¹ç†åŸºç¡€</li><li>ä¸€ç‚¹ç‚¹ Python åŸºç¡€</li></ol><p>å®è·µæ­¤æ–‡æ¨èè£…å¤‡ï¼š</p><ol><li>Python ç‰ˆæœ¬ï¼š3.6</li><li>ç¼–ç¨‹è½¯ä»¶ï¼šJupyter Notebook</li><li>éŸ³ä¹è½¯ä»¶ï¼šMuseScore</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 1: å¼•è¨€</b></h2><p>PO ä¸»æœ€è¿‘æ¥åˆ°äº†ä¸€ä¸ªæ¯”è¾ƒæœ‰æŒ‘æˆ˜æ€§ä¸”æœ‰æ„æ€çš„ä»»åŠ¡ã€‚å¬è¿‡éŸ³ä¹ä¼šçš„åŒå­¦éƒ½çŸ¥é“å› ä¸ºç°åœºæŒ‡æŒ¥çš„å¿ƒæƒ…å’Œé£æ ¼æ˜¯ä¸€ä¸ªæä¸å¯æ§çš„å› ç´ ï¼Œæ‰€ä»¥åŒä¸€ä¸ªç« èŠ‚æ¯æ¬¡æ¼”ç»çš„æ—¶é•¿éƒ½æ˜¯ä¸åŒçš„ï¼Œè€Œè¿™æ¬¡ä»»åŠ¡ç›®æ ‡å°±æ˜¯è¦å†™ä¸€ä¸ªç¨‹åºèƒ½è‡ªåŠ¨è¯†åˆ«éŸ³ä¹ä¼šç°åœºæ¼”å¥éŸ³ä¹çš„è¿›åº¦ï¼Œå¹¶æ ¹æ®å½“å‰è¿›åº¦å®æ—¶æ§åˆ¶ç¯å…‰å’Œç”»é¢ç­‰å…¶ä»–è§†è§‰æ•ˆæœã€‚</p><p>æˆ‘ä»¬é¦–å…ˆæŠŠä»»åŠ¡ç¨‹åºæ‹†è§£æˆä¸¤å¤§éƒ¨åˆ†ï¼šç¬¬ä¸€éƒ¨åˆ†è´Ÿè´£è¯†åˆ«éŸ³ä¹ï¼Œç¬¬äºŒéƒ¨åˆ†è´Ÿè´£æ§åˆ¶ç¯å…‰ç”»é¢ã€‚å¾ˆæ˜¾ç„¶æ§åˆ¶ç¯å…‰ç”»é¢éƒ¨åˆ†åªéœ€è¦è°ƒç”¨ç›¸å…³æ¥å£å°±èƒ½å®ç°ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆéš¾åº¦ã€‚æˆ‘ä»¬è¿™ä¸ªç³»åˆ—é‡ç‚¹è¦è®²çš„æ˜¯ç¬¬ä¸€éƒ¨åˆ†ä¹Ÿæ˜¯æ ¸å¿ƒéƒ¨åˆ†ï¼Œè¯†åˆ«éŸ³ä¹ã€‚</p><p>åœ¨ PART 2 å¼€å§‹ä¹‹å‰ï¼ŒPO ä¸»å…ˆæ™®åŠä¸€ä¸‹ä¹‹åæˆ‘ä»¬éœ€è¦ç”¨åˆ°å·¥å…·ï¼š</p><ol><li>MuseScoreï¼šä¸€æ¬¾å¯ä»¥ç¼–è¾‘äº”çº¿è°±çš„æ‰“è°±è½¯ä»¶ã€‚ä¼˜ç‚¹æ˜¯å…è´¹ï¼ŒMacå’ŒWinéƒ½æ”¯æŒã€‚</li><li>Jupyter Notebookï¼šä¸€æ¬¾ Python å¼€å‘å·¥å…·ã€‚</li><li>Music21ï¼šä¸€æ¬¾ Python éŸ³ä¹å¼€å‘åº“ï¼Œæ¶èµ·äº†éŸ³ä¹å’Œç¼–ç¨‹ä¹‹é—´çš„å‹è°Šæ¡¥æ¢ï¼Œç±»ä¼¼çš„è¿˜æœ‰ Mingusã€‚</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 2: ä¼˜ç¾çš„ä¹ç†</b></h2><p>åœ¨æˆ‘ä»¬å¼€å§‹è¯†åˆ«éŸ³ä¹å‰ï¼Œå…ˆèŠ±æ—¶é—´å­¦ä¹ ä¸€ä¸‹ä»€ä¹ˆæ˜¯éŸ³ä¹ã€‚è¿™ä¸€ç« èŠ‚å¯¹ç¨‹åºçŒ¿æ¥è¯´æ˜¯éŸ³ä¹å…¥é—¨è¯¾ï¼Œå¯¹éŸ³ä¹å…šæ¥è¯´æ˜¯ç¼–ç¨‹å…¥é—¨è¯¾ï¼Œæ¯ä¸€ä½ç©å®¶è¯·ç¡®ä¿è‡ªå·±åŒæ—¶æŒæ¡äº†åŸºç¡€çš„ä¹ç†å’Œç¼–ç¨‹ã€‚</p><p>PO ä¸»å·®ä¸å¤šèŠ±äº†ä¸¤å¤©æ—¶é—´æ‰çœ‹å®Œ Music21 æ‰€æœ‰çš„æ–‡æ¡£ï¼ˆç„¶è€Œä½œè€…çš„æ–‡æ¡£ä¹Ÿæ‰å†™äº†ä¸€åŠï¼‰ï¼Œå¹¶é‡æ–°å¤ä¹ å·²ç»ä¸¢äº† 20 å¹´çš„ä¹ç†ï¼Œåœ¨è¿™é‡Œåšä¸€ä¸ªæœ€ç®€æ´é€šä¿—çš„æ€»ç»“ï¼š</p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-ef46ba325c96ff2638901a97261a9713_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2356\" data-rawheight=\"1164\" class=\"origin_image zh-lightbox-thumb\" width=\"2356\" data-original=\"https://pic4.zhimg.com/v2-ef46ba325c96ff2638901a97261a9713_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;2356&#39; height=&#39;1164&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2356\" data-rawheight=\"1164\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"2356\" data-original=\"https://pic4.zhimg.com/v2-ef46ba325c96ff2638901a97261a9713_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-ef46ba325c96ff2638901a97261a9713_b.jpg\"/></figure><p><b>æ€»è°±ï¼šScore</b>ã€‚</p><p><b>åˆ†è°±ï¼šPart</b>ã€‚ä¾‹å¦‚å¥³é«˜éŸ³ã€ç”·é«˜éŸ³ã€é’¢ç´ã€å°æç´ç­‰å„ä¸ªéƒ¨åˆ†éƒ½æœ‰å„è‡ªçš„è°±å­ã€‚</p><p><b>å°èŠ‚ï¼šMeasure</b>ã€‚</p><p><b>è°ƒå·ï¼šKeySignature</b>ã€‚å‡è°ƒè®°ä¸ºâ™¯ï¼Œé™è°ƒè®°ä¸ºâ™­ã€‚è¿™ä¸ªè®°å·å°±æ˜¯é€šå¸¸è¯´çš„ä»€ä¹ˆå¤§è°ƒï¼Œä»€ä¹ˆå°è°ƒã€‚</p><p><b>æ‹å·ï¼šTimeSignature</b>ã€‚è¿™ä¸ªè®°å·å°±æ˜¯é€šå¸¸è¯´çš„2/4æ‹ã€3/4æ‹ã€4/4æ‹ã€‚æ‹¿2/4æ‹ä¸¾ä¾‹ï¼Œ4åˆ†éŸ³ç¬¦ä¸ºä¸€æ‹ï¼Œæ¯å°èŠ‚2æ‹ã€‚</p><p><b>éŸ³ç¬¦ï¼šNote</b>ã€‚å°±æ˜¯æˆ‘ä»¬å¹³æ—¶å”±çš„ do re mi fa so la si doï¼Œç”¨å›½é™…æ ‡å‡†è¾“å†™å°±æ˜¯ C4 D4 E4 F4 G4 A4 B4 C5ï¼ŒC5 æ¯” C4 é«˜ä¸€ä¸ª<b>å…«åº¦ï¼ˆOctaveï¼‰</b>ã€‚æœ€å¸¸è§çš„æœ‰16åˆ†éŸ³ç¬¦ã€8åˆ†éŸ³ç¬¦ã€4åˆ†éŸ³ç¬¦ã€2åˆ†éŸ³ç¬¦ã€å…¨éŸ³ç¬¦ã€‚</p><p><b>æ—¶å€¼ï¼šDuration</b>ã€‚16åˆ†éŸ³ç¬¦0.0625ï¼Œ8åˆ†éŸ³ç¬¦0.125ï¼Œ4åˆ†éŸ³ç¬¦0.25ï¼Œ2åˆ†éŸ³ç¬¦0.5ï¼Œå…¨éŸ³ç¬¦1</p><p>ä¹ç†éƒ¨åˆ†è¿˜æœ‰å¾ˆå¤šå¾ˆå¤šéœ€è¦å­¦ä¹ çš„åœ°æ–¹ï¼Œè¿™é‡Œç½—åˆ—çš„åªæ˜¯éå¸¸åŸºç¡€ä½†å¿…éœ€çš„éƒ¨åˆ†ã€‚</p><p>å¦å¤–æ‰¾äº†ä¸€å¼  Music21 å®˜æ–¹æä¾›çš„å›¾ç‰‡ï¼Œéå¸¸åˆ°ä½åœ°æ¦‚æ‹¬äº†ä¸€ä¸ªéŸ³ä¹å¯¹è±¡é€šå¸¸åœ¨ç¨‹åºä¸­çš„å±‚çº§ç»“æ„ï¼š</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-90a0d12adbd0896b80c3440ae9c1b8ad_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"872\" data-rawheight=\"427\" class=\"origin_image zh-lightbox-thumb\" width=\"872\" data-original=\"https://pic2.zhimg.com/v2-90a0d12adbd0896b80c3440ae9c1b8ad_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;872&#39; height=&#39;427&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"872\" data-rawheight=\"427\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"872\" data-original=\"https://pic2.zhimg.com/v2-90a0d12adbd0896b80c3440ae9c1b8ad_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-90a0d12adbd0896b80c3440ae9c1b8ad_b.jpg\"/></figure><blockquote><i>m è¡¨ç¤º measureï¼Œclef è¡¨ç¤º è°±å·ï¼Œ4/4 è¡¨ç¤º æ‹å·ï¼Œq è¡¨ç¤º 4åˆ†éŸ³ç¬¦ (quarter)ï¼Œh è¡¨ç¤º 2åˆ†éŸ³ç¬¦ (half)</i></blockquote><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 3: æ—¶åŸŸå’Œé¢‘åŸŸ</b></h2><p>æ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥å­¦ä¹ ä¸€ä¸‹æ—¶åŸŸå’Œé¢‘åŸŸï¼Œè¿™ä¸¤ä¸ªåˆæ˜¯ä»€ä¹ˆé¬¼ï¼ŸPO ä¸»ä¸çŸ¥é“ä¸“ä¸šå­¦ä¹ ä¹ç†çš„åŒå­¦æ˜¯å¦å­¦ä¹ è¿‡è¿™ä¸¤ä¸ªé¬¼ï¼Œåæ­£æˆ‘ä»¬å­¦è®¡ç®—æœºçš„åŒå­¦å‹æ ¹æ²¡å­¦è¿‡ï¼Œä¸è¿‡æ—¢ç„¶è¯´äº†è¦å­¦å°±å¾—å…ˆå‘ŠçŸ¥åŒå­¦ä»¬ä¸ºä»€ä¹ˆå¾—å­¦ã€‚</p><p>æˆ‘ä»¬éƒ½çŸ¥é“ do re mi æ€ä¹ˆå”±ï¼š</p><ol><li>ç”¨å¸¸ç†è§£é‡Šï¼Œå¤§å®¶éƒ½çŸ¥é“ï¼Œmi æ¯” do é«˜2ä¸ªéŸ³</li><li>ç”¨ä¹ç†è§£é‡Šï¼Œmi æ¯” do é«˜ 4 ä¸ªâ€œåŠéŸ³â€</li><li>ç”¨ç§‘å­¦è§£é‡Šï¼Œmi æ¯” do é«˜ 68Hzã€‚Hz(èµ«å…¹) ä»£è¡¨äº†å£°æ³¢ 1 ç§’é’ŸæŒ¯åŠ¨çš„æ¬¡æ•°ï¼Œå¯ä¸æ˜¯ç§Ÿè½¦å…¬å¸å™¢ã€‚</li></ol><p>æœ‰äº†ç§‘å­¦è§£é‡Šï¼Œæˆ‘ä»¬å°±å¾ˆå®¹æ˜“ç†è§£æ¯ä¸ªéŸ³å…¶å®éƒ½æ˜¯ä¸€ä¸ªæ ‡å‡†é¢‘ç‡ï¼ŒéŸ³è¶Šé«˜å°±æ„å‘³ç€é¢‘ç‡è¶Šé«˜ã€‚ä¸ç®¡æ˜¯é’¢ç´å¼¹å‡ºçš„ doï¼Œè¿˜æ˜¯å°æç´æ‹‰å‡ºçš„ doï¼Œæˆ–æ˜¯å‘¨æ°ä¼¦å”±å‡ºçš„ doï¼Œè¿™ä¸ª do éƒ½æ˜¯åŒä¸€ä¸ª doï¼Œæœ‰åŒä¸€ä¸ªé¢‘ç‡å€¼ 262Hzã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬æŠŠéŸ³ä¹è¯†åˆ«é—®é¢˜å°±è‡ªç„¶è½¬åŒ–æˆäº†é¢‘ç‡è¯†åˆ«é—®é¢˜ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯æå–ä¸€æ®µéŸ³ä¹é‡Œä¸€å…±å‡ºç°è¿‡å¤šå°‘ä¸ªä¸åŒé¢‘ç‡å€¼çš„ä¿¡å·ï¼Œä¹Ÿå°±ä»£è¡¨äº†æœ‰å¤šå°‘ä¸ªä¸åŒçš„éŸ³ç¬¦ã€‚</p><p>ç»§ç»­è¯´å›æ—¶åŸŸå’Œé¢‘ç‡ï¼Œæˆ‘ä»¬é€šå¸¸æ‹¿åˆ°ä¸€æ®µéŸ³ä¹éŸ³é¢‘ï¼Œè¿™å¼ å›¾å°±æ˜¯è¯¥éŸ³é¢‘æ—¶åŸŸçš„æ ·å­ï¼š</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-7b62efa43524597582f7f08d49ffe104_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2359\" data-rawheight=\"527\" class=\"origin_image zh-lightbox-thumb\" width=\"2359\" data-original=\"https://pic1.zhimg.com/v2-7b62efa43524597582f7f08d49ffe104_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;2359&#39; height=&#39;527&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2359\" data-rawheight=\"527\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"2359\" data-original=\"https://pic1.zhimg.com/v2-7b62efa43524597582f7f08d49ffe104_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-7b62efa43524597582f7f08d49ffe104_b.jpg\"/></figure><blockquote><i>xè½´è¡¨ç¤ºæ—¶é—´ï¼Œyè½´è¡¨ç¤ºé‡‡æ ·ç‚¹å¹…åº¦å€¼ï¼ˆå¹¶ä¸æ˜¯é¢‘ç‡å€¼ï¼‰ï¼Œé€šå¸¸ 1 ç§’é’Ÿé‡‡æ · 44100 ä¸ªç‚¹ï¼Œå›¾ä¸­æ˜¾ç¤ºäº†ä¸€ç§’é‡‡æ ·æ•°æ®</i></blockquote><p>ä½†æˆ‘ä»¬éœ€è¦çŸ¥é“è¿™æ®µéŸ³ä¹éŸ³é¢‘é‡Œæœ‰å“ªäº›é¢‘ç‡ï¼ˆéŸ³ï¼‰ï¼Œå°±å¿…é¡»å¾—çœ‹çœ‹è¯¥éŸ³é¢‘é¢‘åŸŸçš„æ ·å­ï¼š</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-c9d2bb950596071dda5fb9691f006986_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2395\" data-rawheight=\"554\" class=\"origin_image zh-lightbox-thumb\" width=\"2395\" data-original=\"https://pic3.zhimg.com/v2-c9d2bb950596071dda5fb9691f006986_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;2395&#39; height=&#39;554&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2395\" data-rawheight=\"554\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"2395\" data-original=\"https://pic3.zhimg.com/v2-c9d2bb950596071dda5fb9691f006986_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-c9d2bb950596071dda5fb9691f006986_b.jpg\"/></figure><blockquote><i>xè½´è¡¨ç¤ºé¢‘ç‡èŒƒå›´ï¼Œyè½´è¡¨ç¤ºé¢‘ç‡å¼ºå¼±å€¼</i></blockquote><p>æ˜¾ç„¶ä»æ—¶åŸŸå›¾ä¸­æˆ‘ä»¬å‡ ä¹çœ‹ä¸å‡ºè¿™æ®µéŸ³ä¹é‡Œæœ‰ä»€ä¹ˆä¸œè¥¿ï¼Œä½†æ˜¯æ¢åˆ°é¢‘åŸŸå›¾ä¸€ç›®äº†ç„¶æœ‰ 1 ä¸ªå¾ˆæ˜æ˜¾çš„é¢‘ç‡ï¼ˆéŸ³ç¬¦ï¼‰è½åœ¨äº†0~1KHzåŒºåŸŸï¼Œè¿™å¾ˆæœ‰å¯èƒ½å°±æ˜¯è¿™æ®µéŸ³ä¹çš„ä¸»éŸ³ç¬¦ã€‚</p><p>PART 3 æœ€åå‘ä¸€å¼ æ—¶åŸŸå’Œé¢‘åŸŸçš„åˆå½±ï¼Œå®ƒä»¬åªæ˜¯ä» 2 ä¸ªä¸åŒçš„è§’åº¦è§‚å¯Ÿäº†åŒä¸€æ®µéŸ³ä¹ :</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-a3df5e98627e943cf5d0029eab66fc14_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"720\" data-rawheight=\"433\" class=\"origin_image zh-lightbox-thumb\" width=\"720\" data-original=\"https://pic1.zhimg.com/v2-a3df5e98627e943cf5d0029eab66fc14_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;720&#39; height=&#39;433&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"720\" data-rawheight=\"433\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"720\" data-original=\"https://pic1.zhimg.com/v2-a3df5e98627e943cf5d0029eab66fc14_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-a3df5e98627e943cf5d0029eab66fc14_b.jpg\"/></figure><blockquote><i>å…³äºæ—¶åŸŸå’Œé¢‘åŸŸæ›´æ·±åˆ»çš„ç†è§£ï¼Œå¯ä»¥ç©¿è¶Šå» <a href=\"https://zhuanlan.zhihu.com/p/19763358\" class=\"internal\">è¿™ç¯‡æ–‡ç« </a>ï¼Œåˆå½±å›¾ç‰‡ä¹Ÿæ˜¯å¼•ç”¨è‡ªè¿™ç¯‡æ–‡ç« ï¼Œæ„Ÿè°¢è¿™ä½ä½œè€…çš„çŸ¥è¯†åˆ†äº«</i></blockquote><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 4: å‚…é‡Œå¶å˜æ¢</b></h2><p>è¿˜æ²¡åˆ°æ’¸ä»£ç ç¯èŠ‚ï¼Œç­‰ PO ä¸»å†ä»‹ç»æœ€åä¸€ä¸ªé¬¼ï¼Œå‚…é‡Œå¶å˜æ¢ã€‚</p><p>é€šè¿‡ PART 3 æˆ‘ä»¬äº†è§£åˆ°äº†ï¼š</p><ol><li>æˆ‘ä»¬é€šå¸¸æ‹¿åˆ°çš„éŸ³ä¹æ˜¯ <b>æ—¶åŸŸæ•°æ®</b></li><li>æˆ‘ä»¬éœ€è¦å°† <b>æ—¶åŸŸæ•°æ® </b>è½¬æ¢ä¸º <b>é¢‘åŸŸæ•°æ®</b></li><li>æˆ‘ä»¬æœ€ç»ˆä» <b>é¢‘åŸŸæ•°æ® </b>ä¸­è·å¾—éŸ³ä¹çš„é¢‘ç‡</li></ol><p><b>å‚…é‡Œå¶å˜æ¢ </b>å°±æ˜¯å¸®åŠ©æˆ‘ä»¬å®ç°æ—¶åŸŸæ•°æ®å‘é¢‘åŸŸæ•°æ®è½¬æ¢çš„ä¼Ÿå¤§å‘ç°ï¼Œå­¦è¿‡é«˜æ•°çš„åŒå­¦åº”è¯¥éƒ½å¯¹å‚…é‡Œå¶åŒå­¦çš„å¤§åå¦‚(hen)é›·(zhi)è´¯(ru)è€³(gu)äº†å§ã€‚</p><p>å…³äºå‚…é‡Œå¶å˜æ¢æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆèƒ½è¿™ä¹ˆç‰›é€¼è¿™ç±»é—®é¢˜ï¼ŒèƒŒåä¾ç„¶æœ‰å¾ˆå¤šå¾ˆå¤šé«˜ç­‰æ•°å­¦çš„ç†è®ºçŸ¥è¯†éœ€è¦è¡¥ä¹ ï¼ŒPO ä¸»å¹¶ä¸æ‰“ç®—ä¹Ÿæ²¡èƒ½åŠ›è§£é‡Šæ¸…æ¥šäº†ã€‚</p><blockquote><i>å…³äºå‚…é‡Œå¶å˜æ¢æ›´æ·±åˆ»çš„ç†è§£ï¼Œä¾ç„¶å¯ä»¥ç©¿è¶Šå» <a href=\"https://zhuanlan.zhihu.com/p/19763358\" class=\"internal\">è¿™ç¯‡æ–‡ç« </a>ï¼Œç¬¬äºŒæ¬¡ä¸ºè¿™ä½ä½œè€…æ‰“ç”µè¯</i></blockquote><p>å‚…é‡Œå¶å˜æ¢æ ¹æ®ä¸åŒé—®é¢˜æœ‰å¾ˆå¤šè¡ç”Ÿï¼Œæˆ‘ä»¬å¸¸ç”¨åˆ°çš„æ˜¯å…¶ä¸­ä¸€ç§å« <b>å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ï¼ˆFFTï¼‰</b>çš„æ–¹æ³•ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 5: Make your hands dirty</b></h2><p>ç»ˆäºåˆ°äº†æ’¸ä»£ç çš„ç¯èŠ‚ï¼Œåœ¨æ’¸ä»£ç ä¹‹å‰å…ˆè‡ªå·±åŠ¨æ‰‹é…ç½®å¥½ç¯å¢ƒï¼š</p><ol><li>å»ºè®®ä½¿ç”¨ Python v3.6</li><li>æˆåŠŸå®‰è£… Numpy, Scipy, Matplotlib, Music21 å¼€å‘åº“</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 1: è¯»å–å¹¶æ˜¾ç¤ºéŸ³é¢‘æ–‡ä»¶å‚æ•°</b></p><p>PO ä¸»è‡ªå·±å‰ªè¾‘äº†ä¸€æ®µå¾ˆçŸ­çš„ wav æ ¼å¼éŸ³é¢‘æ–‡ä»¶ï¼Œæ‰“å°éŸ³é¢‘ä¿¡æ¯å¯ä»¥çœ‹åˆ°é‡‡æ ·ç‡æ˜¯æ ‡å‡†çš„ 44100Hzï¼Œä¸€å…±æœ‰ 446535 ä¸ªé‡‡æ ·ï¼Œå£°éŸ³åŒ…å«å·¦å³ 2 é€šé“ï¼š</p><div class=\"highlight\"><pre><code class=\"language-python3\"><span class=\"kn\">import</span> <span class=\"nn\">wave</span>\n\n<span class=\"n\">readFile</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;data/wav/canon_2.wav&#39;</span>\n<span class=\"n\">f</span> <span class=\"o\">=</span> <span class=\"n\">wave</span><span class=\"o\">.</span><span class=\"nb\">open</span><span class=\"p\">(</span><span class=\"n\">readFile</span><span class=\"p\">,</span><span class=\"s1\">&#39;rb&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">params</span> <span class=\"o\">=</span> <span class=\"n\">f</span><span class=\"o\">.</span><span class=\"n\">getparams</span><span class=\"p\">()</span>\n<span class=\"n\">nchannels</span><span class=\"p\">,</span> <span class=\"n\">sampwidth</span><span class=\"p\">,</span> <span class=\"n\">framerate</span><span class=\"p\">,</span> <span class=\"n\">nframes</span> <span class=\"o\">=</span> <span class=\"n\">params</span><span class=\"p\">[:</span><span class=\"mi\">4</span><span class=\"p\">]</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">params</span><span class=\"p\">)</span></code></pre></div><blockquote><i>_wave_params(nchannels=2, sampwidth=2, framerate=44100, nframes=446535, comptype=&#39;NONE&#39;, compname=&#39;not compressed&#39;)</i></blockquote><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 2: è¯»å–éŸ³é¢‘æ•°æ®ï¼Œå¹¶åˆ†ç¦»å·¦å³é€šé“æ•°æ®</b></p><p>æ­¤æ—¶åˆ†ç¦»å¥½çš„éŸ³é¢‘æ•°æ®ä¸ºæ—¶åŸŸæ•°æ®</p><div class=\"highlight\"><pre><code class=\"language-python3\"><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n\n<span class=\"n\">strData</span> <span class=\"o\">=</span> <span class=\"n\">f</span><span class=\"o\">.</span><span class=\"n\">readframes</span><span class=\"p\">(</span><span class=\"n\">nframes</span><span class=\"p\">)</span> <span class=\"c1\">#è¯»å–éŸ³é¢‘ï¼Œå­—ç¬¦ä¸²æ ¼å¼</span>\n<span class=\"n\">f</span><span class=\"o\">.</span><span class=\"n\">close</span><span class=\"p\">()</span>\n<span class=\"n\">waveData</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">fromstring</span><span class=\"p\">(</span><span class=\"n\">strData</span><span class=\"p\">,</span> <span class=\"n\">dtype</span><span class=\"o\">=</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">int16</span><span class=\"p\">)</span> <span class=\"c1\">#å°†å­—ç¬¦ä¸²è½¬åŒ–ä¸ºint</span>\n\n<span class=\"n\">waveData</span><span class=\"o\">.</span><span class=\"n\">shape</span> <span class=\"o\">=</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span>\n<span class=\"n\">waveData</span> <span class=\"o\">=</span> <span class=\"n\">waveData</span><span class=\"o\">.</span><span class=\"n\">T</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;waveData:&#39;</span><span class=\"p\">,</span> <span class=\"nb\">type</span><span class=\"p\">(</span><span class=\"n\">waveData</span><span class=\"p\">),</span> <span class=\"n\">waveData</span><span class=\"o\">.</span><span class=\"n\">shape</span><span class=\"p\">,</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"nb\">max</span><span class=\"p\">(</span><span class=\"n\">waveData</span><span class=\"p\">),</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"nb\">min</span><span class=\"p\">(</span><span class=\"n\">waveData</span><span class=\"p\">),</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">mean</span><span class=\"p\">(</span><span class=\"n\">waveData</span><span class=\"p\">))</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;waveData left:&#39;</span><span class=\"p\">,</span> <span class=\"n\">waveData</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;waveData right:&#39;</span><span class=\"p\">,</span> <span class=\"n\">waveData</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">])</span></code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 3: æ—¶åŸŸè½¬é¢‘åŸŸç®—æ³•å®ç°</b></p><p>å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥ä¸ºæ—¶åŸŸæ•°æ®ï¼Œè¾“å‡ºä¸ºé¢‘åŸŸæ•°æ®ã€‚</p><p>è¿™é‡Œè‡ªç„¶ç”¨åˆ°äº†å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ FFTï¼Œç®—æ³•é™¤äº†è®¡ç®— FFT ä¹‹å¤–è¿˜åšäº†ä¸€äº›æ•°æ®å˜æ¢çš„æ­¥éª¤ã€‚</p><div class=\"highlight\"><pre><code class=\"language-python3\"><span class=\"k\">def</span> <span class=\"nf\">getFrequencies</span><span class=\"p\">(</span><span class=\"n\">recordedSignal</span><span class=\"p\">,</span> <span class=\"n\">recordSampleRateIn</span><span class=\"p\">):</span>\n    <span class=\"n\">n</span> <span class=\"o\">=</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">recordedSignal</span><span class=\"p\">)</span>\n    <span class=\"n\">nUniquePts</span> <span class=\"o\">=</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">ceil</span><span class=\"p\">((</span><span class=\"n\">n</span><span class=\"o\">+</span><span class=\"mi\">1</span><span class=\"p\">)</span><span class=\"o\">/</span><span class=\"mf\">2.0</span><span class=\"p\">))</span>\n    \n    <span class=\"n\">fft</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">fft</span><span class=\"o\">.</span><span class=\"n\">fft</span><span class=\"p\">(</span><span class=\"n\">recordedSignal</span><span class=\"p\">)</span>\n    <span class=\"n\">fft</span> <span class=\"o\">=</span> <span class=\"n\">fft</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">:</span><span class=\"n\">nUniquePts</span><span class=\"p\">]</span>\n    <span class=\"n\">fft</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"nb\">abs</span><span class=\"p\">(</span><span class=\"n\">fft</span><span class=\"p\">)</span>\n    <span class=\"n\">fft</span> <span class=\"o\">=</span> <span class=\"n\">fft</span> <span class=\"o\">/</span> <span class=\"nb\">float</span><span class=\"p\">(</span><span class=\"n\">n</span><span class=\"p\">)</span>\n    <span class=\"n\">fft</span> <span class=\"o\">=</span> <span class=\"n\">fft</span><span class=\"o\">**</span><span class=\"mi\">2</span>\n\n    <span class=\"c1\"># odd nfft excludes Nyquist point</span>\n    <span class=\"k\">if</span> <span class=\"n\">n</span> <span class=\"o\">%</span> <span class=\"mi\">2</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span><span class=\"p\">:</span> <span class=\"c1\"># we&#39;ve got odd number of points fft</span>\n        <span class=\"n\">fft</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">:</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">fft</span><span class=\"p\">)]</span> <span class=\"o\">=</span> <span class=\"n\">fft</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">:</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">fft</span><span class=\"p\">)]</span> <span class=\"o\">*</span> <span class=\"mi\">2</span>\n    <span class=\"k\">else</span><span class=\"p\">:</span>\n        <span class=\"n\">fft</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">:</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">fft</span><span class=\"p\">)</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">fft</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">:</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">fft</span><span class=\"p\">)</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">*</span> <span class=\"mi\">2</span> <span class=\"c1\"># we&#39;ve got even number of points fft</span>\n\n    <span class=\"n\">freqMaxIdx</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">argmax</span><span class=\"p\">(</span><span class=\"n\">fft</span><span class=\"p\">)</span>\n    <span class=\"n\">freqs</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">arange</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">nUniquePts</span><span class=\"p\">,</span> <span class=\"mf\">1.0</span><span class=\"p\">)</span> <span class=\"o\">*</span> <span class=\"p\">(</span><span class=\"mi\">44100</span><span class=\"o\">*</span><span class=\"mf\">1.0</span><span class=\"o\">/</span><span class=\"n\">n</span><span class=\"p\">);</span>\n\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;rms:&#39;</span><span class=\"p\">,</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">mean</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">int32</span><span class=\"p\">(</span><span class=\"n\">recordedSignal</span><span class=\"p\">)</span><span class=\"o\">**</span><span class=\"mi\">2</span><span class=\"p\">)),</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"nb\">sum</span><span class=\"p\">(</span><span class=\"n\">fft</span><span class=\"p\">)))</span>\n\n    <span class=\"k\">return</span> <span class=\"n\">freqs</span><span class=\"p\">[</span><span class=\"n\">freqMaxIdx</span><span class=\"p\">]</span></code></pre></div><blockquote><i>é€šè¿‡å‚…é‡Œå¶å˜æ¢è®¡ç®—é¢‘ç‡çš„ç®—æ³•ï¼Œæœéç™¾åº¦æ— æœååœ¨ Google ä¸Šæ‰æ‰¾åˆ°äº†æ¯”è¾ƒé è°±æ¸…æ¥šçš„ç®—æ³•å®ç°å¹¶å°†å…¶æ¬ç –å°è£…ï¼Œå¸Œæœ›ä»¥åå¯ä»¥è®©æœ‰éœ€è¦çš„åŒå­¦æ–¹ä¾¿ä½¿ç”¨ã€‚</i> <i>ç®—æ³•ä¸­ä¼šè¾“å‡º rms (root mean square) è®¡ç®—ä¸¤ä¸ªå€¼ï¼Œç”¨äºæ£€éªŒæˆ‘ä»¬çš„ç®—æ³•å‡†ç¡®æ€§ã€‚å¦‚æœä¸¤ä¸ªå€¼å‡ ä¹ç›¸ç­‰ï¼Œåˆ™å¯ä»¥è¯æ˜è¯¥ç®—æ³•ç»“æœéå¸¸é è°±ã€‚</i> <i>è´´ä¸Š<a href=\"https://link.zhihu.com/?target=http%3A//samcarcagno.altervista.org/blog/basic-sound-processing-python/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">ç®—æ³•åŸä½œåœ°å€</a>ï¼Œä¾›å¤§å®¶å­¦ä¹ ã€‚</i></blockquote><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 4: åˆ†æéŸ³é¢‘</b></p><p>æ—¶åŸŸè½¬é¢‘åŸŸç®—æ³•å®ç°åï¼Œæˆ‘ä»¬å°±æµ‹è¯•éŸ³é¢‘å§ï¼Œå†å¯¹è¿”å›çš„é¢‘ç‡å€¼è¿›è¡Œæ ‡å‡†éŸ³é¢‘ç‡è§„èŒƒåŒ–ï¼Œå°±çŸ¥é“æ˜¯å“ªä¸ªéŸ³äº†ã€‚</p><div class=\"highlight\"><pre><code class=\"language-python3\"><span class=\"kn\">from</span> <span class=\"nn\">music21</span> <span class=\"k\">import</span> <span class=\"o\">*</span>\n\n<span class=\"n\">recordedSignal</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">(</span><span class=\"n\">waveData</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">][</span><span class=\"n\">framerate</span><span class=\"o\">*</span><span class=\"mi\">0</span><span class=\"p\">:</span><span class=\"n\">framerate</span><span class=\"o\">*</span><span class=\"mi\">1</span><span class=\"p\">])</span>\n<span class=\"n\">freq</span> <span class=\"o\">=</span> <span class=\"n\">getFrequencies</span><span class=\"p\">(</span><span class=\"n\">recordedSignal</span><span class=\"p\">,</span> <span class=\"n\">framerate</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;freq:&#39;</span><span class=\"p\">,</span> <span class=\"n\">freq</span><span class=\"p\">)</span>\n\n<span class=\"n\">pitchesList</span> <span class=\"o\">=</span> <span class=\"n\">audioSearch</span><span class=\"o\">.</span><span class=\"n\">detectPitchFrequencies</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">array</span><span class=\"p\">([</span><span class=\"n\">freq</span><span class=\"p\">]))</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;pitchesList:&#39;</span><span class=\"p\">,</span> <span class=\"n\">pitchesList</span><span class=\"p\">)</span>\n\n<span class=\"p\">(</span><span class=\"n\">detectedPitches</span><span class=\"p\">,</span> <span class=\"n\">listplot</span><span class=\"p\">)</span> <span class=\"o\">=</span> <span class=\"n\">audioSearch</span><span class=\"o\">.</span><span class=\"n\">pitchFrequenciesToObjects</span><span class=\"p\">(</span><span class=\"n\">pitchesList</span><span class=\"p\">)</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"s1\">&#39;detectedPitches:&#39;</span><span class=\"p\">,</span> <span class=\"n\">detectedPitches</span><span class=\"p\">)</span></code></pre></div><blockquote><i>freq: 495.0</i> <i>pitchesList: 493.8833012561241</i> <i>detectedPitches: &lt;music21.pitch.Pitch B4&gt;</i></blockquote><p>è¿™é‡Œæ£€æµ‹å‡ºæ¥è¿™æ®µéŸ³é¢‘çš„ä¸»éŸ³æ˜¯B4</p><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>Part Final: Do it your self</b></h2><p>æ­£æ‰€è°“ä¸‡äº‹å¼€å¤´éš¾ï¼Œè´¹äº†è€å¤§åŠ²æ€»ç®—èƒ½æ£€æµ‹å‡ºéŸ³ä¹çš„é¢‘ç‡äº†ã€‚æ¥ä¸‹æ¥ POä¸»è¦å¿™äºå»å®ç°éŸ³ä¹è¯†åˆ«é€»è¾‘ï¼Œä¸‹ä¸€æœŸå’Œå¤§å®¶åˆ†äº«æ›´å¤šæˆæœï¼Œç©å®¶ä¹Ÿå¯ä»¥è‡ªå·± <a href=\"https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1P2C1DtsQvpJ5PVaj-DqO8A\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">ä¸‹è½½æœ¬æ–‡æºä»£ç </a> äº²å¹¶è‡ªåŠ¨æ‰‹å†™ä¸€äº›å…³äºéŸ³ä¹çš„ç¨‹åºå§ã€‚</p><hr/><p><i>å¦‚éœ€åˆä½œæˆ–è½¬è½½è¯·è”ç³»æœ¬æ–‡ä½œè€…ï¼Œè·ªè°¢</i></p>", 
            "topic": [
                {
                    "tag": "éŸ³ä¹è¯†åˆ«", 
                    "tagLink": "https://api.zhihu.com/topics/19609289"
                }, 
                {
                    "tag": "éŸ³é¢‘å¤„ç†", 
                    "tagLink": "https://api.zhihu.com/topics/19786874"
                }, 
                {
                    "tag": "éŸ³ä¹æ£€ç´¢", 
                    "tagLink": "https://api.zhihu.com/topics/19663980"
                }
            ], 
            "comments": [
                {
                    "userName": "çŸ¥ä¹ç”¨æˆ·", 
                    "userLink": "https://www.zhihu.com/people/0", 
                    "content": "<p>å•Š~éŸ³ä¹ä¼šæ¼”å¥çš„éŸ³ä¹åœ¨æ—¶åˆ»tå¦‚æœæœ‰ä¸æ­¢ä¸€ä¸ªä¸»éŸ³æ€ä¹ˆåŠï¼Ÿå¦å¤–poä¸»å¥½åšå­¦ï¼Œæˆ‘æ˜¯ä»tendermintçœ‹è¿‡æ¥çš„ã€‚ã€‚å—¯ï¼Œä¼¼ä¹ä¹Ÿæœ‰åŠæ³•ï¼Œåœ¨é¢‘åŸŸå›¾é‡Œæœ‰å¤šæ¡çº¿ã€‚å“ï¼Œé«˜æ•°éƒ½å¿˜å…‰äº†ã€‚ã€‚ä»€ä¹ˆå·¥ä½œå¯ä»¥å¤©å¤©ç©è¿™äº›å¥½ç©çš„ä¸œè¥¿ï¼Œæ±‚ä»‹ç»ã€‚</p>", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "Hubert", 
                    "userLink": "https://www.zhihu.com/people/3745c2816d710c9750b5556d364ac083", 
                    "content": "<p>é€šä¿¡çš„å­©å­è¡¨ç¤ºä¿¡å·å¤„ç†ï¼Œç¼–ç¨‹éƒ½åœ¨è¡Œï¼ŒéŸ³ä¹ä¸å¤ªå¾—hhhã€‚åšä¸»ç‰›é€¼ï¼</p>", 
                    "likes": 0, 
                    "childComments": []
                }
            ]
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/33639313", 
            "userName": "é•¿è„š", 
            "userLink": "https://www.zhihu.com/people/59e31f1c355dd88f47fd61d2937b02aa", 
            "upvote": 1, 
            "title": "5åˆ†é’ŸGET AI - å†™ä¸€æ¬¾æ›´èªæ˜çš„ iOS App", 
            "content": "<p>æœ¬æ–‡æ”»ç•¥ï¼šä½¿ç”¨è®¡ç®—æœºè§†è§‰å’ŒAIæŠ€æœ¯ï¼Œå¼€å‘ä¸€ä¸ªèƒ½è‡ªåŠ¨è¯†åˆ«ç‰©ä½“çš„ iOS App</p><p>å»ºè®®ç©å®¶ç­‰çº§ï¼šYOLO åŸºç¡€ï¼Œä¸­çº§ç å†œ</p><p class=\"ztext-empty-paragraph\"><br/></p><p>é˜…è¯»æ­¤æ–‡å…ˆè§£é”æŠ€èƒ½ï¼š</p><ol><li>Swift åŸºç¡€  <a href=\"https://link.zhihu.com/?target=http%3A//www.runoob.com/swift/swift-tutorial.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">å­¦ä¸€å­¦è¿™é—¨å‡ºèº«åé—¨çš„è¯­è¨€</a></li><li>Object-C åŸºç¡€  <a href=\"https://link.zhihu.com/?target=http%3A//www.runoob.com/w3cnote/objective-c-tutorial.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">å­¦ä¸€å­¦è¿™é—¨ä¸å—äººå¾…è§çš„è¯­è¨€</a></li><li>ä½¿ç”¨ Xcode å®Œæˆ Hello World</li><li>YOLO åŸºç¡€ï¼ˆä¸€ï¼‰ï¼š<a href=\"https://zhuanlan.zhihu.com/p/32097670\" class=\"internal\">5åˆ†é’Ÿå­¦ä¼šAI - How to use YOLO with python</a></li><li>YOLO åŸºç¡€ï¼ˆäºŒï¼‰ï¼š<a href=\"https://zhuanlan.zhihu.com/p/32172286\" class=\"internal\">5åˆ†é’Ÿå­¦ä¼šAI - How YOLO only look once</a></li></ol><p>å®è·µæ­¤æ–‡æ¨èè£…å¤‡ï¼š</p><ol><li>æ“ä½œç³»ç»Ÿï¼šmacOS Sierra 10.12.6+</li><li>IDEï¼šXcode 9.2+</li><li>è®¾å¤‡ï¼šiPhone/iPadä¸€éƒ¨ï¼Œè¿è¡Œ iOS 11.0+</li><li>è‹¹æœå¼€å‘è€…è´¦å·ä¸€ä¸ªï¼ˆæ¯å¹´æŒ‰æ—¶äº¤99ç¾åˆ€å¼€å‘ç¨çš„è´¦å·ï¼‰</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 1: äº§å“æ€ç»´é©±åŠ¨å¼€å‘</b></h2><p>æœ¬æœŸå°†æ¥ç€ä¸Šä¸€ç¯‡çš„é˜¶æ®µæ€§æˆæœ <a href=\"https://zhuanlan.zhihu.com/p/33376737\" class=\"internal\">5åˆ†é’Ÿå­¦ä¼šAI - å†™ä¸€æ¬¾èªæ˜çš„ iOS App</a>ï¼Œç»§ç»­æ‰“é€ è¿™æ¬¾èªæ˜çš„ iOS APPã€‚å›é¡¾ä¸€ä¸‹ä¸Šä¸€ç¯‡æˆ‘ä»¬æåˆ°äº†ä¸‰ä¸ªç›®æ ‡ï¼Œå¹¶å·²ç»å®ç°äº†å…¶ä¸­ä¸¤ç‚¹ï¼š</p><ol><li>è¯†åˆ«æ¸…æ™°åº¦ï¼ˆFinishï¼‰</li><li>è¯†åˆ«ç‰©ä½“ï¼ˆFinishï¼‰</li><li>å½“è¢«è¯†åˆ«çš„æŒ‡å®šç‰©ä½“ä½äºä¸­é—´ï¼Œå¹¶ä¸”è¶³å¤Ÿæ¸…æ™°æ—¶ï¼Œè‡ªåŠ¨æŒ‰ä¸‹å¿«é—¨ä¿å­˜ç…§ç‰‡ï¼ˆTODOï¼‰</li></ol><p>ç„¶é¹…ï¼Œäº§å“æ€ç»´è¿™ä¸¤å¤©åˆå¼€å§‹ä½œç¥Ÿï¼Œä¿ƒä½¿POä¸»æ— æ„è¯†çš„å†™ä¸‹äº†ä¸¤ä¸ªæ–°çš„éœ€æ±‚ï¼š</p><ol><li>æä¾›ä¸¤ä¸ªå¯æ‰‹åŠ¨è°ƒèŠ‚é˜ˆå€¼å‚æ•°çš„äº¤äº’ï¼Œåˆ†åˆ«è°ƒèŠ‚æ¸…æ™°å€¼å’Œç‰©ä½“è¯†åˆ«ç½®ä¿¡åº¦ï¼Œå½“ä¸”ä»…å½“ä¸¤ä¸ªé˜ˆå€¼éƒ½æ»¡è¶³æ—¶ï¼ŒAPP è‡ªåŠ¨æ‹ç…§ï¼ˆTODOï¼‰</li><li>æ‹å®Œçš„ç…§ç‰‡å¯ä»¥è¿›è¡Œå¸¸è§„æ‰‹åŠ¿æ“ä½œï¼ŒåŒæŒ‡ç¼©æ”¾+å•æŒ‡ç§»åŠ¨ï¼ˆTODOï¼‰</li><li>æŒ‘æˆ˜ï¼šæ˜¯å¦å¯ä»¥åšåˆ°æ›´èªæ˜ï¼Œä¾‹å¦‚å‡†ç¡®å®šä½ç‰©ä½“ï¼ˆTODOï¼‰</li></ol><p>è¯ä¸å¤šè¯´ï¼Œæ¥ä¸‹æ¥å¸¦å¤§å®¶è·ªç€å¡«å®Œè‡ªå·±æŒ–çš„å‘ã€‚</p><p>æ’¸ä»£ç å‰ï¼Œä¾æ—§æ˜¯è€æ ·å­å…ˆä¸Šæˆæœå›¾ï¼š</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-42bda5523edb206db65e8cc7718a75fc_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1529\" data-rawheight=\"1358\" class=\"origin_image zh-lightbox-thumb\" width=\"1529\" data-original=\"https://pic1.zhimg.com/v2-42bda5523edb206db65e8cc7718a75fc_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1529&#39; height=&#39;1358&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1529\" data-rawheight=\"1358\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1529\" data-original=\"https://pic1.zhimg.com/v2-42bda5523edb206db65e8cc7718a75fc_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-42bda5523edb206db65e8cc7718a75fc_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 2: èªæ˜çš„ iOS APP</b></h2><p><b>Step 1: è‡ªåŠ¨æ‹ç…§</b></p><p>æˆ‘ä»¬å…ˆå®šä¹‰ä¸‰ä¸ªå˜é‡åˆ†åˆ«è¡¨ç¤ºæ¸…æ™°åº¦é˜ˆå€¼ã€ç›®æ ‡ç‰©ä½“ç½®ä¿¡åº¦é˜ˆå€¼ã€å½“å‰è§†é¢‘å¸§å›¾åƒæ•°æ®ï¼ˆä»è§†é¢‘æµè·å–åˆ°çš„å½“å‰å¸§ï¼‰</p><div class=\"highlight\"><pre><code class=\"language-swift\"><span class=\"kd\">var</span> <span class=\"nv\">thresholdBlur</span><span class=\"p\">:</span> <span class=\"nb\">Int</span><span class=\"o\">!</span>\n<span class=\"kd\">var</span> <span class=\"nv\">thresholdPropability</span><span class=\"p\">:</span> <span class=\"nb\">Float</span><span class=\"o\">!</span>\n<span class=\"kd\">var</span> <span class=\"nv\">thresholdBest</span><span class=\"p\">:</span> <span class=\"n\">CVPixelBuffer</span><span class=\"o\">!</span></code></pre></div><p>ç„¶ååˆ¤æ–­å½“å‰è§†é¢‘å¸§å›¾åƒæ•°æ® pixelBuffer çš„æ¸…æ™°åº¦ï¼Œå¤§äºæ¸…æ™°åº¦é˜ˆå€¼ thresholdBlur æ‰ä¼šäº¤ç»™ AI ç¥ç»ç½‘ç»œæ¨¡å‹å»æ£€æµ‹ç‰©ä½“ç½®ä¿¡åº¦å¹¶å°†å½“å‰ pixelBuffer èµ‹å€¼ thresholdBestï¼Œå¦åˆ™å¿½ç•¥ pixelBuffer</p><div class=\"highlight\"><pre><code class=\"language-swift\"><span class=\"c1\">// é¢„æµ‹åˆ†ç±»</span>\n<span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">opencv</span><span class=\"p\">.</span><span class=\"n\">blur</span> <span class=\"o\">&gt;=</span> <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">thresholdBlur</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">thresholdBest</span> <span class=\"p\">=</span> <span class=\"n\">pixelBuffer</span>\n    <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">predictClassification</span><span class=\"p\">(</span><span class=\"n\">pixelBuffer</span><span class=\"p\">:</span> <span class=\"n\">pixelBuffer</span><span class=\"p\">)</span>\n<span class=\"p\">}</span></code></pre></div><p>æœ€åæˆ‘ä»¬éœ€è¦ç­›é€‰é¢„æµ‹ç»“æœä¸­æ˜¯å¦æœ‰æˆ‘ä»¬çš„æ£€æµ‹ç›®æ ‡ï¼ˆæ —å­é‡Œçš„æ£€æµ‹ç›®æ ‡ç‰©ä½“æ˜¯æ˜¾ç¤ºå™¨â€œmonitorâ€ï¼‰ï¼Œå¹¶åˆ¤æ–­æ£€æµ‹ç›®æ ‡ç‰©ä½“ç½®ä¿¡åº¦ï¼ˆç›®æ ‡ç‰©ä½“æ˜¯æ˜¾ç¤ºå™¨â€œmonitorâ€çš„æ¦‚ç‡å€¼ï¼‰ï¼Œå½“ç½®ä¿¡åº¦å¤§äºç›®æ ‡ç‰©ä½“ç½®ä¿¡åº¦é˜ˆå€¼ thresholdPropability æ—¶ï¼Œå°†è§†é¢‘å¸§å›¾åƒæ•°æ® thresholdBest è‡ªåŠ¨ä¿å­˜ä¸ºç…§ç‰‡ï¼Œåˆ‡æ¢åˆ°æ–°çš„åœºæ™¯æ˜¾ç¤ºè¯¥ç…§ç‰‡</p><div class=\"highlight\"><pre><code class=\"language-swift\"><span class=\"k\">for</span> <span class=\"n\">classification</span> <span class=\"k\">in</span> <span class=\"n\">topClassifications</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">classification</span><span class=\"p\">.</span><span class=\"n\">identifier</span><span class=\"p\">.</span><span class=\"bp\">contains</span><span class=\"p\">(</span><span class=\"s\">&#34;monitor&#34;</span><span class=\"p\">)</span>\n    <span class=\"o\">&amp;&amp;</span> <span class=\"n\">classification</span><span class=\"p\">.</span><span class=\"n\">confidence</span> <span class=\"o\">&gt;=</span> <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">thresholdPropability</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">guard</span> <span class=\"kd\">let</span> <span class=\"nv\">bestImage</span> <span class=\"p\">=</span> <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">getImageFromPixelBuffer</span><span class=\"p\">(</span><span class=\"n\">pixelBuffer</span><span class=\"p\">:</span> <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">thresholdBest</span><span class=\"p\">)</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n            <span class=\"bp\">print</span><span class=\"p\">(</span><span class=\"s\">&#34;could not get UIImage from pixel buffer&#34;</span><span class=\"p\">)</span>\n            <span class=\"k\">return</span>\n        <span class=\"p\">}</span>\n        \n        <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">performSegue</span><span class=\"p\">(</span><span class=\"n\">withIdentifier</span><span class=\"p\">:</span> <span class=\"s\">&#34;CameraToBestImage&#34;</span><span class=\"p\">,</span> <span class=\"n\">sender</span><span class=\"p\">:</span> <span class=\"n\">bestImage</span><span class=\"p\">)</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span></code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 2: ç…§ç‰‡æ“ä½œ</b></p><p>æˆ‘ä»¬ç»™æ‹å¥½çš„ç…§ç‰‡æ·»åŠ ç¼©æ”¾å’Œä½ç§»æ‰‹åŠ¿ï¼Œè¿™éƒ¨åˆ†é€»è¾‘å®ç°å¾ˆå®¹æ˜“ç™¾åº¦åˆ°ï¼š</p><div class=\"highlight\"><pre><code class=\"language-swift\"><span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">imageView</span><span class=\"p\">.</span><span class=\"n\">image</span> <span class=\"p\">=</span> <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">image</span>\n<span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">imageView</span><span class=\"p\">.</span><span class=\"n\">isUserInteractionEnabled</span> <span class=\"p\">=</span> <span class=\"kc\">true</span>\n\n<span class=\"kd\">let</span> <span class=\"nv\">pinchGesture</span> <span class=\"p\">=</span> <span class=\"n\">UIPinchGestureRecognizer</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"p\">:</span> <span class=\"kc\">self</span><span class=\"p\">,</span> <span class=\"n\">action</span><span class=\"p\">:</span> <span class=\"k\">#selector</span><span class=\"p\">(</span><span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">pinchGestureHandler</span><span class=\"p\">))</span>\n<span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">imageView</span><span class=\"p\">.</span><span class=\"n\">addGestureRecognizer</span><span class=\"p\">(</span><span class=\"n\">pinchGesture</span><span class=\"p\">)</span>\n\n<span class=\"kd\">let</span> <span class=\"nv\">panGesture</span> <span class=\"p\">=</span> <span class=\"n\">UIPanGestureRecognizer</span><span class=\"p\">(</span><span class=\"n\">target</span><span class=\"p\">:</span> <span class=\"kc\">self</span><span class=\"p\">,</span> <span class=\"n\">action</span><span class=\"p\">:</span> <span class=\"k\">#selector</span><span class=\"p\">(</span><span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">panGestureHandler</span><span class=\"p\">))</span>\n<span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">imageView</span><span class=\"p\">.</span><span class=\"n\">addGestureRecognizer</span><span class=\"p\">(</span><span class=\"n\">panGesture</span><span class=\"p\">)</span></code></pre></div><p>å®ç°åŒæŒ‡ç¼©æ”¾æ‰‹åŠ¿ï¼š</p><div class=\"highlight\"><pre><code class=\"language-swift\"><span class=\"kr\">@objc</span> <span class=\"kd\">func</span> <span class=\"nf\">pinchGestureHandler</span><span class=\"p\">(</span><span class=\"n\">recognizer</span><span class=\"p\">:</span> <span class=\"n\">UIPinchGestureRecognizer</span><span class=\"p\">)</span> <span class=\"p\">-&gt;</span> <span class=\"nb\">Void</span> <span class=\"p\">{</span>\n    <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">imageView</span><span class=\"p\">.</span><span class=\"n\">transform</span> <span class=\"p\">=</span> <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">imageView</span><span class=\"p\">.</span><span class=\"n\">transform</span><span class=\"p\">.</span><span class=\"n\">scaledBy</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">:</span> <span class=\"n\">recognizer</span><span class=\"p\">.</span><span class=\"n\">scale</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">:</span> <span class=\"n\">recognizer</span><span class=\"p\">.</span><span class=\"n\">scale</span><span class=\"p\">)</span>\n    \n    <span class=\"k\">if</span> <span class=\"n\">recognizer</span><span class=\"p\">.</span><span class=\"n\">state</span> <span class=\"p\">==</span> <span class=\"p\">.</span><span class=\"n\">ended</span> <span class=\"p\">{</span>\n        <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">scale</span> <span class=\"p\">=</span> <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">imageView</span><span class=\"p\">.</span><span class=\"n\">transform</span><span class=\"p\">.</span><span class=\"n\">a</span>\n        \n        <span class=\"k\">if</span> <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">scale</span> <span class=\"o\">&lt;</span> <span class=\"mf\">0.75</span> <span class=\"p\">{</span>\n            <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">scale</span> <span class=\"p\">=</span> <span class=\"mf\">0.75</span>\n            <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">imageView</span><span class=\"p\">.</span><span class=\"n\">transform</span> <span class=\"p\">=</span> <span class=\"n\">CGAffineTransform</span><span class=\"p\">.</span><span class=\"n\">identity</span><span class=\"p\">.</span><span class=\"n\">scaledBy</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">:</span> <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">scale</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">:</span> <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">scale</span><span class=\"p\">)</span>\n        <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"k\">if</span> <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">scale</span> <span class=\"o\">&gt;</span> <span class=\"mi\">2</span> <span class=\"p\">{</span>\n            <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">scale</span> <span class=\"p\">=</span> <span class=\"mi\">2</span>\n            <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">imageView</span><span class=\"p\">.</span><span class=\"n\">transform</span> <span class=\"p\">=</span> <span class=\"n\">CGAffineTransform</span><span class=\"p\">.</span><span class=\"n\">identity</span><span class=\"p\">.</span><span class=\"n\">scaledBy</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">:</span> <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">scale</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">:</span> <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">scale</span><span class=\"p\">)</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n    \n    <span class=\"n\">recognizer</span><span class=\"p\">.</span><span class=\"n\">scale</span> <span class=\"p\">=</span> <span class=\"mi\">1</span>\n<span class=\"p\">}</span></code></pre></div><p>å®ç°å•æŒ‡ä½ç§»æ‰‹åŠ¿ï¼š</p><div class=\"highlight\"><pre><code class=\"language-swift\"><span class=\"kr\">@objc</span> <span class=\"kd\">func</span> <span class=\"nf\">panGestureHandler</span><span class=\"p\">(</span><span class=\"n\">recognizer</span><span class=\"p\">:</span> <span class=\"n\">UIPanGestureRecognizer</span><span class=\"p\">)</span> <span class=\"p\">-&gt;</span> <span class=\"nb\">Void</span> <span class=\"p\">{</span>\n    <span class=\"c1\">//æ‹–æ‹½çš„è·ç¦»(è·ç¦»æ˜¯ä¸€ä¸ªç´¯åŠ )</span>\n    <span class=\"kd\">let</span> <span class=\"nv\">trans</span> <span class=\"p\">=</span> <span class=\"n\">recognizer</span><span class=\"p\">.</span><span class=\"n\">translation</span><span class=\"p\">(</span><span class=\"k\">in</span><span class=\"p\">:</span> <span class=\"n\">recognizer</span><span class=\"p\">.</span><span class=\"n\">view</span><span class=\"p\">)</span>\n\n    <span class=\"kd\">var</span> <span class=\"nv\">center</span> <span class=\"p\">=</span>  <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">imageView</span><span class=\"p\">.</span><span class=\"n\">center</span><span class=\"p\">;</span>\n    <span class=\"n\">center</span><span class=\"p\">.</span><span class=\"n\">x</span> <span class=\"o\">+=</span> <span class=\"n\">trans</span><span class=\"p\">.</span><span class=\"n\">x</span> <span class=\"o\">*</span> <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">scale</span><span class=\"p\">;</span>\n    <span class=\"n\">center</span><span class=\"p\">.</span><span class=\"n\">y</span> <span class=\"o\">+=</span> <span class=\"n\">trans</span><span class=\"p\">.</span><span class=\"n\">y</span> <span class=\"o\">*</span> <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">scale</span><span class=\"p\">;</span>\n    <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">imageView</span><span class=\"p\">.</span><span class=\"n\">center</span> <span class=\"p\">=</span> <span class=\"n\">center</span><span class=\"p\">;</span>\n    \n    <span class=\"n\">recognizer</span><span class=\"p\">.</span><span class=\"n\">setTranslation</span><span class=\"p\">(</span><span class=\"n\">CGPoint</span><span class=\"p\">.</span><span class=\"n\">zero</span><span class=\"p\">,</span> <span class=\"k\">in</span><span class=\"p\">:</span> <span class=\"n\">recognizer</span><span class=\"p\">.</span><span class=\"n\">view</span><span class=\"p\">)</span>\n<span class=\"p\">}</span></code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 3: é˜ˆå€¼äº¤äº’</b></p><p>è¿˜è®°å¾—ä¹‹å‰è®¾ç½®çš„æ¸…æ™°åº¦é˜ˆå€¼ thresholdBlur å’Œç›®æ ‡ç‰©ä½“ç½®ä¿¡åº¦é˜ˆå€¼ thresholdPropabilityï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ä¸ªå¸¸è§çš„æ»‘åŠ¨æ¡ UISlider æ§åˆ¶æ”¹å˜è¿™ä¸¤ä¸ªé˜ˆå€¼ï¼š</p><div class=\"highlight\"><pre><code class=\"language-swift\"><span class=\"kr\">@objc</span> <span class=\"kd\">func</span> <span class=\"nf\">sliderValueChanged</span><span class=\"p\">()</span> <span class=\"p\">-&gt;</span> <span class=\"nb\">Void</span> <span class=\"p\">{</span>\n    <span class=\"kd\">let</span> <span class=\"nv\">sliderValue</span> <span class=\"p\">=</span> <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">slider</span><span class=\"p\">.</span><span class=\"n\">value</span>\n    <span class=\"k\">if</span> <span class=\"n\">sliderValue</span> <span class=\"o\">&gt;</span> <span class=\"mf\">1.0</span> <span class=\"p\">{</span>\n        <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">thresholdBlur</span> <span class=\"p\">=</span> <span class=\"nb\">Int</span><span class=\"p\">(</span><span class=\"n\">sliderValue</span><span class=\"p\">)</span>\n        <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">labelThresholdKey</span><span class=\"p\">.</span><span class=\"n\">text</span> <span class=\"p\">=</span> <span class=\"s\">&#34;Blur é˜ˆå€¼:&#34;</span>\n        <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">labelThresholdValue</span><span class=\"p\">.</span><span class=\"n\">text</span> <span class=\"p\">=</span> <span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">thresholdBlur</span><span class=\"p\">)</span>\n    <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n        <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">thresholdPropability</span> <span class=\"p\">=</span> <span class=\"n\">sliderValue</span>\n        <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">labelThresholdKey</span><span class=\"p\">.</span><span class=\"n\">text</span> <span class=\"p\">=</span> <span class=\"s\">&#34;Model é˜ˆå€¼:&#34;</span>\n        <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">labelThresholdValue</span><span class=\"p\">.</span><span class=\"n\">text</span> <span class=\"p\">=</span> <span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"n\">format</span><span class=\"p\">:</span> <span class=\"s\">&#34;%.2f&#34;</span><span class=\"p\">,</span> <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">thresholdPropability</span><span class=\"p\">)</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span></code></pre></div><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å®Œæˆäº†ä¸€ä¸ªå®Œæ•´å¹¶èªæ˜çš„iOS APPï¼Œä½†åˆ«å¿˜äº†æˆ‘ä»¬ç»™è‡ªå·±ç«‹çš„FlagæŒ‘æˆ˜ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 3: èªæ˜è¿‡å¤´çš„ iOS APP</b></h2><p>èªæ˜çš„ç®—æ³•èƒ½å‘Šè¯‰ä½ è¿™å¼ å›¾é‡Œæœ‰ä»€ä¹ˆï¼Œæ›´èªæ˜çš„ç®—æ³•åº”è¯¥èƒ½å‘Šè¯‰ä½ è¿™å¼ å›¾é‡Œæœ‰ä»€ä¹ˆï¼Œå¹¶ä¸”åœ¨å“ªé‡Œã€‚</p><p>æ˜¯çš„æ²¡é”™ï¼Œåœ¨è¿™é‡Œå°±ç›´æ¥æŠŠä¸¤ä½ç‰©ä½“æ£€æµ‹ AI å¤§ä½¬ä»‹ç»ç»™å„ä½ç©å®¶ï¼Œä»–ä»¬æ˜¯ YOLO å’Œ SSDï¼Œæœ¬æ–‡æˆ‘ä»¬å…ˆä»‹ç»å¦‚ä½•ä½¿ç”¨ YOLO æ¨¡å‹ã€‚</p><blockquote><i>å…³äº YOLO çš„å…·ä½“ä»‹ç»å¯ä»¥å‚è€ƒ <b>é˜…è¯»æ­¤æ–‡å…ˆè§£é”æŠ€èƒ½</b>ï¼Œæœ¬æ–‡å°†ä¸åšè¯¦è§£</i></blockquote><p>é¦–å…ˆåˆå§‹åŒ– YOLO æ¨¡å‹ï¼Œå¹¶ä»ç„¶æŒ‡å®šæ¨¡å‹é¢„æµ‹åå›è°ƒçš„å¤„ç†å‡½æ•° predictDidCompleteï¼Œæ³¨æ„ YOLO æ¨¡å‹çš„è¾“å…¥å›¾åƒé¢„å¤„ç†éœ€è¦ä½¿ç”¨ scaleFill è€Œé centerCropï¼š</p><div class=\"highlight\"><pre><code class=\"language-swift\"><span class=\"kd\">let</span> <span class=\"nv\">model</span> <span class=\"p\">=</span> <span class=\"k\">try</span> <span class=\"n\">VNCoreMLModel</span><span class=\"p\">(</span><span class=\"k\">for</span><span class=\"p\">:</span> <span class=\"n\">TinyYOLO</span><span class=\"p\">().</span><span class=\"n\">model</span><span class=\"p\">)</span>\n<span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">classificationRequest</span> <span class=\"p\">=</span> <span class=\"n\">VNCoreMLRequest</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"p\">:</span> <span class=\"n\">model</span><span class=\"p\">,</span> <span class=\"n\">completionHandler</span><span class=\"p\">:</span> <span class=\"n\">predictDidComplete</span><span class=\"p\">)</span>\n<span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">classificationRequest</span><span class=\"p\">.</span><span class=\"n\">imageCropAndScaleOption</span> <span class=\"p\">=</span> <span class=\"p\">.</span><span class=\"n\">scaleFill</span></code></pre></div><p>ç„¶åè¿›è¡Œæ¨¡å‹é¢„æµ‹ï¼Œå’Œä¹‹å‰çš„æ¨¡å‹é¢„æµ‹å¹¶æ— åŒºåˆ«ï¼š</p><div class=\"highlight\"><pre><code class=\"language-swift\"><span class=\"kd\">func</span> <span class=\"nf\">predictClassification</span><span class=\"p\">(</span><span class=\"n\">pixelBuffer</span><span class=\"p\">:</span> <span class=\"n\">CVPixelBuffer</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">semaphore</span><span class=\"p\">.</span><span class=\"n\">wait</span><span class=\"p\">()</span>\n        \n    <span class=\"n\">DispatchQueue</span><span class=\"p\">.</span><span class=\"n\">global</span><span class=\"p\">(</span><span class=\"n\">qos</span><span class=\"p\">:</span> <span class=\"p\">.</span><span class=\"n\">userInitiated</span><span class=\"p\">).</span><span class=\"n\">async</span> <span class=\"p\">{</span>\n    <span class=\"kd\">let</span> <span class=\"nv\">handler</span> <span class=\"p\">=</span> <span class=\"n\">VNImageRequestHandler</span><span class=\"p\">(</span><span class=\"n\">cvPixelBuffer</span><span class=\"p\">:</span> <span class=\"n\">pixelBuffer</span><span class=\"p\">)</span>\n        <span class=\"k\">do</span> <span class=\"p\">{</span>\n            <span class=\"k\">try</span> <span class=\"n\">handler</span><span class=\"p\">.</span><span class=\"n\">perform</span><span class=\"p\">([</span><span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">classificationRequest</span><span class=\"p\">])</span>\n        <span class=\"p\">}</span> <span class=\"k\">catch</span> <span class=\"p\">{</span>\n            <span class=\"bp\">print</span><span class=\"p\">(</span><span class=\"s\">&#34;Failed to perform classification.</span><span class=\"se\">\\n</span><span class=\"si\">\\(</span><span class=\"n\">error</span><span class=\"p\">.</span><span class=\"n\">localizedDescription</span><span class=\"si\">)</span><span class=\"s\">&#34;</span><span class=\"p\">)</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span></code></pre></div><p>å¤„ç† YOLO æ¨¡å‹é¢„æµ‹ç»“æœå‰ï¼Œå…ˆç§‘æ™®ä¸€ä¸‹ YOLO é¢„æµ‹ç»“æœçš„æ•°æ®ç»“æ„é•¿ä»€ä¹ˆæ ·å­ï¼š</p><ol><li>clssIndexï¼šç‰©ä½“åˆ†ç±»ç´¢å¼•</li><li>scoreï¼šç‰©ä½“åˆ†ç±»ç½®ä¿¡åº¦</li><li>rectï¼šç‰©ä½“æ‰€åœ¨çš„ä½ç½®åæ ‡</li></ol><div class=\"highlight\"><pre><code class=\"language-swift\"><span class=\"kd\">struct</span> <span class=\"nc\">Prediction</span> <span class=\"p\">{</span>\n    <span class=\"kd\">let</span> <span class=\"nv\">classIndex</span><span class=\"p\">:</span> <span class=\"nb\">Int</span>\n    <span class=\"kd\">let</span> <span class=\"nv\">score</span><span class=\"p\">:</span> <span class=\"nb\">Float</span>\n    <span class=\"kd\">let</span> <span class=\"nv\">rect</span><span class=\"p\">:</span> <span class=\"n\">CGRect</span>\n<span class=\"p\">}</span></code></pre></div><p>æœ€åå¤„ç† YOLO æ¨¡å‹é¢„æµ‹ç»“æœï¼š</p><ol><li>YOLO çš„ç»“æœæ•°æ®ç±»å‹æ˜¯ VNCoreMLFeatureValueObservationï¼ŒåŒºåˆ«äºå…¶å®ƒæ¨¡å‹ç»“æœç±»å‹ VNClassificationObservation</li><li>YOLO.computePredictions å°è£…äº†å¯¹ YOLO é¢„æµ‹ç»“æœçš„åæ ‡è®¡ç®—è¿‡ç¨‹</li><li>for å¾ªç¯çš„ä»£ç æœ‰ç‚¹å†—é•¿ï¼Œä¸»è¦é€»è¾‘æ˜¯å°† YOLO åæ ‡ç³»çš„åæ ‡ä½ç½®è½¬æ¢ä¸º iPhone åæ ‡ç³»çš„åæ ‡ä½ç½®ã€‚å¹¶æ˜¾ç¤ºå‡ºå®šä½ç‰©ä½“çš„è¾¹æ¡† BoundingBoxã€‚</li></ol><blockquote><i>éœ€è¦è½¬æ¢åæ ‡ç³»çš„åŸå› æ˜¯ YOLO æ¨¡å‹é¢„æµ‹çš„è§†é¢‘æµå›¾åƒå¸§æ•°æ®ä¸è‚‰çœ¼çœ‹åˆ°çš„ iPhone å¤„ç†åçš„å›¾åƒæœ‰90åº¦çš„æ—‹è½¬ã€‚</i></blockquote><div class=\"highlight\"><pre><code class=\"language-swift\"><span class=\"kd\">let</span> <span class=\"nv\">featureValues</span> <span class=\"p\">=</span> <span class=\"n\">results</span> <span class=\"k\">as</span><span class=\"o\">!</span> <span class=\"p\">[</span><span class=\"n\">VNCoreMLFeatureValueObservation</span><span class=\"p\">]</span>\n<span class=\"kd\">let</span> <span class=\"nv\">features</span> <span class=\"p\">=</span> <span class=\"n\">featureValues</span><span class=\"p\">.</span><span class=\"bp\">first</span><span class=\"o\">!</span><span class=\"p\">.</span><span class=\"n\">featureValue</span><span class=\"p\">.</span><span class=\"n\">multiArrayValue</span><span class=\"o\">!</span>\n\n<span class=\"kd\">let</span> <span class=\"nv\">predictions</span> <span class=\"p\">=</span> <span class=\"n\">YOLO</span><span class=\"p\">.</span><span class=\"n\">computePredictions</span><span class=\"p\">(</span><span class=\"n\">features</span><span class=\"p\">:</span> <span class=\"n\">features</span><span class=\"p\">)</span>\n<span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"k\">in</span> <span class=\"mf\">0.</span><span class=\"p\">.&lt;</span><span class=\"n\">YOLO</span><span class=\"p\">.</span><span class=\"n\">boundingBoxes</span><span class=\"p\">.</span><span class=\"bp\">count</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"n\">i</span> <span class=\"o\">&lt;</span> <span class=\"n\">predictions</span><span class=\"p\">.</span><span class=\"bp\">count</span> <span class=\"p\">{</span>\n        <span class=\"kd\">let</span> <span class=\"nv\">prediction</span> <span class=\"p\">=</span> <span class=\"n\">predictions</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">]</span>\n        \n        <span class=\"cm\">/*\n</span><span class=\"cm\">         ** YOLO Coordinate\n</span><span class=\"cm\">         */</span>\n        <span class=\"kd\">let</span> <span class=\"nv\">heightYolo</span> <span class=\"p\">=</span> <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">imageView</span><span class=\"p\">.</span><span class=\"n\">bounds</span><span class=\"p\">.</span><span class=\"n\">width</span>\n        <span class=\"kd\">let</span> <span class=\"nv\">widthYolo</span> <span class=\"p\">=</span> <span class=\"n\">heightYolo</span> <span class=\"o\">*</span> <span class=\"mi\">4</span> <span class=\"o\">/</span> <span class=\"mi\">3</span>\n        <span class=\"kd\">let</span> <span class=\"nv\">scaleXYolo</span> <span class=\"p\">=</span> <span class=\"n\">widthYolo</span> <span class=\"o\">/</span> <span class=\"n\">CGFloat</span><span class=\"p\">(</span><span class=\"n\">YOLO</span><span class=\"p\">.</span><span class=\"n\">inputWidth</span><span class=\"p\">)</span>\n        <span class=\"kd\">let</span> <span class=\"nv\">scaleYYolo</span> <span class=\"p\">=</span> <span class=\"n\">heightYolo</span> <span class=\"o\">/</span> <span class=\"n\">CGFloat</span><span class=\"p\">(</span><span class=\"n\">YOLO</span><span class=\"p\">.</span><span class=\"n\">inputHeight</span><span class=\"p\">)</span>\n        \n        <span class=\"c1\">// Translate and scale the rectangle.</span>\n        <span class=\"kd\">var</span> <span class=\"nv\">rectYolo</span> <span class=\"p\">=</span> <span class=\"n\">prediction</span><span class=\"p\">.</span><span class=\"n\">rect</span>\n        <span class=\"n\">rectYolo</span><span class=\"p\">.</span><span class=\"n\">origin</span><span class=\"p\">.</span><span class=\"n\">x</span> <span class=\"o\">*=</span> <span class=\"n\">scaleXYolo</span>\n        <span class=\"n\">rectYolo</span><span class=\"p\">.</span><span class=\"n\">origin</span><span class=\"p\">.</span><span class=\"n\">y</span> <span class=\"o\">*=</span> <span class=\"n\">scaleYYolo</span>\n        <span class=\"n\">rectYolo</span><span class=\"p\">.</span><span class=\"n\">size</span><span class=\"p\">.</span><span class=\"n\">width</span> <span class=\"o\">*=</span> <span class=\"n\">scaleXYolo</span>\n        <span class=\"n\">rectYolo</span><span class=\"p\">.</span><span class=\"n\">size</span><span class=\"p\">.</span><span class=\"n\">height</span> <span class=\"o\">*=</span> <span class=\"n\">scaleYYolo</span>\n        \n        <span class=\"cm\">/*\n</span><span class=\"cm\">         ** iPhone Coordinate\n</span><span class=\"cm\">         */</span>\n        <span class=\"kd\">let</span> <span class=\"nv\">width</span> <span class=\"p\">=</span> <span class=\"n\">heightYolo</span>\n        <span class=\"kd\">let</span> <span class=\"nv\">height</span> <span class=\"p\">=</span> <span class=\"n\">widthYolo</span>\n        <span class=\"kd\">let</span> <span class=\"nv\">top</span> <span class=\"p\">=</span> <span class=\"p\">(</span><span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">imageView</span><span class=\"p\">.</span><span class=\"n\">bounds</span><span class=\"p\">.</span><span class=\"n\">height</span> <span class=\"o\">-</span> <span class=\"n\">height</span><span class=\"p\">)</span> <span class=\"o\">/</span> <span class=\"mi\">2</span>\n        \n        <span class=\"kd\">var</span> <span class=\"nv\">rect</span> <span class=\"p\">=</span> <span class=\"n\">prediction</span><span class=\"p\">.</span><span class=\"n\">rect</span>\n        <span class=\"n\">rect</span><span class=\"p\">.</span><span class=\"n\">origin</span><span class=\"p\">.</span><span class=\"n\">x</span> <span class=\"p\">=</span> <span class=\"n\">width</span> <span class=\"o\">-</span> <span class=\"n\">rectYolo</span><span class=\"p\">.</span><span class=\"n\">origin</span><span class=\"p\">.</span><span class=\"n\">y</span> <span class=\"o\">-</span> <span class=\"n\">rectYolo</span><span class=\"p\">.</span><span class=\"n\">size</span><span class=\"p\">.</span><span class=\"n\">height</span>\n        <span class=\"n\">rect</span><span class=\"p\">.</span><span class=\"n\">origin</span><span class=\"p\">.</span><span class=\"n\">y</span> <span class=\"p\">=</span> <span class=\"n\">rectYolo</span><span class=\"p\">.</span><span class=\"n\">origin</span><span class=\"p\">.</span><span class=\"n\">x</span>\n        <span class=\"n\">rect</span><span class=\"p\">.</span><span class=\"n\">origin</span><span class=\"p\">.</span><span class=\"n\">y</span> <span class=\"o\">+=</span> <span class=\"n\">top</span>\n        <span class=\"n\">rect</span><span class=\"p\">.</span><span class=\"n\">size</span><span class=\"p\">.</span><span class=\"n\">width</span> <span class=\"p\">=</span> <span class=\"n\">rectYolo</span><span class=\"p\">.</span><span class=\"n\">size</span><span class=\"p\">.</span><span class=\"n\">height</span>\n        <span class=\"n\">rect</span><span class=\"p\">.</span><span class=\"n\">size</span><span class=\"p\">.</span><span class=\"n\">height</span> <span class=\"p\">=</span> <span class=\"n\">rectYolo</span><span class=\"p\">.</span><span class=\"n\">size</span><span class=\"p\">.</span><span class=\"n\">width</span>\n        \n        <span class=\"c1\">// Show the bounding box.</span>\n        <span class=\"kd\">let</span> <span class=\"nv\">label</span> <span class=\"p\">=</span> <span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"n\">format</span><span class=\"p\">:</span> <span class=\"s\">&#34;%@ %.1f&#34;</span><span class=\"p\">,</span> <span class=\"n\">YOLO</span><span class=\"p\">.</span><span class=\"n\">labels</span><span class=\"p\">[</span><span class=\"n\">prediction</span><span class=\"p\">.</span><span class=\"n\">classIndex</span><span class=\"p\">],</span> <span class=\"n\">prediction</span><span class=\"p\">.</span><span class=\"n\">score</span> <span class=\"o\">*</span> <span class=\"mi\">100</span><span class=\"p\">)</span>\n        <span class=\"kd\">let</span> <span class=\"nv\">color</span> <span class=\"p\">=</span> <span class=\"n\">YOLO</span><span class=\"p\">.</span><span class=\"n\">colors</span><span class=\"p\">[</span><span class=\"n\">prediction</span><span class=\"p\">.</span><span class=\"n\">classIndex</span><span class=\"p\">]</span>\n        <span class=\"n\">YOLO</span><span class=\"p\">.</span><span class=\"n\">boundingBoxes</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">].</span><span class=\"n\">show</span><span class=\"p\">(</span><span class=\"n\">frame</span><span class=\"p\">:</span> <span class=\"n\">rect</span><span class=\"p\">,</span> <span class=\"n\">label</span><span class=\"p\">:</span> <span class=\"n\">label</span><span class=\"p\">,</span> <span class=\"n\">color</span><span class=\"p\">:</span> <span class=\"n\">color</span><span class=\"p\">)</span>\n    <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n        <span class=\"n\">YOLO</span><span class=\"p\">.</span><span class=\"n\">boundingBoxes</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">].</span><span class=\"n\">hide</span><span class=\"p\">()</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span></code></pre></div><p>æ­¤å¤„åº”æœ‰æŒå£°~</p><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 4: Make your hands dirty</b></h2><p>æˆ‘ä»¬å‡ ä¹å®ç°äº†ä¸€ä¸ªå®Œç¾èªæ˜çš„ iOS APPï¼Œè‡³å°‘åœ¨è¯†åˆ«ç‰©ä½“è‡ªåŠ¨æ‹ç…§æ–¹é¢å®ƒæ˜¯å®Œç¾çš„ã€‚</p><p><a href=\"https://link.zhihu.com/?target=https%3A//github.com/fengjihua/DemoCoreML/releases/tag/v0.2\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">æœ€åçŒ®ä¸Šæºä»£ç </a>å’Œ <a href=\"https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1jIW4o7s\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">YOLO æ¨¡å‹</a>ï¼Œå¹¶å¸Œæœ›å„ä½ç©å®¶è‡ªå·±ä¹Ÿå¯ä»¥ä»å·¥ä½œå­¦ä¹ ä¸­å†™å‡ºæ›´èªæ˜çš„åº”ç”¨ã€‚</p><hr/><p><i>å¦‚éœ€åˆä½œæˆ–è½¬è½½è¯·è”ç³»æœ¬æ–‡ä½œè€…ï¼Œè·ªè°¢</i></p>", 
            "topic": [
                {
                    "tag": "äººå·¥æ™ºèƒ½", 
                    "tagLink": "https://api.zhihu.com/topics/19551275"
                }, 
                {
                    "tag": "iOS å¼€å‘", 
                    "tagLink": "https://api.zhihu.com/topics/19555404"
                }, 
                {
                    "tag": "ç‰©ä½“è¯†åˆ«", 
                    "tagLink": "https://api.zhihu.com/topics/19617234"
                }
            ], 
            "comments": []
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/33376737", 
            "userName": "é•¿è„š", 
            "userLink": "https://www.zhihu.com/people/59e31f1c355dd88f47fd61d2937b02aa", 
            "upvote": 5, 
            "title": "5åˆ†é’ŸGET AI - å†™ä¸€æ¬¾èªæ˜çš„ iOS App", 
            "content": "<p>æœ¬æ–‡æ”»ç•¥ï¼šä½¿ç”¨è®¡ç®—æœºè§†è§‰å’ŒAIæŠ€æœ¯ï¼Œå¼€å‘ä¸€ä¸ªèƒ½è‡ªåŠ¨è¯†åˆ«ç‰©ä½“çš„ iOS App</p><p>å»ºè®®ç©å®¶ç­‰çº§ï¼šAIé›¶åŸºç¡€ï¼Œå­¦ç”Ÿå…šï¼Œåˆçº§ç å†œ</p><p class=\"ztext-empty-paragraph\"><br/></p><p>é˜…è¯»æ­¤æ–‡å…ˆè§£é”æŠ€èƒ½ï¼š</p><ol><li>Swift åŸºç¡€  <a href=\"https://link.zhihu.com/?target=http%3A//www.runoob.com/swift/swift-tutorial.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">å­¦ä¸€å­¦è¿™é—¨å‡ºèº«åé—¨çš„è¯­è¨€</a></li><li>Object-C åŸºç¡€  <a href=\"https://link.zhihu.com/?target=http%3A//www.runoob.com/w3cnote/objective-c-tutorial.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">å­¦ä¸€å­¦è¿™é—¨ä¸å—äººå¾…è§çš„è¯­è¨€</a></li><li>ä½¿ç”¨ Xcode å®Œæˆ Hello World</li><li>ä¸€ç‚¹ç‚¹è®¡ç®—æœºè§†è§‰åŸºç¡€</li><li>ä¸€ç‚¹ç‚¹ AI åŸºç¡€</li></ol><p>å®è·µæ­¤æ–‡æ¨èè£…å¤‡ï¼š</p><ol><li>æ“ä½œç³»ç»Ÿï¼šmacOS Sierra 10.12.6+</li><li>IDEï¼šXcode 9.2+</li><li>è®¾å¤‡ï¼šiPhone/iPadä¸€éƒ¨ï¼Œè¿è¡Œ iOS 11.0+</li><li>è‹¹æœå¼€å‘è€…è´¦å·ä¸€ä¸ªï¼ˆæ¯å¹´æŒ‰æ—¶äº¤99ç¾åˆ€å¼€å‘ç¨çš„è´¦å·ï¼‰</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 1: äº§å“æ€ç»´é©±åŠ¨å¼€å‘</b></h2><p>PO ä¸»æœ€è¿‘æ¥åˆ°ä¸€ä¸ªä»»åŠ¡ï¼Œå®¢æˆ·çš„ä¸€æ¬¾APPåœ¨æ‹ç…§åœºæ™¯ä¸‹è¡¨ç°çš„ä¸å¤Ÿä¼˜ç§€ï¼Œä¸»è¦è¡¨ç°å‡º2ä¸ªé—®é¢˜ï¼š</p><ol><li>æ‹ç…§æ—¶ç”¨æˆ·ç»å¸¸æ‰‹æŠ–ï¼Œå¯¼è‡´ç…§ç‰‡æ¸…æ™°åº¦ä¸å¤Ÿï¼Œæ— æ³•è¿›è¡Œå‡†ç¡®çš„ç—…æƒ…åˆ†æ</li><li>ç”¨æˆ·éœ€è¦å¯¹å‡†æŒ‡å®šçš„éƒ¨ä½ï¼ˆä¾‹å¦‚çœ¼ç›ï¼‰è¿›è¡Œæ‹ç…§ï¼Œå¹¶å°†è¯¥éƒ¨ä½ç½®äºç…§ç‰‡ä¸­é—´ï¼Œç³»ç»Ÿæ‰èƒ½åšå‡ºå‡†ç¡®çš„éƒ¨ä½ï¼ˆçœ¼ç›ï¼‰ç—…æƒ…åˆ†æ</li></ol><p>è¿™ä¸¤ä¸ªé—®é¢˜å¼•å‘äº†å…³äºäº§å“çš„æ€è€ƒï¼š</p><ol><li>ç”¨æˆ·æ€»æ˜¯å®¹æ˜“çŠ¯é”™çš„ï¼Œè¿™ä¸æ˜¯ç”¨æˆ·çš„é”™ï¼Œæ›´ä¸æ˜¯äº§å“æ¨è„±è´£ä»»çš„å€Ÿå£</li><li>ä¼˜ç§€çš„äº§å“åº”è¯¥æ˜¯èªæ˜çš„ï¼Œå®ƒåº”è¯¥è®©ç”¨æˆ·åšæœ€ç®€å•çš„æ“ä½œï¼Œå¾—åˆ°æœ€å®Œç¾çš„ç»“æœ</li></ol><p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬æ¥æƒ³è±¡ä¸€ä¸‹æè‡´çš„ç”¨æˆ·ä½“éªŒåº”è¯¥æ˜¯æ€æ ·çš„ï¼š</p><ol><li>ç”¨æˆ·åšæœ€ç®€å•çš„æ“ä½œï¼šæ‰“å¼€ APP -&gt; æ‰“å¼€æ‘„åƒå¤´ -&gt; å¯¹ç€æŒ‡å®šéƒ¨ä½ï¼ˆçœ¼ç›ï¼‰</li><li>å¾—åˆ°äº†æœ€å®Œç¾çš„ç»“æœï¼šä¸€å¼ æ¸…æ™°çš„ç…§ç‰‡ï¼Œç…§ç‰‡ä¸­é—´æ˜¯æŒ‡å®šçš„éƒ¨ä½ï¼ˆçœ¼ç›ï¼‰</li></ol><p>ä»æœ€ç®€å•çš„ç”¨æˆ·æ“ä½œåˆ°æœ€å®Œç¾çš„ç”¨æˆ·ç»“æœçš„æ‰€æœ‰ä¸­é—´è¿‡ç¨‹ï¼Œé‚£å°±åº”è¯¥æ˜¯è¿™æ¬¾äº§å“çš„è´£ä»»å’Œä½¿å‘½ï¼Œå®ƒéœ€è¦è¶³å¤Ÿèªæ˜åšåˆ°ä»¥ä¸‹3ç‚¹ï¼š</p><ol><li>è¯†åˆ«æ¸…æ™°åº¦</li><li>è¯†åˆ«ç‰©ä½“ï¼ˆçœ¼ç›ï¼‰</li><li>å½“è¢«è¯†åˆ«çš„æŒ‡å®šç‰©ä½“ï¼ˆçœ¼ç›ï¼‰ä½äºä¸­é—´ï¼Œå¹¶ä¸”è¶³å¤Ÿæ¸…æ™°æ—¶ï¼Œè‡ªåŠ¨æŒ‰ä¸‹å¿«é—¨ä¿å­˜ç…§ç‰‡</li></ol><p>è¿™3ç‚¹å°±æ˜¯è¿™æ¬¡çš„ä»»åŠ¡ç›®æ ‡äº†ï¼Œä¸ºäº†åšåˆ°è¿™3ç‚¹ï¼ˆå°¤å…¶æ˜¯å‰é¢2ç‚¹ï¼Œæ„Ÿè§‰è²Œä¼¼æŒºéš¾çš„ï¼‰ï¼Œæˆ‘ä»¬ä¼šé™†ç»­ä»‹ç»é‡é‡çº§äººç‰©ä¸€ä¸€ç™»åœºï¼Œç™»åœºä¹‹å‰å…ˆæ¥çœ‹ä¸‹æˆ‘ä»¬è¿™æ¬¡è¦å®Œæˆçš„ Demo é¢œå€¼ï¼ˆå®è·µè¯æ˜æ‰‹åŠ¨æˆªå›¾ä¼šæ¨¡ç³Šç¡®å®æ˜¯ç”¨æˆ·ä¸å¯é¿å…çš„é”™è¯¯ï¼‰</p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-02e9e1d7db22c8f3ba905acff810b28b_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2289\" data-rawheight=\"1358\" class=\"origin_image zh-lightbox-thumb\" width=\"2289\" data-original=\"https://pic4.zhimg.com/v2-02e9e1d7db22c8f3ba905acff810b28b_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;2289&#39; height=&#39;1358&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2289\" data-rawheight=\"1358\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"2289\" data-original=\"https://pic4.zhimg.com/v2-02e9e1d7db22c8f3ba905acff810b28b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-02e9e1d7db22c8f3ba905acff810b28b_b.jpg\"/></figure><p>å…ˆç§‘æ™®ä¸€ä¸‹ Demo çš„æˆæœï¼š</p><ol><li>Blur å€¼ä»£è¡¨äº†ç…§ç‰‡æ¸…æ™°åº¦</li><li>FPS å€¼æ¸¸æˆç©å®¶ä»¬éƒ½æ‡‚ï¼Œä»£è¡¨äº†å¤„ç†å™¨æ¯ç§’å¯ä»¥å¤„ç†å›¾ç‰‡çš„æ•°é‡ï¼Œä½äº24è‚‰çœ¼ä¼šæ„Ÿè§‰å¡é¡¿</li><li>æˆåŠŸè¯†åˆ«å‡ºäº†ç…§ç‰‡ä¸­çš„æ˜¾ç¤ºå™¨ã€ç”µè„‘å’Œæˆ‘çš„å¯å¯ç²‰ï¼ˆå¦‚æœæ„¿æ„ï¼Œå®ƒå¯ä»¥è¯†åˆ«å‡ºæ›´å¤šï¼‰</li><li>é™„èµ ä¸¤ä¸ª5æ¯›ç‰¹æ•ˆ</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><blockquote><i>ä»¥ä¸‹ç« èŠ‚éç å†œç©å®¶å¯ä»¥æ— è§†ä»£ç çš„å­˜åœ¨</i></blockquote><h2><b>PART 2: è§†è§‰æ€»ç›‘ OpenCV</b></h2><p>æˆ‘ä»¬å…ˆä»‹ç»ç™»åœºçš„æ˜¯è´Ÿè´£5æ¯›ç‰¹æ•ˆçš„è§†è§‰æ€»ç›‘ OpenCVï¼ˆå…è´¹çš„è·¨å¹³å°è®¡ç®—æœºè§†è§‰åº“ï¼‰ï¼Œé™¤äº†é™„èµ çš„5æ¯›ç‰¹æ•ˆï¼Œä»–åœ¨è¿™æ¬¡é¡¹ç›®ä¸­è¿˜è´Ÿè´£è¯†åˆ«æ¸…æ™°åº¦ã€‚</p><p>å¦‚æœç©å®¶å¯¹è®¡ç®—æœºè§†è§‰è¿˜ä¸æ˜¯å¾ˆäº†è§£çš„è¯ï¼Œåªè¦è®°ä½ä»»ä½•å…³äºå›¾ç‰‡å›¾å½¢çš„é—®é¢˜æ‰¾è¿™ä½æ€»ç›‘å°±å¯¹äº†ï¼Œä»–å¯ç‰›çš„å¾ˆï¼š</p><ol><li>ç²¾é€š Windows/Linux/iOS/Android å››å¤§æ“ä½œç³»ç»Ÿ</li><li>ç²¾é€š C/C++/Python/Java ç­‰å¼€å‘è¯­è¨€</li><li>ç²¾é€šæ‰€æœ‰äºŒæ¬¡å…ƒï¼ˆå›¾ç‰‡ï¼‰çš„æ“ä½œ</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 1: ä¸‹è½½å®‰è£…å¼€å‘åŒ… OpenCV for iOS</b></p><p>æˆ‘ä»¬æ¨è<a href=\"https://link.zhihu.com/?target=https%3A//opencv.org/releases.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">ç›´æ¥å®˜ç½‘ä¸‹è½½</a>å·²ç¼–è¯‘å¥½çš„ç‰ˆæœ¬ 2.4.*ï¼Œè§£å‹åæ·»åŠ åˆ° Xcode é¡¹ç›®ä¸­ï¼Œå¹¶ä¸”ä¸ºé¡¹ç›®æ·»åŠ å¯¹å¼€å‘åŒ…çš„å¼•ç”¨</p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-3e0057a5072dbf9c65caf34cf5590b8b_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2560\" data-rawheight=\"1462\" class=\"origin_image zh-lightbox-thumb\" width=\"2560\" data-original=\"https://pic4.zhimg.com/v2-3e0057a5072dbf9c65caf34cf5590b8b_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;2560&#39; height=&#39;1462&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2560\" data-rawheight=\"1462\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"2560\" data-original=\"https://pic4.zhimg.com/v2-3e0057a5072dbf9c65caf34cf5590b8b_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-3e0057a5072dbf9c65caf34cf5590b8b_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 2: å›¾ç‰‡æ•°æ®æ ¼å¼è½¬æ¢</b></p><p>OpenCV åœ¨å¤„ç† iOS å›¾ç‰‡å‰ï¼Œéœ€è¦ç»Ÿä¸€å…ˆå°† iOS UIImage è½¬æ¢ä¸ºè‡ªå·±è®¤è¯†çš„çŸ©é˜µæ•°ç»„ç±»  cv::Matï¼š</p><div class=\"highlight\"><pre><code class=\"language-objective-c++\">// iOS Image to OpenCV Matrix\nUIImage* image;\ncv::Mat img_rgb;\nUIImageToMat(image, img_rgb);</code></pre></div><p>åŒæ ·åœ¨ OpenCV å¤„ç†å®Œæˆåï¼Œå°†çŸ©é˜µæ•°ç»„ç±» cv::Mat è½¬æ¢å› iOS è®¤è¯†çš„ UIImageï¼š</p><div class=\"highlight\"><pre><code class=\"language-objective-c++\">// OpenCV Matrix to iOS Image\ncv::Mat img_final;\nUIImage* image = MatToUIImage(img_final);</code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 3: å®ç°5æ¯›ç‰¹æ•ˆ</b></p><p>é™„èµ ç©å®¶çš„ä¸¤ä¸ª5æ¯›ç‰¹æ•ˆå…¶å®æ˜¯ä¸¤ä¸ªéå¸¸æœ‰åçš„è¾¹ç¼˜æ£€æµ‹ç®—æ³•ï¼ŒSobel ç®—å­å’Œ Laplaceç®—å­ï¼ˆå­¦è¿‡é«˜æ•°çš„ç©å®¶é™¤äº†é«˜æ–¯ä¹‹å¤–åº”è¯¥ä¹Ÿå¬è¯´è¿‡æ‹‰æ™®æ‹‰æ–¯ï¼‰ã€‚</p><p>åœ¨è¿›è¡Œè¾¹ç¼˜æ£€æµ‹ä¹‹å‰ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå…ˆå°†å›¾ç‰‡åšç°åº¦åŒ–ï¼ˆGrayï¼‰å¤„ç†ï¼Œè¯´äººè¯å°±æ˜¯æŠŠå½©è‰²å›¾ç‰‡å˜æˆé»‘ç™½å›¾ç‰‡ï¼š</p><div class=\"highlight\"><pre><code class=\"language-objective-c++\">cv::Mat img_gray;\ncv::cvtColor(img_rgb, img_gray, cv::COLOR_RGB2GRAY);</code></pre></div><p>5æ¯›ç‰¹æ•ˆä¹‹ä¸€ï¼ŒSobel ç®—å­ï¼š</p><div class=\"highlight\"><pre><code class=\"language-objective-c++\">- (cv::Mat)sobel:(cv::Mat)img_src {\n    cv::Mat img_dst;\n    int ksize = 5;\n    cv::Sobel(img_src, img_dst, CV_8U, 1, 1, ksize);\n    return img_dst;\n}</code></pre></div><p>5æ¯›ç‰¹æ•ˆä¹‹äºŒï¼ŒLaplace ç®—å­ï¼š</p><div class=\"highlight\"><pre><code class=\"language-objective-c++\">- (cv::Mat)laplace:(cv::Mat)img_src {\n    cv::Mat img_dst;\n    int ksize = 5;\n    cv::Laplacian(img_src, img_dst, CV_8U, ksize);\n    return img_dst;\n}</code></pre></div><p>ç©å®¶å¯ä»¥è‡ªè¡Œè°ƒèŠ‚ç®—æ³•å†…æ ¸æ•°ï¼ˆksizeï¼‰ï¼Œä½“éªŒä¸€æŠŠè°ƒå‚å¸ˆçš„å·¥ä½œã€‚å…±äº«çš„ä»£ç ä¸­è¿˜é™„èµ äº†ç¥ç§˜çš„ç¬¬ä¸‰ä¸ªç‰¹æ•ˆå½©è›‹ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 4: è®¡ç®—æ¸…æ™°åº¦æ•°å€¼ Blur</b></p><p>æˆ‘ä»¬éœ€è¦è¯†åˆ«ä¸€å¼ ç…§ç‰‡çš„æ¸…æ™°åº¦ï¼Œæœ¬è´¨å…¶å®æ˜¯è¯†åˆ«ç…§ç‰‡ä¸­çš„ç‰©ä½“æ˜¯å¦éƒ½æœ‰è¶³å¤Ÿæ¸…æ™°çš„è½®å»“ï¼ˆè¾¹ç¼˜ï¼‰ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬å…ˆä»‹ç»è¾¹ç¼˜æ£€æµ‹ç®—æ³•çš„åŸå› ã€‚</p><p>æˆ‘ä»¬é€šå¸¸è®¡ç®— Laplace ç®—å­ç»“æœçŸ©é˜µæ•°ç»„ï¼ˆä¹Ÿå°±æ˜¯5æ¯›ç‰¹æ•ˆç…§ç‰‡ï¼‰çš„å‡å€¼ï¼ˆmeanï¼‰æˆ–è€…æ–¹å·®ï¼ˆstddevï¼‰ï¼Œæ¸…æ™°åº¦å’Œå‡å€¼æˆ–æ–¹å·®å¤§å°æˆæ­£æ¯”ï¼š</p><div class=\"highlight\"><pre><code class=\"language-objective-c++\">cv::Mat img_final;\nimg_final = [self laplace:img_gray];\n\ncv::Scalar mean;\ncv::Scalar stddev;\ncv::meanStdDev(img_final, mean, stddev);\n\nself.blur = int(stddev[0]);</code></pre></div><p>æœ‰äº†è§†è§‰æ€»ç›‘ OpenCV çš„å¸®åŠ©ï¼Œè¯†åˆ«ç…§ç‰‡æ¸…æ™°åº¦æŠ€èƒ½å¾ˆè½»æ¾å°± Get åˆ°äº†ï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬ä¸€èµ· Get ä¸€ä¸ªç¢¾å‹ä¸–ç•Œçš„æŠ€èƒ½ï¼ŒAI äººå·¥æ™ºèƒ½ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 3: æœ€å¼ºå¤§è„‘ CoreML</b></h2><p>è¿™æœŸå…ˆæ•™å„ä½ç©å®¶å…¥ä¸ªé—¨ï¼Œæ€ä¹ˆä½¿ç”¨ AI æ¨¡å‹ã€‚æˆ‘ä»¬æŠŠ AI æ¨¡å‹çœ‹æˆä¸€ä¸ªæœ€å¼ºå¤§è„‘ï¼ˆç®—æ³•ï¼‰ï¼Œä½ ç»™ä»–ä¸€å¼ å›¾ç‰‡ï¼ˆè¾“å…¥ï¼‰ï¼Œä»–å‘Šè¯‰ä½ è¿™å¼ å›¾ç‰‡é‡Œæœ‰ä»€ä¹ˆï¼ˆè¾“å‡ºï¼‰ã€‚</p><p>ä» iOS 11.0 å¼€å§‹ï¼Œè‹¹æœè®¾å¤‡å·²å…¨é¢æ”¯æŒ AI æ¨¡å‹çš„å¼€å‘å’Œè¿è¡Œï¼Œä½¿ç”¨èµ·æ¥ä¹Ÿæ˜¯æä¸ºæ–¹ä¾¿çš„ï¼Œå’Œæ™®é€šçš„è°ƒåŒ…æ²¡å¤ªå¤§åŒºåˆ«ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 1: ä¸‹è½½ AI æ¨¡å‹</b></p><p>æˆ‘ä»¬ä¸‹è½½äº†<a href=\"https://link.zhihu.com/?target=https%3A//developer.apple.com/machine-learning/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">è‹¹æœå®˜æ–¹</a>å·²ç»ä¸ºæˆ‘ä»¬è®­ç»ƒå¥½çš„å‡ ä¸ªæ¨¡å‹æ–‡ä»¶ï¼š</p><ol><li><a href=\"https://link.zhihu.com/?target=https%3A//docs-assets.developer.apple.com/coreml/models/MobileNet.mlmodel\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">MobileNet</a>ï¼šè°·æ­Œçˆ¸çˆ¸è®¾è®¡çš„é€‚ç”¨äºæ‰‹æœºè®¾å¤‡è¿è¡Œçš„ç¥ç»ç½‘ç»œ</li><li><a href=\"https://link.zhihu.com/?target=https%3A//docs-assets.developer.apple.com/coreml/models/SqueezeNet.mlmodel\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">SqueezeNet</a>ï¼šä¼¯å…‹åˆ©å’Œæ–¯å¦ç¦è”æ‰‹æ‰“é€ çš„ç²¾ç®€é«˜æ•ˆç¥ç»ç½‘ç»œï¼Œéå¸¸é€‚ç”¨äºæ‰‹æœºè®¾å¤‡</li><li><a href=\"https://link.zhihu.com/?target=https%3A//docs-assets.developer.apple.com/coreml/models/GoogLeNetPlaces.mlmodel\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">GoogLeNet</a>ï¼šè°·æ­Œçˆ¸çˆ¸è‡´æ•¬ç¥ç»ç½‘ç»œé¼»ç¥– LeNet çš„ç»å…¸ä¹‹ä½œ</li><li><a href=\"https://link.zhihu.com/?target=https%3A//docs-assets.developer.apple.com/coreml/models/Resnet50.mlmodel\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">ResNet50</a>ï¼šImageNet 2015 å† å†›æ¨¡å‹ï¼Œå¾®è½¯çˆ¸çˆ¸ç«‹è¶³ AI å­¦æœ¯ç•Œçš„æ‰¬åä¹‹ä½œ</li><li><a href=\"https://link.zhihu.com/?target=https%3A//docs-assets.developer.apple.com/coreml/models/Inceptionv3.mlmodel\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">InceptionV3</a>ï¼šImageNet 2014 å† å†›æ¨¡å‹ï¼Œè°·æ­Œçˆ¸çˆ¸ç«‹è¶³ AI å­¦æœ¯ç•Œçš„ä¼ ä¸–ä¹‹ä½œï¼Œç›®å‰æœ€æ–°æ˜¯ InceptionV4 ç‰ˆæœ¬</li><li><a href=\"https://link.zhihu.com/?target=https%3A//docs-assets.developer.apple.com/coreml/models/VGG16.mlmodel\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">VGG16</a>ï¼šImageNet 2014 äºšå†›æ¨¡å‹ï¼Œå¤ªå¤§äº†æ²¡ä¸‹è½½</li></ol><p>å¹²è´§å¤ªå¤šäº†æŒ‘å“ªä¸ªï¼Œæ²¡å…³ç³»æˆ‘ä»¬éƒ½æ”¾åˆ°é¡¹ç›®é‡Œå»ä¸€ä¸ªä¸ªç”¨è¿‡æ¥</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-2f4da487efd3f76cae0b271c02264ee5_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2560\" data-rawheight=\"1462\" class=\"origin_image zh-lightbox-thumb\" width=\"2560\" data-original=\"https://pic2.zhimg.com/v2-2f4da487efd3f76cae0b271c02264ee5_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;2560&#39; height=&#39;1462&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2560\" data-rawheight=\"1462\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"2560\" data-original=\"https://pic2.zhimg.com/v2-2f4da487efd3f76cae0b271c02264ee5_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-2f4da487efd3f76cae0b271c02264ee5_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 2: ä½¿ç”¨ AI æ¨¡å‹</b></p><p>æˆ‘ä»¬ä½¿ç”¨è‹¹æœSDKå®˜æ–¹æä¾›çš„ CoreML å’Œ Vision:</p><ol><li>CoreML è´Ÿè´£è§£æä¸‹è½½å¥½çš„ AI æ¨¡å‹ï¼Œå¹¶ä¸ä¹‹å»ºç«‹è¿æ¥åç”Ÿæˆç±»æä¾›ç»™æˆ‘ä»¬å¼€å‘è°ƒç”¨</li><li>Vision æœ¬èº«è‡ªå¸¦äº†è‹¹æœå¾ˆå¤šå†…ç½®çš„äººè„¸è¯†åˆ«ï¼Œæ¡å½¢ç è¯†åˆ«ç­‰æ¨¡å‹è°ƒç”¨æ¥å£ã€‚åœ¨è¿™é‡Œ Vision åªä¸ºæˆ‘ä»¬æä¾›äº†å›¾ç‰‡é¢„å¤„ç†æœåŠ¡ï¼Œå°†å›¾ç‰‡å¤„ç†æˆç¥ç»ç½‘ç»œæ¨¡å‹è§„å®šçš„è¾“å…¥å›¾åƒå¤§å°å’Œæ ¼å¼ï¼ˆCVPixelBufferï¼‰</li></ol><p>é¦–å…ˆåˆå§‹åŒ– AI æ¨¡å‹ï¼Œæ —å­ä½¿ç”¨çš„æ˜¯ MobielNetï¼Œå¹¶æŒ‡å®šäº†æ¨¡å‹é¢„æµ‹åå›è°ƒçš„å¤„ç†å‡½æ•° predictDidCompleteï¼š</p><div class=\"highlight\"><pre><code class=\"language-swift\"><span class=\"kd\">var</span> <span class=\"nv\">classificationRequest</span><span class=\"p\">:</span> <span class=\"n\">VNCoreMLRequest</span><span class=\"o\">!</span>\n<span class=\"kd\">let</span> <span class=\"nv\">semaphore</span> <span class=\"p\">=</span> <span class=\"n\">DispatchSemaphore</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">:</span> <span class=\"mi\">2</span><span class=\"p\">)</span>\n\n<span class=\"kd\">let</span> <span class=\"nv\">model</span> <span class=\"p\">=</span> <span class=\"k\">try</span> <span class=\"n\">VNCoreMLModel</span><span class=\"p\">(</span><span class=\"k\">for</span><span class=\"p\">:</span> <span class=\"n\">MobileNet</span><span class=\"p\">().</span><span class=\"n\">model</span><span class=\"p\">)</span>\n<span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">classificationRequest</span> <span class=\"p\">=</span> <span class=\"n\">VNCoreMLRequest</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"p\">:</span> <span class=\"n\">model</span><span class=\"p\">,</span> <span class=\"n\">completionHandler</span><span class=\"p\">:</span> <span class=\"n\">predictDidComplete</span><span class=\"p\">)</span>\n<span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">classificationRequest</span><span class=\"p\">.</span><span class=\"n\">imageCropAndScaleOption</span> <span class=\"p\">=</span> <span class=\"p\">.</span><span class=\"n\">centerCrop</span></code></pre></div><p>ç„¶åè¿›è¡Œæ¨¡å‹é¢„æµ‹ï¼š</p><div class=\"highlight\"><pre><code class=\"language-swift\"><span class=\"kd\">func</span> <span class=\"nf\">predictClassification</span><span class=\"p\">(</span><span class=\"n\">pixelBuffer</span><span class=\"p\">:</span> <span class=\"n\">CVPixelBuffer</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">semaphore</span><span class=\"p\">.</span><span class=\"n\">wait</span><span class=\"p\">()</span>\n        \n    <span class=\"n\">DispatchQueue</span><span class=\"p\">.</span><span class=\"n\">global</span><span class=\"p\">(</span><span class=\"n\">qos</span><span class=\"p\">:</span> <span class=\"p\">.</span><span class=\"n\">userInitiated</span><span class=\"p\">).</span><span class=\"n\">async</span> <span class=\"p\">{</span>\n    <span class=\"kd\">let</span> <span class=\"nv\">handler</span> <span class=\"p\">=</span> <span class=\"n\">VNImageRequestHandler</span><span class=\"p\">(</span><span class=\"n\">cvPixelBuffer</span><span class=\"p\">:</span> <span class=\"n\">pixelBuffer</span><span class=\"p\">)</span>\n        <span class=\"k\">do</span> <span class=\"p\">{</span>\n            <span class=\"k\">try</span> <span class=\"n\">handler</span><span class=\"p\">.</span><span class=\"n\">perform</span><span class=\"p\">([</span><span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">classificationRequest</span><span class=\"p\">])</span>\n        <span class=\"p\">}</span> <span class=\"k\">catch</span> <span class=\"p\">{</span>\n            <span class=\"bp\">print</span><span class=\"p\">(</span><span class=\"s\">&#34;Failed to perform classification.</span><span class=\"se\">\\n</span><span class=\"si\">\\(</span><span class=\"n\">error</span><span class=\"p\">.</span><span class=\"n\">localizedDescription</span><span class=\"si\">)</span><span class=\"s\">&#34;</span><span class=\"p\">)</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span></code></pre></div><p>æœ€åå¤„ç†æ¨¡å‹é¢„æµ‹ç»“æœï¼Œæ˜¾ç¤ºæ’åå‰3è¢«è¯†åˆ«çš„ç‰©ä½“ï¼š</p><div class=\"highlight\"><pre><code class=\"language-swift\"><span class=\"kd\">func</span> <span class=\"nf\">predictDidComplete</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">:</span> <span class=\"n\">VNRequest</span><span class=\"p\">,</span> <span class=\"n\">error</span><span class=\"p\">:</span> <span class=\"n\">Error</span><span class=\"p\">?)</span> <span class=\"p\">{</span>\n    <span class=\"n\">DispatchQueue</span><span class=\"p\">.</span><span class=\"n\">main</span><span class=\"p\">.</span><span class=\"n\">async</span> <span class=\"p\">{</span>\n        <span class=\"k\">guard</span> <span class=\"kd\">let</span> <span class=\"nv\">results</span> <span class=\"p\">=</span> <span class=\"n\">request</span><span class=\"p\">.</span><span class=\"n\">results</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n            <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">labelClassification</span><span class=\"p\">.</span><span class=\"n\">text</span> <span class=\"p\">=</span> <span class=\"s\">&#34;Unable to classify image.&#34;</span>\n            <span class=\"bp\">print</span><span class=\"p\">(</span><span class=\"s\">&#34;Unable to classify image.&#34;</span><span class=\"p\">)</span>\n            <span class=\"k\">return</span>\n        <span class=\"p\">}</span>\n        <span class=\"kd\">let</span> <span class=\"nv\">classifications</span> <span class=\"p\">=</span> <span class=\"n\">results</span> <span class=\"k\">as</span><span class=\"o\">!</span> <span class=\"p\">[</span><span class=\"n\">VNClassificationObservation</span><span class=\"p\">]</span>\n        \n        <span class=\"k\">if</span> <span class=\"n\">classifications</span><span class=\"p\">.</span><span class=\"bp\">isEmpty</span> <span class=\"p\">{</span>\n            <span class=\"bp\">print</span><span class=\"p\">(</span><span class=\"s\">&#34;Nothing recognized.&#34;</span><span class=\"p\">)</span>\n        <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n            <span class=\"kd\">let</span> <span class=\"nv\">topClassifications</span> <span class=\"p\">=</span> <span class=\"n\">classifications</span><span class=\"p\">.</span><span class=\"kr\">prefix</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">)</span>\n            <span class=\"kd\">let</span> <span class=\"nv\">descriptions</span> <span class=\"p\">=</span> <span class=\"n\">topClassifications</span><span class=\"p\">.</span><span class=\"bp\">map</span> <span class=\"p\">{</span> <span class=\"n\">classification</span> <span class=\"k\">in</span>\n                <span class=\"c1\">// Formats the classification for display; e.g. &#34;(0.37) cliff, drop, drop-off&#34;.</span>\n                <span class=\"k\">return</span> <span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"n\">format</span><span class=\"p\">:</span> <span class=\"s\">&#34;(%.2f)  %@&#34;</span><span class=\"p\">,</span> <span class=\"n\">classification</span><span class=\"p\">.</span><span class=\"n\">confidence</span><span class=\"p\">,</span> <span class=\"n\">classification</span><span class=\"p\">.</span><span class=\"n\">identifier</span><span class=\"p\">)</span>\n            <span class=\"p\">}</span>\n            <span class=\"bp\">print</span><span class=\"p\">(</span><span class=\"s\">&#34;Classification:</span><span class=\"se\">\\n</span><span class=\"s\">&#34;</span> <span class=\"o\">+</span> <span class=\"n\">descriptions</span><span class=\"p\">.</span><span class=\"n\">joined</span><span class=\"p\">(</span><span class=\"n\">separator</span><span class=\"p\">:</span> <span class=\"s\">&#34;</span><span class=\"se\">\\n</span><span class=\"s\">&#34;</span><span class=\"p\">))</span>\n        <span class=\"p\">}</span>\n\n        <span class=\"kc\">self</span><span class=\"p\">.</span><span class=\"n\">semaphore</span><span class=\"p\">.</span><span class=\"n\">signal</span><span class=\"p\">()</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span></code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 3: ä¼˜é›…çš„ iOS æŠ€å·§</b></p><p>é€šå¸¸ AI æ¨¡å‹çš„è®¡ç®—ä¼šå ç”¨æ›´å¤šçš„ CPU/GPU èµ„æºå’Œæ—¶é—´ï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨æ—¶ä¸€å®šéœ€è¦è¿›è¡Œå¹¶å‘å¤„ç†ï¼Œæˆ‘ä»¬æä¾›äº†ä¸€äº› iOS å¤„ç†å¹¶å‘çš„æŠ€å·§ï¼š</p><ol><li>ä½¿ç”¨ DispatchQueue.global.asyncï¼šå¼€å¯ä¸€ä¸ªæ–°çš„çº¿ç¨‹å•ç‹¬å¤„ç† AI æ¨¡å‹è®¡ç®—ï¼Œè¿™æ ·ä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹å¯¼è‡´çš„ APP ç­‰å¾…</li><li>ä½¿ç”¨ DispatchQueue.main.asyncï¼šç³»ç»Ÿä¸»çº¿ç¨‹åªè´Ÿè´£ UI ç•Œé¢æ›´æ–°</li><li>ä½¿ç”¨ DispatchSemaphore(value: 2)ï¼šè§„å®šäº†2ä¸ªä¿¡å·é‡ï¼Œè¡¨ç¤ºæœ€å¤šåªå…è®¸2ä¸ªçº¿ç¨‹åŒæ—¶å¤„ç† AI æ¨¡å‹è®¡ç®—ï¼ˆæ•²é»‘æ¿ï¼Œè¿™å¾ˆé‡è¦ï¼ï¼ï¼ï¼‰</li><li>ä½¿ç”¨ semaphore.wait()ï¼šå ç”¨1ä¸ªä¿¡å·é‡ï¼Œå½“ä¿¡å·é‡æ»¡é¢æ—¶ï¼Œä¼šç­‰å¾…è®¡ç®—ä¿¡å·é‡è¢«é‡Šæ”¾</li><li>ä½¿ç”¨ semaphore.signal()ï¼šé‡Šæ”¾1ä¸ªä¿¡å·é‡</li><li>é¡¹ç›®ä¸­ä½¿ç”¨äº† Swift å’Œ Object-C æ··ç¼–ï¼Œå› ä¸º OpenCV éƒ¨åˆ†éœ€è¦ Object-C æ‰èƒ½è¿›è¡Œè°ƒç”¨ã€‚</li></ol><blockquote><i>åœ¨æ²¡æœ‰ä½¿ç”¨ <b>ä¿¡å·é‡</b> é™åˆ¶èµ„æºçš„æ—¶å€™ï¼ŒAPP è¿è¡ŒåŠåˆ†é’Ÿå°±ä¼šé—ªé€€ï¼ŒåŸå› æ˜¯è®¡ç®—çº¿ç¨‹ä¸å—é™åˆ¶å¹¶ä¸” AI é¢„æµ‹è®¡ç®—çš„é€Ÿåº¦è·Ÿä¸ä¸Šè§†é¢‘æµç”Ÿæˆé€Ÿåº¦ï¼Œå¯¼è‡´äº†è¶Šæ¥è¶Šå¤šè§†é¢‘æµå †ç§¯å†…å­˜ç­‰å¾…è¢«è®¡ç®—æœ€ç»ˆå†…å­˜æº¢å‡ºã€‚</i></blockquote><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 4: Make your hands dirty</b></h2><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç» Get åˆ°äº†ï¼š</p><ol><li>å¦‚ä½•ç”¨ OpenCV æ£€æµ‹ç…§ç‰‡æ¸…æ™°åº¦</li><li>å¦‚ä½•ç”¨ CoreML + Vision + AIæ¨¡å‹ è¯†åˆ«ç…§ç‰‡ä¸­çš„ç‰©ä½“</li><li>å¦‚ä½•ä¼˜é›…é«˜æ•ˆçš„å¤„ç† iOS å¹¶å‘</li></ol><p>é‚£å°±å¯ä»¥æ’¸èµ·è¢–å­æ•²ä»£ç å§ï¼Œå…ˆç”¨ç°æœ‰çš„æ¨¡å‹è¯†åˆ«ä¸€ä¸ªå¸¸è§ç‰©ä½“ï¼ˆä¾‹å¦‚æ¯å­ï¼‰ï¼Œç„¶åè‡ªåŠ¨æ‹ä¸€å¼ æ¸…æ™°çš„æ¯å­åœ¨å±å¹•ä¸­é—´çš„ç…§ç‰‡ã€‚æœ€ååŒæ‰‹<a href=\"https://link.zhihu.com/?target=https%3A//github.com/fengjihua/DemoCoreML/releases/tag/v0.1\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">çŒ®ä¸Š Demo æºä»£ç </a>ï¼ˆOpenCVå’Œæ¨¡å‹è¯·è‡ªè¡Œä¸‹è½½ï¼‰ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><p class=\"ztext-empty-paragraph\"><br/></p><hr/><p><i>å¦‚éœ€åˆä½œæˆ–è½¬è½½è¯·è”ç³»æœ¬æ–‡ä½œè€…ï¼Œè·ªè°¢</i></p>", 
            "topic": [
                {
                    "tag": "äººå·¥æ™ºèƒ½", 
                    "tagLink": "https://api.zhihu.com/topics/19551275"
                }, 
                {
                    "tag": "iOS å¼€å‘", 
                    "tagLink": "https://api.zhihu.com/topics/19555404"
                }, 
                {
                    "tag": "OpenCV", 
                    "tagLink": "https://api.zhihu.com/topics/19587715"
                }
            ], 
            "comments": []
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/33249503", 
            "userName": "é•¿è„š", 
            "userLink": "https://www.zhihu.com/people/59e31f1c355dd88f47fd61d2937b02aa", 
            "upvote": 2, 
            "title": "5åˆ†é’ŸGETå…¨æ ˆå¼€å‘ - æ— æ‰€ä¸èƒ½çš„å‰ç«¯", 
            "content": "<p>æœ¬æ–‡æ”»ç•¥ï¼šç‹¬ç«‹å…¨æ ˆå¼€å‘ä¸€ä¸ªé¡¹ç›®ï¼Œç”¨ HTML+CSS+JavaScript å®Œæˆå‰ç«¯å¼€å‘</p><p>å»ºè®®ç©å®¶ç­‰çº§ï¼šä¸­çº§ç å†œï¼ˆåˆçº§ç å†œä»¥ä¸‹ç­‰çº§æ…å…¥ï¼‰</p><p class=\"ztext-empty-paragraph\"><br/></p><p>é˜…è¯»æ­¤æ–‡å…ˆè§£é”æŠ€èƒ½ï¼š</p><ol><li>ä¸€ç‚¹ç‚¹å‘½ä»¤è¡ŒåŸºç¡€</li><li>HTML åŸºç¡€ï¼š<a href=\"https://link.zhihu.com/?target=http%3A//www.runoob.com/html/html-tutorial.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">ä¸¤å¤©åŒ…å­¦ä¼š</a></li><li>CSS åŸºç¡€ï¼š<a href=\"https://link.zhihu.com/?target=http%3A//www.runoob.com/css/css-tutorial.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">ä¸¤å¤©åŒ…å­¦ä¼š</a></li><li>JavaScript åŸºç¡€ï¼š<a href=\"https://link.zhihu.com/?target=http%3A//www.runoob.com/jquery/jquery-tutorial.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">ä¸‰å¤©åŒ…å­¦ä¼š</a></li><li>jQuery åŸºç¡€ï¼š<a href=\"https://link.zhihu.com/?target=http%3A//www.runoob.com/js/js-tutorial.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">ä¸‰è‡³ä¸ƒå¤©åŒ…å­¦ä¼š</a></li><li>AngularJS v1.* åŸºç¡€ï¼š<a href=\"https://link.zhihu.com/?target=http%3A//www.runoob.com/angularjs/angularjs-tutorial.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">ä¸‰è‡³ä¸ƒå¤©åŒ…å­¦ä¼š</a></li><li>ä¸€ç‚¹ç‚¹å…¨æ ˆå¼€å‘çŸ¥è¯†ï¼š<a href=\"https://zhuanlan.zhihu.com/p/33003538\" class=\"internal\">5åˆ†é’Ÿå­¦ä¼šå…¨æ ˆå¼€å‘</a></li></ol><p>å®è·µæ­¤æ–‡æ¨èè£…å¤‡ï¼š</p><ol><li>æ“ä½œç³»ç»Ÿï¼šmacOS Sierraï¼ˆWindowsä¹Ÿæ²¡æ¯›ç—…ï¼‰</li><li>IDEï¼šVSCode</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 1: å‰ç«¯å¼€å‘ä»å…¥é—¨åˆ°æ”¾å¼ƒ</b></h2><p>æœ‰äº›è¯ PO ä¸»æƒ³å†™åœ¨å‰ç«¯å¼€å‘å…¥é—¨å‰ï¼š</p><ol><li>PO ä¸»çš„ä¸å®Œå…¨ç»Ÿè®¡ï¼Œåœ¨å¾ˆå¤šå®Œæ•´çš„å…¨æ ˆå•†ä¸šé¡¹ç›®ä¸­ï¼Œå‰ç«¯å¼€å‘å·¥ä½œé‡é€šå¸¸å æ®äº†æ•´ä¸ªé¡¹ç›®çš„ 60% ~ 80%ï¼Œç”šè‡³æ›´å¤šã€‚</li><li>å¯¹äºåç«¯å¼€å‘ï¼Œä¼šä¸€ä¸ªæŠ€èƒ½ä¾‹å¦‚ JAVA, GO, C# æˆ– PHP å°±èƒ½åœ¨æ±Ÿæ¹–é—¯è¡ä¸€ç•ªäº†ã€‚è€Œå¯¹äºå‰ç«¯å¼€å‘è€Œè¨€ï¼Œè‡³å°‘å…ˆå­¦ä¼šä¸‰ä¸ªåŸºç¡€æŠ€èƒ½ HTML+CSS+JavaScriptï¼ˆä»¥ä¸‹ç®€ç§°JSï¼‰ï¼Œè¿˜ä¸ä¿è¯èƒ½ç«‹è¶³äºæ±Ÿæ¹–ï¼ˆä»æœ¬æ–‡éœ€è§£é”æŠ€èƒ½ä¹‹å¤šå°±èƒ½ä½“ä¼šåˆ°äº†ï¼‰ã€‚</li><li>ä»èŒåœºè§’åº¦å‡ºå‘ï¼Œæ€»ç›‘ã€è€æ¿æˆ–å®¢æˆ·ä»¬å‡ ä¹éƒ½åªå…³å¿ƒé¡¹ç›®äº§å“çš„å‰ç«¯è¡¨ç°ã€‚â€œä¸ºä»€ä¹ˆæˆå“æ¯”è®¾è®¡ç¨¿åšçš„ä¸‘ï¼Œä¸ºä»€ä¹ˆä¸€ç‚¹å°±èŠ±å±äº†ï¼Œä¸ºä»€ä¹ˆæäº¤äº†æ²¡ååº”â€ï¼Œè¿™äº›é”…ç”©æ¥ç”©å»æœ€åå¾€å¾€éƒ½æ˜¯ç”±å‰ç«¯å¼€å‘æ¥èƒŒã€‚</li><li>è¿™äº›éƒ½æ„å‘³ç€ï¼Œå‰ç«¯å¼€å‘å¾€å¾€æ˜¯åŠ ç­ç‹—ä¸­çš„åŠ ç­ç‹—ï¼ŒèƒŒé”…ä¾ ä¸­çš„èƒŒé”…ä¾ ï¼Œä½†ä¹Ÿæ˜¯ç¨‹åºçŒ¿ä¸­çš„ç¨‹åºçŒ¿ï¼Œæ— æ‰€ä¸èƒ½ã€‚</li></ol><p>åˆšå…¥é—¨æˆ–æ‰“ç®—å…¥é—¨çš„ç©å®¶ä»¬ï¼Œå¦‚æœåˆ°äº†è¿™é‡Œè¿˜æ²¡æ‰“ç®—æ”¾å¼ƒï¼Œè¯´æ˜å¾ˆå…·æ½œåŠ›æˆä¸ºä¸€åé«˜è–ªå‰ç«¯å¼€å‘ï¼ˆé‡ç‚¹çªå‡ºé«˜è–ªäºŒå­—ï¼‰ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 2: å‰ç«¯å¼€å‘ç¼–å¹´å²</b></h2><p>æˆ‘ä»¬ä¸¾ä¸ªæ —å­ï¼ŒæŠŠå¼€å‘ä¸€ä¸ªå®Œæ•´çš„äº’è”ç½‘å‰ç«¯åº”ç”¨çœ‹æˆæ˜¯é€ ä¸€æ ‹è±ªåæ™ºèƒ½åˆ«å¢…ï¼š</p><ol><li>é¦–å…ˆç™»åœºçš„æ˜¯è€å¤§ HTMLï¼šè´Ÿè´£åˆ«å¢…çš„ç»“æ„è®¾è®¡ä¸å»ºç­‘æ–½å·¥ï¼Œå…·ä½“å·¥ä½œæ˜¯è®¾è®¡åˆ«å¢…è¦æœ‰å§å®¤ã€å®¢å…ã€å¨æˆ¿ã€å«æµ´ã€æ¸¸æ³³æ± ã€åœè½¦åœºã€ç”µå½±é™¢ç­‰è®¾æ–½ï¼Œå¹¶æŠŠè¿™äº›è®¾æ–½éƒ½é€ å¥½ã€‚</li><li>ç„¶åç™»åœºçš„æ˜¯è‰ºæœ¯å¤©èµ‹æœ€å¥½çš„è€äºŒ CSSï¼šè´Ÿè´£åˆ«å¢…çš„ç²¾è£…ä¿®ï¼Œå…·ä½“å·¥ä½œæ˜¯æŠŠ HTML é€ å¥½çš„è®¾æ–½éƒ½æŒ‰ç…§è®¾è®¡ç¨¿çš„æ ·å­è£…ä¿®å¥½ï¼Œå®ƒæ²¡æ³•æ”¹åŠ¨è®¾æ–½çš„å‰åé¡ºåºï¼Œä½†å¯ä»¥æ”¹å˜è®¾æ–½çš„æ ·å­ï¼Œå¾®è°ƒè®¾æ–½çš„ä½ç½®ã€‚</li><li>æœ€åç™»åœºçš„æ˜¯æ™ºå•†æœ€é«˜æ€§æ ¼æœ€éœ¸é“çš„è€ä¸‰ JSï¼šå…·ä½“å·¥ä½œæ˜¯è´Ÿè´£åˆ«å¢…çš„æ‰€æœ‰æ™ºèƒ½æ§åˆ¶ï¼Œä¾‹å¦‚è‡ªåŠ¨è°ƒèŠ‚å®¤æ¸©ã€æ°´æ¸©ï¼Œè‡ªåŠ¨ç…§æ˜ï¼Œè‡ªåŠ¨æ¸…æ‰«ç­‰ï¼Œä¹Ÿä¼šæŠŠè¿™äº›æ§åˆ¶æƒé™é€šè¿‡ä¸€äº›å¼€å…³è®©ä¸»äººè¿›è¡Œæ‰‹åŠ¨äº¤äº’è¿›è¡Œæ§åˆ¶ã€‚JS ä¹Ÿä¼šå¯¹ HTML çš„æ–½å·¥å’Œ CSS çš„è£…ä¿®æŒ‡æ‰‹ç”»è„šï¼Œçœ‹åˆ°å“ªé‡Œä¸é¡ºçœ¼äº†è¿˜å¯ä»¥å¯¹ HTML å’Œ CSS çš„æˆæœè¿›è¡Œè°ƒæ•´ã€‚æ€»ä¹‹ï¼Œä¸»äººï¼ˆå®¢æˆ·ï¼‰æƒ³è¦ä»€ä¹ˆ JS éƒ½èƒ½åœ¨å®ç°ï¼Œç”šè‡³æ˜¯åœ¨åˆ«å¢…é‡Œæä¸€åœºçƒŸèŠ±è¡¨æ¼”ï¼ˆä¸å¯ç†å–»å¤©é©¬è¡Œç©ºçš„éœ€æ±‚ï¼‰ã€‚</li></ol><p>è¿™ä¸ªæ —å­åœ¨ 10 å¹´å‰è¿˜æ˜¯éå¸¸è´´åˆ‡çš„ï¼Œä½†æ”¾åˆ° 2018 å¹´å°±ä¼šæœ‰å¾ˆå¤šæœ€å‰æ²¿çš„å‰ç«¯å¤§ç¥è·³å‡ºæ¥è¿›è¡Œåé©³ã€‚PO ä¸»åšäº†ä¸€ä¸ªæœ€ç®€å•çš„å½’çº³ï¼Œè®©æˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹è¿™ 10 å¹´å‰ç«¯å¼€å‘ç©¶ç«Ÿå‘ç”Ÿäº†ä»€ä¹ˆå˜åŒ–ï¼š</p><ol><li>10 å¹´å‰ï¼ŒHTML + CSS æ˜¯ä¸€å¯¹é»„é‡‘æ­æ¡£ï¼Œå—åˆ°å¤§ä¼—é’çã€‚è€Œèªæ˜çš„ JS å´é­åˆ°å¤§å®¶çš„ä¸€è‡´å”¾å¼ƒï¼ŒåŸå› æ˜¯å…¶é¢å‘è¿‡ç¨‹å¼çš„è„šæœ¬è¯­è¨€ï¼Œå¼€å‘å‡ºæ¥çš„ä»£ç æ€»æ˜¯ä¸€å¨ä¸€å¨åˆè‡­åˆé•¿ï¼Œæéš¾ç»´æŠ¤ï¼Œç”šè‡³æ˜¯ 2 ä¸ªæœˆåçš„è‡ªå·±ä¹Ÿå¾ˆéš¾çœ‹æ‡‚ï¼Œè¿è¡Œä¹Ÿæ¯”è¾ƒæ…¢ã€‚</li><li>5 å¹´å‰ï¼Œè¿›å…¥ç§»åŠ¨äº’è”ç½‘æ—¶ä»£ï¼ŒHTML å¤šå­¦äº†ä¸€äº›æŠ€èƒ½ï¼Œå˜æˆäº†ä¸€ä¸ªæ—¶ä»£çš„æ–°å® å„¿ <a href=\"https://link.zhihu.com/?target=http%3A//www.runoob.com/html/html5-intro.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">HTML5</a>ï¼Œå°±æ˜¯å¤§å®¶å£ä¸­çš„ H5ã€‚CSS ä¹Ÿå¤šå­¦äº†ä¸€äº›æŠ€èƒ½ï¼Œå˜æˆäº† <a href=\"https://link.zhihu.com/?target=http%3A//www.runoob.com/css3/css3-tutorial.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">CSS3</a>ï¼Œè¿˜ä¿®ç‚¼äº†å‡ºä¸€ä¸ªä¼˜ç§€æ¡†æ¶å« <a href=\"https://link.zhihu.com/?target=http%3A//www.runoob.com/bootstrap4/bootstrap4-tutorial.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">Bootstrap</a>ã€‚JS ä¹Ÿä¿®ç‚¼å‡ºäº†ä¸€ä¸ªä¼˜ç§€æ¡†æ¶å« <a href=\"https://link.zhihu.com/?target=http%3A//jquery.com/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">jQuery</a>ï¼ŒjQuery çš„å‡ºç°ä¸€æ”¹ JS ä»¥å¾€çš„ä¸å¥½å°è±¡ï¼Œå°†é¢è±¡è¿‡ç¨‹å¼€å‘è¿™ä»¶äº‹åšåˆ°äº†ä¼˜é›…è‡³æï¼Œç»´æŠ¤æ–¹ä¾¿ï¼Œä¸º JS æœªæ¥çš„éœ¸ä¸šä¸€ç»Ÿèµ·åˆ°äº†å¥ åŸºä½œç”¨ã€‚</li><li>æœ€è¿‘ä¸¤ä¸‰å¹´ç®—æ˜¯ JS ç§°éœ¸å‰ç«¯å¼€å‘çš„é»„é‡‘æ—¶ä»£ï¼Œå­•è‚²å‡ºäº†æ–°ä¸€æ‰¹çš„ä¼˜ç§€æ¡†æ¶ï¼Œæœ€è‘—åçš„æœ‰ä¸‰ä¸ªï¼š<a href=\"https://link.zhihu.com/?target=https%3A//reactjs.org/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">ReactJSï¼ˆè„¸ä¹¦äº²å„¿å­ï¼‰</a>ï¼Œ<a href=\"https://link.zhihu.com/?target=https%3A//angularjs.org/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">AngularJSï¼ˆè°·æ­Œäº²å„¿å­ï¼‰</a>ï¼Œ<a href=\"https://link.zhihu.com/?target=https%3A//vuejs.org/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">Vue.js</a>ã€‚è¿™ä¸‰ä¸ªæ¡†æ¶çš„å‡ºç°å½»å¤´å½»å°¾æ”¹å˜äº†ä¼ ç»Ÿçš„å‰ç«¯å¼€å‘æ–¹å¼ï¼š</li></ol><ul><li>JS ä¹Ÿå¯ä»¥é¢è±¡å¯¹è±¡å¼€å‘ï¼Œå®šä¹‰ç±»ï¼Œå¯¼å…¥ç±»åº“ç±»åŒ…ä»€ä¹ˆçš„ä¸å†æ˜¯åç«¯å¼€å‘çš„ä¸“å±</li><li>JS ä¹Ÿæœ‰äº†è®¾è®¡æ¨¡å¼ï¼Œä»€ä¹ˆ MVCã€ä¾èµ–æ³¨å…¥ï¼Œåç«¯å¼€å‘æµè¡Œä»€ä¹ˆï¼Œä¹Ÿèƒ½åœ¨å‰ç«¯æµè¡Œ</li><li>JS ä¸»å¯¼é¡¹ç›®å¼€å‘ï¼Œä¸å†æ˜¯å½“å¹´é‚£ä¸ªè¾…åŠ© HTML+CSS çš„ç‰¹æ•ˆå°å¼Ÿï¼Œç›¸å HTML å’Œ CSS éƒ½å¾—å¬ JS è€æ¿æŒ‡æŒ¥å®‰æ’ï¼Œç”šè‡³å‡ºç°äº†ä¸€ä¸ªå« <a href=\"https://link.zhihu.com/?target=http%3A//lesscss.org/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">Less.js</a> çš„å°å¼Ÿä¸“é—¨ä¸º JS ç®¡ç† CSS</li><li>JS ä¹Ÿå¯ä»¥ç¼–è¯‘ï¼Œå¹¶ä¸æ˜¯çœŸæ­£çš„ç¼–è¯‘ï¼Œæœ¬è´¨æ˜¯é¡¹ç›®å‘å¸ƒå‰çš„ä»£ç æ··æ·†ã€åˆå¹¶ã€å‹ç¼©æ„å»ºã€‚è‘—åçš„å·¥å…·æœ‰ <a href=\"https://link.zhihu.com/?target=https%3A//gulpjs.com/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">gulp</a>, <a href=\"https://link.zhihu.com/?target=https%3A//webpack.js.org/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">webpack</a>, <a href=\"https://link.zhihu.com/?target=https%3A//gruntjs.com/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">grunt</a></li><li>åˆ›é€ äº†æ—¶é«¦çš„å•é¡µåº”ç”¨ï¼Œä»…ä»…ç”¨ä¸€ä¸ª HTML é¡µé¢å°±èƒ½æ— åˆ·æ–°æå®šæ‰€æœ‰äº‹æƒ…ï¼Œä»»æ€§å¾—æ ¹æœ¬ä¸æŠŠæœç´¢å¼•æ“å¤šå¹´åˆ¶å®šçš„ SEO è§„åˆ™æ”¾åœ¨çœ¼é‡Œ</li><li>JS ä¸ä»…è·Ÿä¸Šäº†åç«¯çš„å‘å±•ï¼Œæ›´æ˜¯ç¥­å‡ºäº† <a href=\"https://link.zhihu.com/?target=https%3A//nodejs.org/en/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">Node.js</a> å¤§æ€å™¨æ€å…¥åç«¯å¼€å‘é˜µè¥</li></ul><p>PO ä¸»æ˜¯ä»å››å¹´å‰å¼€å§‹åœæ­¢JS å¼€å‘å·¥ä½œçš„ï¼Œåˆä»åŠå¹´å‰é‡æ–°å¼€å§‹äº† JS å¼€å‘å·¥ä½œï¼Œä¸­é—´é”™è¿‡äº† JS é»„é‡‘æ—¶ä»£æ„Ÿè§‰ç”šæ˜¯é—æ†¾ï¼Œä»éœ€æ—¶æ—¥æ‰èƒ½æŠŠæ–°çŸ¥è¯†å­¦ä¹ å›æ¥ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 3: å‰ç«¯çš„å¢åˆ æ”¹æŸ¥ï¼ˆCRUDï¼‰</b></h2><p>è®©æˆ‘ä»¬æ¥ç€<a href=\"https://zhuanlan.zhihu.com/p/33123924\" class=\"internal\">ä¸Šç¯‡æ–‡ç« </a>çš„æ­¥ä¼ï¼Œå›åˆ°è¿™æ¬¡é¡¹ç›®çš„å‰ç«¯å¼€å‘ã€‚é¡¹ç›®ç”¨çš„ JS æ¡†æ¶æ˜¯ AngularJS v1.5ï¼Œè€Œ AngularJS çš„ç‰ˆæœ¬æˆªæ­¢ 2018 å¹´ 1 æœˆ å·²ç»æ˜¯ v5.0 äº†ï¼Œä¸¤è€…å¼€å‘æ–¹å¼ä¸Šä¹Ÿå¤§æœ‰å·®åˆ«ã€‚ä½†ä½œä¸ºå…¥é—¨åˆæ®µï¼Œæˆ‘ä»¬ä»ç„¶æ¨èæ¯”è¾ƒä¼ ç»Ÿçš„ HTML+CSS+JS(jQuery + AngularJS) çš„ç»„åˆï¼Œè¿™ç§åšæ³•æ›´æœ‰åŠ©äºç†è§£é¡¹ç›®ï¼Œå¹¶ä¼šé€‚å½“ç»“åˆä¸€äº›ç›®å‰æœ€æµè¡Œçš„æŠ€æœ¯ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><p>æˆ‘ä»¬å°†è¦å¯¹åˆ†ç±»åšä¸€ä¸ªå®Œæ•´çš„äº¤äº’å¼å‰ç«¯å¼€å‘ï¼Œåˆ†åˆ«å®Œæˆå¢åˆ æ”¹æŸ¥ï¼ˆCRUDï¼‰4ä¸ªæ“ä½œã€‚</p><p><b>Step 1. æµè§ˆ</b></p><p>ç»Ÿä¸€ä½¿ç”¨ä¸€ä¸ªè¡¨æ ¼ Table/Grid æ¥æ˜¾ç¤ºæ•°æ®ï¼Œå¢™è£‚æ¨è <a href=\"https://link.zhihu.com/?target=http%3A//lorenzofox3.github.io/smart-table-website/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">Smart Table</a>ï¼Œå¾ˆæ–¹ä¾¿æ˜¾ç¤ºå‡ºäº†æ‰€æœ‰çš„åˆ†ç±»æ•°æ®ã€‚å¯é˜…è¯»æºç é¡¹ç›® Client/src/js/controllers/table.js</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-ff45997ecf4272408b7078020131e050_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"731\" class=\"origin_image zh-lightbox-thumb\" width=\"1280\" data-original=\"https://pic1.zhimg.com/v2-ff45997ecf4272408b7078020131e050_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1280&#39; height=&#39;731&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"731\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1280\" data-original=\"https://pic1.zhimg.com/v2-ff45997ecf4272408b7078020131e050_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-ff45997ecf4272408b7078020131e050_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step2. åˆ </b></p><p>ç»Ÿä¸€ä½¿ç”¨å¯¹è¯æ¡†è¿›è¡Œä¸€æ¬¡äº¤äº’ç¡®è®¤ï¼Œè¿™é‡Œä½¿ç”¨äº† bootstrap æä¾›çš„ modal ç»„ä»¶ã€‚å¯é˜…è¯»æºç é¡¹ç›® Client/src/js/controllers/modal.js</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-07dceead3dcbf34f1d19cda6d16497b2_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"731\" class=\"origin_image zh-lightbox-thumb\" width=\"1280\" data-original=\"https://pic3.zhimg.com/v2-07dceead3dcbf34f1d19cda6d16497b2_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1280&#39; height=&#39;731&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"731\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1280\" data-original=\"https://pic3.zhimg.com/v2-07dceead3dcbf34f1d19cda6d16497b2_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-07dceead3dcbf34f1d19cda6d16497b2_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 3. å¢/æ”¹</b></p><p>ä½¿ç”¨äº† ngAside ç»„ä»¶ï¼Œå°†æ“ä½œè¡¨å•ä»å·¦è¾¹ä¾§æ»‘å‡ºæ¥ã€‚å®ƒæ˜¯åŸºäº Step2 modal ç»„ä»¶å¼€å‘çš„ã€‚å¢åŠ å’Œä¿®æ”¹æ“ä½œéƒ½ä¼šé€šè¿‡ä¸€ä¸ªå˜é‡ä¼ é€’ç»™ ngAsideï¼Œç”¨ä»¥åŒºåˆ†ä¸åŒæ“ä½œã€‚å¯é˜…è¯»æºç é¡¹ç›® Client/src/js/controllers/form.js</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-342c6099789a7ca8a180b25b57295aea_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"731\" class=\"origin_image zh-lightbox-thumb\" width=\"1280\" data-original=\"https://pic3.zhimg.com/v2-342c6099789a7ca8a180b25b57295aea_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1280&#39; height=&#39;731&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"731\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1280\" data-original=\"https://pic3.zhimg.com/v2-342c6099789a7ca8a180b25b57295aea_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-342c6099789a7ca8a180b25b57295aea_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 4. æŸ¥</b></p><p>åœ¨æœç´¢æ å¯¹è¾“å…¥çš„å…³é”®å­—åš AutoComplete æ£€ç´¢ã€‚å¯é˜…è¯»æºç é¡¹ç›® Client/src/js/controllers/table.js</p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-10945b14d55d8197a7acce0ce5fe0747_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"731\" class=\"origin_image zh-lightbox-thumb\" width=\"1280\" data-original=\"https://pic4.zhimg.com/v2-10945b14d55d8197a7acce0ce5fe0747_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1280&#39; height=&#39;731&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"731\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1280\" data-original=\"https://pic4.zhimg.com/v2-10945b14d55d8197a7acce0ce5fe0747_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-10945b14d55d8197a7acce0ce5fe0747_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 5. Restful API</b></p><p>å‰ç«¯çš„å¢åˆ æ”¹æŸ¥ï¼ˆCRUDï¼‰æ“ä½œæœ€ç»ˆéƒ½ä¼šé€šè¿‡ Restful API é€å»åç«¯ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬ä¹Ÿå°è£…äº†å‰ç«¯çš„ Restful API æœåŠ¡ï¼Œå®ƒä¼šæ¥æ”¶æ‰€æœ‰çš„æ•°æ®æäº¤ HTTP è¯·æ±‚ï¼Œå¹¶å°†åç«¯çš„ HTTP è¿”å›ç»“æœç»Ÿä¸€å¤„ç†ã€‚å¯é˜…è¯»æºç é¡¹ç›® Client/src/js/services/restful.js</p><p class=\"ztext-empty-paragraph\"><br/></p><p>æœ€åï¼Œå†ä»‹ç»ä¸€äº›é¡¹ç›®ä¸­ä½¿ç”¨åˆ°ï¼Œå‰ç«¯å¤§ç¥ä»¬ä¹Ÿä¼šå¸¸ä½¿ç”¨çš„ä¸€äº›å¼€å‘å°æŠ€å·§ï¼š</p><ol><li>lazyloadï¼šå‰ç«¯é¡¹ç›®é€šå¸¸ä¼šä½¿ç”¨å¾ˆå¤šç¬¬ä¸‰æ–¹ JS å’Œ CSS æ–‡ä»¶ï¼Œç¬¬ä¸€æ¬¡åŠ è½½æ‰€æœ‰è¿™äº›æ–‡ä»¶ä¼šå æ®å¤§é‡çš„æ—¶é—´ï¼Œå¯¼è‡´ç”¨æˆ·ç­‰å¾…å¾ˆä¹…ã€‚ä½¿ç”¨ lazyload å¯ä»¥åšåˆ°å»¶è¿ŸåŠ è½½ï¼Œåªæœ‰å½“ä½¿ç”¨åˆ°çš„æ—¶å€™å†å¯¹æŸå‡ ä¸ª JS å’Œ CSS æ–‡ä»¶è¿›è¡ŒåŠ è½½ï¼Œé¿å…äº†ç”¨æˆ·é•¿æ—¶é—´ç­‰å¾…ã€‚</li><li>localizationï¼šä¸»è¦é’ˆå¯¹å¤šè¯­è¨€ç‰ˆæœ¬çš„å‰ç«¯å¼€å‘ã€‚åˆç†çš„åšæ³•æ˜¯ä½¿ç”¨ JS å˜é‡ä»£æ›¿æ–‡å­—å­—ç¬¦ä¸²è¾“å‡ºåœ¨é¡µé¢ä¸Šï¼Œå†å°†è¿™äº›å˜é‡ç»´æŠ¤æˆå¤šä¸ªè¯­è¨€ç‰ˆæœ¬æ–‡ä»¶ã€‚å‚è€ƒé¡¹ç›®ä¸­ Client/src/l10nã€‚</li><li><a href=\"https://link.zhihu.com/?target=https%3A//eslint.org/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">eslint</a>ï¼šJS ä»£ç ç´ æ¥ä»¥é‡å¤§éš¾ç»´æŠ¤è‘—ç§°ï¼Œeslint ç¥å™¨çš„å‡ºç°ä¸»è¦ç”¨äºç»Ÿä¸€ JS ä»£ç æ ¼å¼è§„èŒƒï¼Œä¿®æ­£ JS è¯­æ³•é”™è¯¯ã€‚é…ç½®å®Œæˆåï¼Œåœ¨ä¿å­˜æ–‡ä»¶çš„åŒæ—¶ä¼šæ ¹æ®ä½ çš„ eslint é…ç½®ç«‹å³æ ¡æ­£å†—é•¿çš„ JS ä»£ç ã€‚</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 4: å‰ç«¯æ„å»ºå‘å¸ƒ</b></h2><p>å‰ç«¯çš„æ„å»ºå‘å¸ƒå¸¸ç”¨çš„å‡ ä¸ªæ­¥éª¤ï¼š</p><ol><li>ä»£ç åˆæˆã€‚å°†æ‰€æœ‰ CSS æ–‡ä»¶åˆæˆä¸ºä¸€ä¸ª app.cssï¼Œæ‰€æœ‰ JS æ–‡ä»¶åˆæˆä¸ºä¸€ä¸ª app.js</li><li>ä»£ç æ··æ·†ã€‚å°†åˆæˆåçš„ app.js å˜é‡åå’Œæ–¹æ³•åéƒ½æ”¹æˆ a,b,c,d,e ç­‰ç­‰ï¼Œæ··æ·†çš„ç›®çš„ä¸€æ˜¯ä»£ç å‹ç¼©ï¼ŒäºŒæ˜¯æœ€å¤§é™åº¦çš„ä¿æŠ¤æºç é€»è¾‘ä½¿å…¶éš¾ä»¥è¢«é»‘å®¢ç†è§£</li><li>ä»£ç å‹ç¼©ã€‚å°†æ··æ·†åçš„ app.js è¿›è¡Œç©ºæ ¼å’Œæ¢è¡Œå»é™¤ï¼Œæœ€ç»ˆä»å‡ åƒå‡ ä¸‡è¡Œçš„ JS ä»£ç å‹ç¼©æˆå¾ˆé•¿çš„ä¸€è¡Œ JS ä»£ç ã€‚app.css ä¹Ÿä¼šè¿›è¡Œå‹ç¼©ã€‚æœ€ç»ˆå¾—åˆ° app.min.css å’Œ app.min.jsã€‚è¿™æ ·åšçš„ç›®çš„åŒæ ·æ˜¯ä¸ºäº†ä½¿ç”¨æˆ·æµè§ˆå’Œç­‰å¾…ä½“éªŒè¾¾åˆ°æœ€ä¼˜ã€‚</li></ol><p>åœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº† grunt å·¥å…·è¿›è¡Œæ„å»ºï¼Œæ„å»ºè„šæœ¬å·²ç»å†™å¥½ï¼Œå‘½ä»¤è¡Œè¾“å…¥ï¼š</p><div class=\"highlight\"><pre><code class=\"language-text\">grunt build:dist</code></pre></div><p>ç¨ç­‰ç‰‡åˆ»åï¼Œå°±èƒ½å¾—åˆ°ä¸€ä¸ªå æ®ç©ºé—´æå°‘çš„å‰ç«¯å‘å¸ƒç‰ˆæœ¬äº†ï¼Œæ˜¯ä¸æ˜¯è§‰å¾—å¾ˆçˆ½ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><p>æœ€åå®‰åˆ©ä¸€ä¸‹ PO ä¸»ä½¿ç”¨çš„<a href=\"https://link.zhihu.com/?target=http%3A//preview.themeforest.net/item/angulr-bootstrap-admin-web-app-with-angularjs/full_screen_preview/8437259%3Fref%3Dthemespad7%26clickthrough_id%26redirect_back%3Dtrue\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">å‰ç«¯æ¨¡æ¿</a>ï¼Œé¡¹ç›®ç•Œé¢å’Œæ¡†æ¶å¹¶é PO ä¸»ä»é›¶å¼€å‘ï¼Œæˆ‘ä»¬åªæ˜¯ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šåšäº†äºŒæ¬¡å¼€å‘ã€‚å–œæ¬¢è¿™ä¸ªé¡¹ç›®å‰ç«¯æ¡†æ¶çš„ç©å®¶å¯ä»¥è‡ªè¡Œè´­ä¹°ï¼Œåªéœ€20å¤šç¾åˆ€ï¼Œç›®æµ‹èƒ½èŠ‚çœä¸¤ä¸ªæœˆçš„å¼€å‘æ—¶é—´ã€‚</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-4845da45175cdadaacfac5deb5ee1d9c_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2558\" data-rawheight=\"1278\" class=\"origin_image zh-lightbox-thumb\" width=\"2558\" data-original=\"https://pic1.zhimg.com/v2-4845da45175cdadaacfac5deb5ee1d9c_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;2558&#39; height=&#39;1278&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2558\" data-rawheight=\"1278\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"2558\" data-original=\"https://pic1.zhimg.com/v2-4845da45175cdadaacfac5deb5ee1d9c_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-4845da45175cdadaacfac5deb5ee1d9c_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»ä»‹ç»äº†å¦‚ä½•ä»æ€è€ƒï¼Œåˆ°åç«¯å¼€å‘ï¼Œåˆ°å‰ç«¯å¼€å‘çš„å…¨æ ˆå¼€å‘è¿‡ç¨‹ï¼Œåœ¨è¿™é‡Œå»ºè®®å„ä½ç©å®¶èŠ±ä¸€å‘¨æ—¶é—´æŠŠæºä»£ç è¯»ä¸€éï¼Œå†è‡ªå·±æ•²ä¸€ä¸ªæ–°çš„åŠŸèƒ½æ¨¡å—ä¾‹å¦‚ â€˜å•†å“ç®¡ç†â€™ï¼Œmake your hands dirty æ‰èƒ½æˆä¸ºä¸€ååˆæ ¼çš„å…¥é—¨å…¨æ ˆå¼€å‘å·¥ç¨‹å¸ˆã€‚</p><p>ä¹‹åçš„æ–‡ç« ï¼Œæˆ‘ä»¬å°†åˆ†äº«æ›´å¤šå…¨æ ˆå¼€å‘çš„ç»†èŠ‚ã€‚</p><p>æœ€åçŒ®ä¸Š<a href=\"https://link.zhihu.com/?target=https%3A//github.com/fengjihua/DemoFullStack/releases/tag/v0.2.0\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">æºä»£ç </a>ï¼Œå­¦ä¼šä½¿ç”¨ Github ä¹Ÿæ˜¯å…¨æ ˆå·¥ç¨‹å¸ˆå¿…ä¿®æŠ€èƒ½ã€‚</p><hr/><p><i>å¦‚éœ€åˆä½œæˆ–è½¬è½½è¯·è”ç³»æœ¬æ–‡ä½œè€…ï¼Œè·ªè°¢</i></p>", 
            "topic": [
                {
                    "tag": "å…¨æ ˆå·¥ç¨‹å¸ˆ", 
                    "tagLink": "https://api.zhihu.com/topics/19940527"
                }, 
                {
                    "tag": "å…¨æ ˆå¼€å‘", 
                    "tagLink": "https://api.zhihu.com/topics/20043281"
                }, 
                {
                    "tag": "Angularâ€‹", 
                    "tagLink": "https://api.zhihu.com/topics/20015467"
                }
            ], 
            "comments": []
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/32242018", 
            "userName": "é•¿è„š", 
            "userLink": "https://www.zhihu.com/people/59e31f1c355dd88f47fd61d2937b02aa", 
            "upvote": 13, 
            "title": "5åˆ†é’ŸGET AI - YOLOçš„å·ç§¯ç¥ç»ç½‘ç»œ", 
            "content": "<p>æœ¬æ–‡æ”»ç•¥ï¼šé€šè¿‡åˆ†æ YOLO ç¥ç»ç½‘ç»œï¼Œç†è§£å·ç§¯ç¥ç»ç½‘ç»œå·¥ä½œåŸç†</p><p>å»ºè®®ç©å®¶ç­‰çº§ï¼šæŠ€æœ¯åœˆå¤–äºº(å»ºè®®åªçœ‹å›¾ç‰‡ï¼Œä¹Ÿèƒ½ç†è§£)ï¼ŒAIæ–°æ‰‹ï¼Œå­¦ç”Ÿå…šï¼Œåˆçº§ç å†œ</p><p class=\"ztext-empty-paragraph\"><br/></p><p>é˜…è¯»æ­¤æ–‡å…ˆè§£é”æŠ€èƒ½ï¼š</p><ol><li>ä¸€ç‚¹ç‚¹å‘½ä»¤è¡ŒåŸºç¡€</li><li>ä¸€ç‚¹ç‚¹ C++ åŸºç¡€</li><li>å·ç§¯ç¥ç»ç½‘ç»œåŸºç¡€</li><li>YOLO åŸºç¡€ï¼š<a href=\"https://zhuanlan.zhihu.com/p/32097670\" class=\"internal\">How to use YOLO with python</a>, <a href=\"https://zhuanlan.zhihu.com/p/32172286\" class=\"internal\">How YOLO only look once</a></li></ol><p>å®è·µæ­¤æ–‡æ¨èè£…å¤‡ï¼š</p><ol><li>æ“ä½œç³»ç»Ÿï¼šmacOS Sierra</li><li>IDEï¼šVSCode</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 1: å·ç§¯ç¥ç»ç½‘ç»œ Convolution Neural Network</b></h2><p>ç¥ç»ç½‘ç»œæ˜¯ä¸€ä¸ªç‹‚æ‹½ç‚«é…·çš„åè¯ï¼Œå‰é¢å†åŠ å·ç§¯äºŒå­—å¬èµ·æ¥æ›´æ˜¯åŠç‚¸å¤©ã€‚æœ¬æ–‡å°±ä¸æ™®åŠå·ç§¯ç¥ç»ç½‘ç»œäº†ï¼Œå› ä¸ºæœ‰å¾ˆå¤šå¤§ç¥çš„ç§‘æ™®æ–‡ç« å·²ç»è®©äººæ— æ³•è¶…è¶Šï¼Œæˆ‘ä»¬åªè¦ç«™åœ¨å¤§ç¥çš„è‚©è†€ä¸Šè¿›è¡Œæ“ä½œï¼Œå¹¶ç†è§£ YOLO é»‘é­”æ³•çš„æœ¬è´¨åŸç†ã€‚</p><p>YOLO ä½œè€…ä½¿ç”¨äº†è‡ªå·±è®¾è®¡çš„å·ç§¯ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œå–å Darknetã€‚YOLOv2 ä½¿ç”¨äº†32å±‚ç½‘ç»œï¼ŒTiny YOLO åªä½¿ç”¨äº†16å±‚ç½‘ç»œï¼Œè¿™ä¹Ÿæ˜¯åè€…è¿è¡Œé€Ÿåº¦æ›´å¿«ï¼Œè€Œå‰è€…æ£€æµ‹æˆåŠŸç‡æ›´é«˜çš„åŸå› ã€‚</p><p>å·ç§¯å±‚ convï¼šè´Ÿè´£æå–ç‰¹å¾å›¾ç‰‡</p><p>æ± åŒ–å±‚ maxï¼šè´Ÿè´£é™ä½ç‰¹å¾å›¾ç‰‡ç»´åº¦ï¼Œä»è€Œé™ä½è¿ç®—é‡ã€‚è¿™é‡Œä½¿ç”¨çš„æ˜¯ max pooling</p><p>è¾“å‡ºå±‚ detectionï¼šè¾“å‡ºä¸€ç»´é¢„æµ‹æ•°ç»„</p><p>YOLOv2 32 å±‚ç½‘ç»œå…·ä½“å¦‚å›¾ï¼š</p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-8897cc0ca286f0be01f04c772a187cff_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"708\" data-rawheight=\"727\" class=\"origin_image zh-lightbox-thumb\" width=\"708\" data-original=\"https://pic4.zhimg.com/v2-8897cc0ca286f0be01f04c772a187cff_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;708&#39; height=&#39;727&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"708\" data-rawheight=\"727\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"708\" data-original=\"https://pic4.zhimg.com/v2-8897cc0ca286f0be01f04c772a187cff_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-8897cc0ca286f0be01f04c772a187cff_b.jpg\"/></figure><p>Tiny YOLO 16 å±‚ç½‘ç»œå…·ä½“å¦‚å›¾ï¼š</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-f0b69e2414c4c4ab38cbe51440c67f99_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"707\" data-rawheight=\"377\" class=\"origin_image zh-lightbox-thumb\" width=\"707\" data-original=\"https://pic2.zhimg.com/v2-f0b69e2414c4c4ab38cbe51440c67f99_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;707&#39; height=&#39;377&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"707\" data-rawheight=\"377\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"707\" data-original=\"https://pic2.zhimg.com/v2-f0b69e2414c4c4ab38cbe51440c67f99_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-f0b69e2414c4c4ab38cbe51440c67f99_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 2: ç‰¹å¾å›¾ç‰‡ Feature Map</b></h2><p>ç‰¹å¾å›¾ç‰‡å¯ä»¥ç†è§£ä¸ºAIå¯¹ä¸€å¼ å›¾ç‰‡ç†è§£è¿‡ç¨‹çš„ä¸­é—´äº§ç‰©ï¼Œç¥ç»ç½‘ç»œæ¨¡å‹è®¾è®¡çš„è¶Šå¥½ï¼ŒAIçš„ç†è§£å°±ä¼šè¶Šæ·±åˆ»ã€‚ç‰¹å¾å›¾ç‰‡åœ¨æºç é‡Œéƒ½æ˜¯ä¸€ç»´ç‰¹å¾æ•°ç»„ï¼Œäºæ˜¯æˆ‘æå–äº†ç¥ç»ç½‘ç»œæ¯ä¸€å±‚è¾“å‡ºçš„ç‰¹å¾æ•°ç»„ï¼Œå¹¶å°†å…¶è¿›è¡Œå›¾ç‰‡å¯è§†åŒ–ã€‚è¿™é‡Œå±•ç¤ºçš„æ˜¯ Tiny YOLO ç‰ˆæœ¬çš„ç‰¹å¾å›¾ç‰‡ã€‚</p><p>ç¥ç»ç½‘ç»œç¬¬ 0 å±‚è¾“å…¥å›¾ç‰‡ï¼š</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-2527fd291dd868f9bd517bc6a7742596_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"416\" data-rawheight=\"416\" class=\"content_image\" width=\"416\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;416&#39; height=&#39;416&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"416\" data-rawheight=\"416\" class=\"content_image lazy\" width=\"416\" data-actualsrc=\"https://pic3.zhimg.com/v2-2527fd291dd868f9bd517bc6a7742596_b.jpg\"/></figure><p>ç¬¬ 0 å±‚å·ç§¯è¾“å‡ºï¼Œç¬¬ 1 å±‚æ± åŒ–è¾“å‡ºï¼Œå…± 16 ä¸ªé€šé“ï¼š</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-1c210a1b9f8281cc91e2e907684e49f9_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2272\" data-rawheight=\"1130\" class=\"origin_image zh-lightbox-thumb\" width=\"2272\" data-original=\"https://pic2.zhimg.com/v2-1c210a1b9f8281cc91e2e907684e49f9_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;2272&#39; height=&#39;1130&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2272\" data-rawheight=\"1130\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"2272\" data-original=\"https://pic2.zhimg.com/v2-1c210a1b9f8281cc91e2e907684e49f9_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-1c210a1b9f8281cc91e2e907684e49f9_b.jpg\"/></figure><p>ç¬¬ 2 å±‚å·ç§¯è¾“å‡ºï¼Œç¬¬ 3 å±‚æ± åŒ–è¾“å‡ºï¼Œå…± 32 ä¸ªé€šé“ï¼š</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-0c4f7fbc5fa5a0c4ee22797f227dc941_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2272\" data-rawheight=\"1130\" class=\"origin_image zh-lightbox-thumb\" width=\"2272\" data-original=\"https://pic2.zhimg.com/v2-0c4f7fbc5fa5a0c4ee22797f227dc941_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;2272&#39; height=&#39;1130&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2272\" data-rawheight=\"1130\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"2272\" data-original=\"https://pic2.zhimg.com/v2-0c4f7fbc5fa5a0c4ee22797f227dc941_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-0c4f7fbc5fa5a0c4ee22797f227dc941_b.jpg\"/></figure><p>ç¬¬ 4 å±‚å·ç§¯è¾“å‡ºï¼Œç¬¬ 5 å±‚æ± åŒ–è¾“å‡ºï¼Œå…± 64 ä¸ªé€šé“ï¼š</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-af39dc16809d0a31ab5f1a165f0ec4f1_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2267\" data-rawheight=\"1130\" class=\"origin_image zh-lightbox-thumb\" width=\"2267\" data-original=\"https://pic2.zhimg.com/v2-af39dc16809d0a31ab5f1a165f0ec4f1_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;2267&#39; height=&#39;1130&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2267\" data-rawheight=\"1130\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"2267\" data-original=\"https://pic2.zhimg.com/v2-af39dc16809d0a31ab5f1a165f0ec4f1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-af39dc16809d0a31ab5f1a165f0ec4f1_b.jpg\"/></figure><p>ç¬¬ 6 å±‚å·ç§¯è¾“å‡ºï¼Œç¬¬ 7 å±‚æ± åŒ–è¾“å‡ºï¼Œå…± 128 ä¸ªé€šé“ï¼š</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-77a3b30bbecb74927826fc80636e8600_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2267\" data-rawheight=\"1130\" class=\"origin_image zh-lightbox-thumb\" width=\"2267\" data-original=\"https://pic1.zhimg.com/v2-77a3b30bbecb74927826fc80636e8600_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;2267&#39; height=&#39;1130&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2267\" data-rawheight=\"1130\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"2267\" data-original=\"https://pic1.zhimg.com/v2-77a3b30bbecb74927826fc80636e8600_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-77a3b30bbecb74927826fc80636e8600_b.jpg\"/></figure><p>ç¬¬ 8 å±‚å·ç§¯è¾“å‡ºï¼Œç¬¬ 9 å±‚æ± åŒ–è¾“å‡ºï¼Œå…± 256 ä¸ªé€šé“ï¼š</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-091d359cefa1d9d7d45e3698deb4ed49_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2267\" data-rawheight=\"1130\" class=\"origin_image zh-lightbox-thumb\" width=\"2267\" data-original=\"https://pic2.zhimg.com/v2-091d359cefa1d9d7d45e3698deb4ed49_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;2267&#39; height=&#39;1130&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2267\" data-rawheight=\"1130\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"2267\" data-original=\"https://pic2.zhimg.com/v2-091d359cefa1d9d7d45e3698deb4ed49_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-091d359cefa1d9d7d45e3698deb4ed49_b.jpg\"/></figure><p>è¿™é‡Œæˆ‘åˆ†åˆ«åªå±•ç¤ºäº†ç¬¬0~9å±‚ç½‘ç»œè¾“å‡ºåçš„ç‰¹å¾å›¾ç‰‡ï¼Œå› ä¸ºç¬¬9å±‚åçš„æ‰€æœ‰ç‰¹å¾å›¾ç‰‡å¤§å°éƒ½ä¸º13*13ï¼Œå·²ç»å‘ˆç°å‡ºäººç±»è‚‰çœ¼éš¾ä»¥ç†è§£çš„åƒç´ é¢—ç²’ã€‚ä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªç‰¹å¾æå–è¿‡ç¨‹ï¼Œç›´è§‚çš„æ„Ÿå—åˆ° YOLO çš„ç¥ç»ç½‘ç»œå¯¹ä¸€å¼ å›¾ç‰‡ç©¶ç«Ÿå¹²äº†äº›ä»€ä¹ˆã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART FINAL: Do it yourself</b></h2><p>è¿™å°±æ˜¯é»‘é­”æ³•ç¥ç»ç½‘ç»œå¦‚ä½•é¢„æµ‹ä¸€å¼ å›¾ç‰‡çš„è¿‡ç¨‹ï¼Œå½“ç„¶è¿™é‡Œé¢æˆ‘éšè—äº†å¾ˆå¤šå¾ˆå¤šçš„åŸç†ç»†èŠ‚ï¼Œæ˜¯è¿™äº›ç»†èŠ‚æ‰æ„æˆäº†ç¥ç»ç½‘ç»œï¼Œè¿™äº›ç»†èŠ‚æ˜¯äººç±»æ™ºæ…§çœŸæ­£çš„ç»“æ™¶ã€‚</p><p><a href=\"https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1hsgYTKg\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">--&gt;é™„èµ ä»£ç ã€ç‰¹å¾æ•°ç»„å’Œ</a><a href=\"https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1hsgYTKg\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">ç‰¹å¾</a><a href=\"https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1hsgYTKg\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">å›¾ç‰‡ï¼ŒçŒ›æˆ³ä¸‹è½½&lt;--</a></p><hr/><p><i>å¦‚éœ€åˆä½œæˆ–è½¬è½½è¯·è”ç³»æœ¬æ–‡ä½œè€…ï¼Œè·ªè°¢</i></p>", 
            "topic": [
                {
                    "tag": "äººå·¥æ™ºèƒ½", 
                    "tagLink": "https://api.zhihu.com/topics/19551275"
                }, 
                {
                    "tag": "ç‰©ä½“è¯†åˆ«", 
                    "tagLink": "https://api.zhihu.com/topics/19617234"
                }, 
                {
                    "tag": "å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰", 
                    "tagLink": "https://api.zhihu.com/topics/20043586"
                }
            ], 
            "comments": [
                {
                    "userName": "Ren97", 
                    "userLink": "https://www.zhihu.com/people/048f71d9ea4cab39c46bc4ca06e5a97c", 
                    "content": "<p>ä½ å¥½ã€‚æˆ‘æƒ³é—®ä¸€ä¸‹å¦‚æœæŸ¥çœ‹YOLOv3ç‰¹å¾å›¾ä¹Ÿæ˜¯ç”¨æä¾›çš„ä»£ç å—ï¼Œæˆ‘æ²¡å¤ªçœ‹æ˜ç™½æ€ä¹ˆä½¿ç”¨ï¼Œæ¯”å¦‚é‡Œé¢txtæ–‡ä»¶å’Œ.ipynbçš„éƒ¨åˆ†ã€‚æ–¹ä¾¿çš„è¯å¯ä»¥æä¾›ä»¥ä¸‹è¿è¡Œæ­¥éª¤å—ï¼Ÿ</p>", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "cuishleç›", 
                    "userLink": "https://www.zhihu.com/people/7c92408962e69ede7070d6e8daf6ace4", 
                    "content": "<p>æ‚¨å¥½ï¼Œæˆ‘æœ€è¿‘ä¹Ÿåœ¨è¯•å›¾å®ç°å¯è§†åŒ–yoloæ¯ä¸€å±‚çš„è¾“å‡ºï¼Œæƒ³è¯·æ•™ä¸€ä¸‹æ‚¨æ˜¯å¦‚ä½•æå–ç¥ç»ç½‘ç»œæ¯ä¸€å±‚è¾“å‡ºçš„ç‰¹å¾æ•°ç»„ï¼Ÿä¸‡åˆ†æ„Ÿè°¢</p>", 
                    "likes": 0, 
                    "childComments": []
                }
            ]
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/32172286", 
            "userName": "é•¿è„š", 
            "userLink": "https://www.zhihu.com/people/59e31f1c355dd88f47fd61d2937b02aa", 
            "upvote": 22, 
            "title": "5åˆ†é’ŸGET AI - YOLO å¦‚ä½•åšåˆ°ä¸€çœ¼è¯†åˆ«", 
            "content": "<p>æœ¬æ–‡æ”»ç•¥ï¼šé€šè¿‡åˆ†æ YOLO æºç ï¼Œç†è§£ YOLO æ£€æµ‹ç‰©ä½“åŸç†</p><p>å»ºè®®ç©å®¶ç­‰çº§ï¼šæŠ€æœ¯åœˆå¤–äºº(å»ºè®®åªçœ‹å›¾ç‰‡ï¼Œä¹Ÿèƒ½ç†è§£)ï¼ŒAIæ–°æ‰‹ï¼Œå­¦ç”Ÿå…šï¼Œåˆçº§ç å†œ</p><p class=\"ztext-empty-paragraph\"><br/></p><p>é˜…è¯»æ­¤æ–‡å…ˆè§£é”æŠ€èƒ½ï¼š</p><ol><li>ä¸€ç‚¹ç‚¹å‘½ä»¤è¡ŒåŸºç¡€</li><li>ä¸€ç‚¹ç‚¹ C++ åŸºç¡€</li><li>ä¸€ç‚¹ç‚¹ AI åŸºç¡€</li><li>ä¸€ç‚¹ç‚¹ YOLO åŸºç¡€ï¼š<a href=\"https://zhuanlan.zhihu.com/p/32097670\" class=\"internal\">How to use YOLO with python</a></li></ol><p>å®è·µæ­¤æ–‡æ¨èè£…å¤‡ï¼š</p><ol><li>æ“ä½œç³»ç»Ÿï¼šmacOS Sierra</li><li>IDEï¼šVSCode</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 1: ç†è§£ = è®ºæ–‡ + æºç </b></h2><p>æŠ½ç©ºè¯»äº† <a href=\"https://link.zhihu.com/?target=https%3A//arxiv.org/abs/1612.08242\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">YOLO ä½œè€…çš„è®ºæ–‡</a>ï¼Œè§‰å¾—å¯¹ YOLO çš„ç†è§£è¿˜ä¸å¤Ÿæ·±åˆ»ï¼Œäºæ˜¯å†³å®šæŠŠ YOLO æºç æ‹¿å‡ºæ¥æ’¸ä¸€æ’¸ï¼Œæ’¸å®Œä»¥åæœ‰ç‚¹è¢«ä½œè€…å¤§ç¥çš„æ°ä½œæ„ŸåŠ¨åˆ°ï¼Œæ˜¯çš„~å¤§ç¥éƒ½æ˜¯ä¸èµ°å¯»å¸¸è·¯ï¼Œäººå®¶ç”¨Pythonï¼Œå¤§ç¥åªç”¨Cï¼ŒæŒ‡é’ˆã€äºŒçº§æŒ‡é’ˆã€å†…å­˜åœ°å€éƒ½åœ¨å¤§ç¥çš„æŒæ§ä¹‹ä¸­ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 2: å¦‚ä½•åˆ†ææºç </b></h2><p>1. IDEï¼šç”¨ VSCodeï¼Œå®‰è£… M$ å®˜æ–¹C++æ’ä»¶å°±å¯ä»¥é˜…è¯»æºç äº†</p><p>2. åˆ†æï¼šä½¿ç”¨åœ°çƒäººéƒ½ä¼šçš„ printf() æ–¹æ³•æ‰“å°è¾“å‡ºå¸®åŠ©åˆ†æ</p><p>3. ç¼–è¯‘ï¼šå‘½ä»¤è¡Œè¾“å…¥</p><div class=\"highlight\"><pre><code class=\"language-text\">make</code></pre></div><p>4. è¿è¡Œï¼šå‘½ä»¤è¡Œè¾“å…¥</p><div class=\"highlight\"><pre><code class=\"language-text\">./darknet detect cfg/tiny-yolo.cfg weights/tiny-yolo.weights data/person.jpg</code></pre></div><p>ä¸€åˆ‡é¡ºåˆ©çš„è¯ï¼Œæ§åˆ¶å°é™¤äº†åŸæœ‰çš„è¾“å‡ºä¹‹å¤–ï¼Œè¿˜èƒ½å¯ä»¥çœ‹åˆ°æ–°åŠ çš„åˆ†æè¾“å‡º</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-05328fb4fa11e58b68237da97ceb9e4d_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"725\" data-rawheight=\"708\" class=\"origin_image zh-lightbox-thumb\" width=\"725\" data-original=\"https://pic2.zhimg.com/v2-05328fb4fa11e58b68237da97ceb9e4d_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;725&#39; height=&#39;708&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"725\" data-rawheight=\"708\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"725\" data-original=\"https://pic2.zhimg.com/v2-05328fb4fa11e58b68237da97ceb9e4d_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-05328fb4fa11e58b68237da97ceb9e4d_b.jpg\"/></figure><blockquote><i>è¿™é‡Œä½¿ç”¨äº†å…¶å®ƒé«˜çº§è¯­è¨€é€šç”¨çš„ â€œpackage.module.function()â€ æ–¹å¼æ¥æ ‡æ³¨è°ƒç”¨åˆ°çš„Cè¯­è¨€æ–¹æ³•</i></blockquote><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 3: Make your hands dirty</b></h2><p>é€šè¿‡ PART 2 è¾“å‡ºçš„åˆ†æç»“æœï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° YOLO æ£€æµ‹ä¸€å¼ å›¾ç‰‡ä¸€å…±æœ‰ 6 ä¸ªæ­¥éª¤ï¼Œåˆ†åˆ«å¯¹åº”æºç ä¸­çš„ 6 ä¸ªæ–¹æ³•ï¼š</p><ol><li>ä¸»å‡½æ•°å…¥å£ï¼šexamples.darknet.Main()</li><li>å›¾ç‰‡æ£€æµ‹å…¥å£ï¼šexamples.detector.test_detector()</li><li>ç¥ç»ç½‘ç»œé¢„æµ‹ï¼šsrc.network.network_predict()</li><li>ç”Ÿæˆæ£€æµ‹æ¡†ï¼šsrc.region_layer.get_region_boxes()</li><li>æ£€æµ‹ç»“æœæ’åºï¼šsrc.box.do_nms_sort()</li><li>ç”»å‡ºæ£€æµ‹ç»“æœï¼šsrc.image.draw_detections()</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><p>æ¥ä¸‹æ¥å¼€å§‹æˆ‘ä»¬çœŸæ­£çš„ YOLO æ¢ç´¢ä¹‹æ—…ï¼š</p><p><b>Step 1. ä¸»å‡½æ•°å…¥å£</b></p><p>åªæ˜¯åˆ†æå‘½ä»¤è¡Œå‚æ•° argc argv, nothing special.</p><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 2. å›¾ç‰‡æ£€æµ‹å…¥å£</b></p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-efedbcca0a2c31ccafde6e5e8be01ab1_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"826\" data-rawheight=\"600\" class=\"origin_image zh-lightbox-thumb\" width=\"826\" data-original=\"https://pic2.zhimg.com/v2-efedbcca0a2c31ccafde6e5e8be01ab1_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;826&#39; height=&#39;600&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"826\" data-rawheight=\"600\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"826\" data-original=\"https://pic2.zhimg.com/v2-efedbcca0a2c31ccafde6e5e8be01ab1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-efedbcca0a2c31ccafde6e5e8be01ab1_b.jpg\"/></figure><p>åšäº†å¾ˆå¤šåˆå§‹åŒ–å·¥ä½œï¼š</p><ol><li>è¯»å–æ–‡ä»¶ data/coco.names ï¼Œä¸€å…±åŒ…å« 80 ä¸ªåˆ†ç±»åç§°ï¼Œè¯´æ˜ç¥ç»ç½‘ç»œèƒ½é¢„æµ‹ 80 ä¸ªåˆ†ç±»</li><li>æ ¹æ® .cfg å’Œ .weights æ–‡ä»¶åŠ è½½ç¥ç»ç½‘ç»œï¼Œè¿™é‡ŒåŠ è½½çš„æ˜¯ Tiny YOLOï¼Œä¸€å…± 16 å±‚</li><li>æŒ‡å®šæ£€æµ‹å›¾ç‰‡æ•°é‡1å¼ </li><li>å°†æˆ‘ä»¬è¦æ£€æµ‹çš„å›¾ç‰‡å°ºå¯¸640*424è°ƒæ•´ä¸º416*416ï¼Œè¿™æ˜¯ç¥ç»ç½‘ç»œè¾“å…¥å›¾ç‰‡çš„è§„å®šå°ºå¯¸</li></ol><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-4e06fb98d6270c3fe89fb6c5d358f2e8_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1071\" data-rawheight=\"440\" class=\"origin_image zh-lightbox-thumb\" width=\"1071\" data-original=\"https://pic1.zhimg.com/v2-4e06fb98d6270c3fe89fb6c5d358f2e8_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1071&#39; height=&#39;440&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1071\" data-rawheight=\"440\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1071\" data-original=\"https://pic1.zhimg.com/v2-4e06fb98d6270c3fe89fb6c5d358f2e8_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-4e06fb98d6270c3fe89fb6c5d358f2e8_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 3. ç¥ç»ç½‘ç»œé¢„æµ‹</b></p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-3fba3b60a209b87617e53c7ab4e7cd9e_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"706\" data-rawheight=\"377\" class=\"origin_image zh-lightbox-thumb\" width=\"706\" data-original=\"https://pic3.zhimg.com/v2-3fba3b60a209b87617e53c7ab4e7cd9e_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;706&#39; height=&#39;377&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"706\" data-rawheight=\"377\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"706\" data-original=\"https://pic3.zhimg.com/v2-3fba3b60a209b87617e53c7ab4e7cd9e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-3fba3b60a209b87617e53c7ab4e7cd9e_b.jpg\"/></figure><p>å…³äºç¥ç»ç½‘ç»œæ˜¯å¦‚ä½•åšåˆ°é¢„æµ‹çš„ï¼Œè¿™ä¸€æœŸæˆ‘ä»¬ä¸åšç§‘å­¦å®¶ï¼Œå…ˆåšç å†œæŠŠå®ƒç†è§£ä¸ºä¸€ç§é»‘é­”æ³•æ“ä½œï¼š</p><ol><li>ç¬¬ 0 å±‚æ¥æ”¶ 416*416 å¤§å°ï¼Œ3 é€šé“ï¼ˆRGBï¼‰çš„å½©è‰²å›¾ç‰‡ï¼Œå¼€å¯ç¥ç»ç½‘ç»œé­”æ³•æ—…ç¨‹</li><li>ç»è¿‡ç¬¬ 1~14 å±‚é­”æ³•å˜æ¢åï¼Œå¾—åˆ°ä¸€å¼  13*13 å¤§å°ï¼Œ425 é€šé“çš„ç‰¹å¾å›¾ç‰‡ï¼ˆfeature mapï¼‰</li><li>ç¬¬ 15 å±‚å¯¹è¯¥ç‰¹å¾å›¾ç‰‡è¿›è¡Œç»ˆæå¥¥ä¹‰é­”æ³•ï¼Œæœ€ç»ˆè¾“å‡ºä¸€ç»´é¢„æµ‹æ•°ç»„ï¼ˆpredictionsï¼‰åŒ…å« 13*13*5*85 ä¸ªæ•°å€¼ã€‚æ˜¯çš„æ²¡é”™ï¼Œä½œè€…çš„ä»£ç é‡ŒæŠŠå¤šç»´æ•°ç»„ï¼ˆçŸ©é˜µï¼‰é™åˆ°ä¸€ç»´æ•°ç»„ã€‚</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 4. ç”Ÿæˆæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰</b></p><p>ç»è¿‡ç¥ç»ç½‘ç»œé»‘é­”æ³•æ“ä½œåï¼Œæˆ‘ä»¬å¾—åˆ°äº† 13*13*5*85 ä¸ªæ•°å€¼ï¼Œæ·±å…¥åˆ†æè¿™ 4 ä¸ªæ•°å­—çš„æ„ä¹‰ï¼Œå®ƒä»¬ä»£è¡¨äº† YOLO æ€æƒ³çš„ç²¾é«“</p><ol><li>13 * 13ï¼šä»£è¡¨äº†ç‰¹å¾å›¾ï¼ˆfeature mapï¼‰çš„å®½*é«˜ï¼Œä¸€å…±æœ‰ 13 * 13 ä¸ªç‰¹å¾å•å…ƒã€‚YOLO å°†åŸå§‹å›¾ç‰‡ï¼ˆ416*416ï¼‰å¹³å‡åˆ’åˆ†æˆ 13*13 ä¸ªåŒºåŸŸï¼ˆcellï¼‰ï¼Œæ¯ä¸ªç‰¹å¾å•å…ƒå¯¹åº”çš„ä¸€ä¸ªå›¾ç‰‡åŒºåŸŸï¼ˆcellï¼‰</li><li>5ï¼šä»£è¡¨äº† 5 ä¸ªå½¢çŠ¶ä¸åŒçš„æ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰ï¼ŒYOLO åœ¨æ¯ä¸ªå›¾ç‰‡åŒºåŸŸï¼ˆcellï¼‰éƒ½ä¼šç”Ÿæˆ 5 ä¸ªå½¢çŠ¶ä¸åŒçš„æ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰ä»¥è¯¥åŒºåŸŸï¼ˆcellï¼‰çš„ä¸­å¿ƒç‚¹ä¸ºæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰çš„ä¸­å¿ƒç‚¹å»æ£€æµ‹ç‰©ä½“ï¼Œæ‰€ä»¥ YOLO ä¸€å…±ä¼šç”¨ 13*13*5 ä¸ªæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰å»æ£€æµ‹ä¸€å¼ å›¾ç‰‡</li><li>85ï¼šåˆ†æ‹†æˆ 3 éƒ¨åˆ†ç†è§£ï¼Œ4 + 1 + 80</li></ol><ul><li>4ï¼šæ¯ä¸ªæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰åŒ…å« 4 ä¸ªåæ ‡å€¼ (x, y, width, height)</li><li>1ï¼šæ¯ä¸ªæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰éƒ½æœ‰ 1 ä¸ªæ£€æµ‹ç‰©ä½“è‡ªä¿¡å€¼ï¼ˆ0~1ï¼‰ï¼Œç†è§£ä¸ºæ£€æµ‹åˆ°ç‰©ä½“çš„è‡ªä¿¡æ¦‚ç‡ã€‚</li><li>80ï¼šæ¯ä¸ªæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰éƒ½æœ‰ 80 ä¸ªåˆ†ç±»æ£€æµ‹æ¦‚ç‡å€¼ï¼ˆ0~1ï¼‰ï¼Œç†è§£ä¸ºæ£€æµ‹æ¡†å†…çš„ç‰©ä½“åˆ†åˆ«å¯èƒ½æ˜¯æ¯ä¸ªåˆ†ç±»çš„æ¦‚ç‡ã€‚</li></ul><p>æ€»ç»“æˆä¸€å¥è¯ï¼šä¸€å¼  416*416 çš„å›¾ç‰‡ï¼Œè¢«å¹³å‡åˆ’åˆ†æˆ 13*13 ä¸ªå›¾ç‰‡åŒºåŸŸï¼ˆcellï¼‰ï¼Œæ¯ä¸ªå›¾ç‰‡åŒºåŸŸç”Ÿæˆ 5 ä¸ªæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰ï¼Œæ¯ä¸ªæ£€æµ‹æ¡†åŒ…å« 85 ä¸ªå€¼ï¼ˆ4 ä¸ªåæ ‡å€¼ + 1 ä¸ªæ£€æµ‹ç‰©ä½“è‡ªä¿¡å€¼ + 80 ä¸ªåˆ†ç±»æ£€æµ‹å€¼ï¼‰ï¼Œæœ€åå¾—åˆ°çš„ä¸€ç»´é¢„æµ‹æ•°ç»„ï¼ˆpredictionsï¼‰ä»£è¡¨äº†å›¾ç‰‡ä¸­æ£€æµ‹åˆ°çš„ç‰©ä½“ï¼Œæ•°ç»„å…±åŒ…å« 13*13*5*85 ä¸ªæ•°å€¼ predictions[0] ~ predictions[13*13*5*85-1]</p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-2a08e6106b4a436e86440b7fb28158f7_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"416\" data-rawheight=\"416\" class=\"content_image\" width=\"416\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;416&#39; height=&#39;416&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"416\" data-rawheight=\"416\" class=\"content_image lazy\" width=\"416\" data-actualsrc=\"https://pic4.zhimg.com/v2-2a08e6106b4a436e86440b7fb28158f7_b.jpg\"/></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬è§£å‰–ä¸€ç»´é¢„æµ‹æ•°ç»„ï¼ˆpredictionsï¼‰ä¸­çš„æ¯ä¸€ä¸ªæ•°å€¼ï¼Œè¿™æ˜¯ä¸ªæ¶ˆè€—è„‘ç»†èƒå·¥ç¨‹ï¼Œæˆ‘åœ¨å¾ªç¯ä¸­è¾“å‡ºäº†æ‰€æœ‰ç”Ÿæˆçš„ 13*13*5 ä¸ªæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰ï¼š </p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-8d20504cb87f50c13ab3a86ffd86a198_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1477\" data-rawheight=\"432\" class=\"origin_image zh-lightbox-thumb\" width=\"1477\" data-original=\"https://pic1.zhimg.com/v2-8d20504cb87f50c13ab3a86ffd86a198_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1477&#39; height=&#39;432&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1477\" data-rawheight=\"432\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1477\" data-original=\"https://pic1.zhimg.com/v2-8d20504cb87f50c13ab3a86ffd86a198_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-8d20504cb87f50c13ab3a86ffd86a198_b.jpg\"/></figure><ul><li>rowï¼šæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰åœ¨ 13 è¡Œä¸­çš„å“ªä¸€è¡Œ</li><li>colï¼šæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰åœ¨ 13 åˆ—ä¸­çš„å“ªä¸€åˆ—</li><li>cellï¼šæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰åœ¨ 13*13 ä¸ªç‰¹å¾å•å…ƒä¸­çš„å“ªä¸€ä¸ªï¼ˆåœ¨å“ªä¸€ä¸ªå›¾ç‰‡åŒºåŸŸï¼‰</li><li>boxï¼šå¯ä»¥çœ‹åˆ°æ¯ä¸ªå›¾ç‰‡åŒºåŸŸå†…å¾ªç¯äº†5æ¬¡åˆ†åˆ«ç”Ÿæˆäº†5ä¸ªæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰</li><li>indexï¼šæ¯ä¸ªæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰çš„ç´¢å¼•å€¼ï¼Œ 0~13*13*5-1</li><li>box_indexï¼šåœ¨ä¸€ç»´é¢„æµ‹æ•°ç»„ï¼ˆpredictionsï¼‰ä¸­ï¼Œæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰ 4 ä¸ªåæ ‡å€¼çš„ç´¢å¼•èµ·å§‹å€¼ï¼ˆèµ·å§‹æŒ‡é’ˆï¼‰</li><li>obj_indexï¼šåœ¨ä¸€ç»´é¢„æµ‹æ•°ç»„ï¼ˆpredictionsï¼‰ä¸­ï¼Œæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰ 1 ä¸ªæ£€æµ‹ç‰©ä½“è‡ªä¿¡å€¼çš„ç´¢å¼•èµ·å§‹å€¼ï¼ˆèµ·å§‹æŒ‡é’ˆï¼‰</li><li>class_indexï¼šåœ¨ä¸€ç»´é¢„æµ‹æ•°ç»„ï¼ˆpredictionsï¼‰ä¸­ï¼Œæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰ 80 ä¸ªåˆ†ç±»æ¦‚ç‡å€¼çš„ç´¢å¼•èµ·å§‹å€¼ï¼ˆèµ·å§‹æŒ‡é’ˆï¼‰</li></ul><p>ç›´æ¥ä¸Šæˆ‘çš„åˆ†æç­”æ¡ˆï¼š</p><ul><li>predictions[0] ~ predictions[13*13*1*85-1]ï¼šåŒ…å«å½¢çŠ¶0æ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰åœ¨å›¾ç‰‡ä¸­çš„æ‰€æœ‰é¢„æµ‹å€¼ï¼Œå…± 14365 ä¸ªæ•°å€¼</li><li>predictions[13*13*1*85] ~ predictions[13*13*2*85-1]ï¼šåŒ…å«å½¢çŠ¶1æ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰åœ¨å›¾ç‰‡ä¸­çš„æ‰€æœ‰é¢„æµ‹å€¼ï¼Œå…± 14365 ä¸ªæ•°å€¼</li><li>predictions[13*13*2*85] ~ predictions[13*13*3*85-1]ï¼šåŒ…å«å½¢çŠ¶2æ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰åœ¨å›¾ç‰‡ä¸­çš„æ‰€æœ‰é¢„æµ‹å€¼ï¼Œå…± 14365 ä¸ªæ•°å€¼</li><li>predictions[13*13*3*85] ~ predictions[13*13*4*85-1]ï¼šåŒ…å«å½¢çŠ¶3æ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰åœ¨å›¾ç‰‡ä¸­çš„æ‰€æœ‰é¢„æµ‹å€¼ï¼Œå…± 14365 ä¸ªæ•°å€¼</li><li>predictions[13*13*4*85] ~ predictions[13*13*5*85-1]ï¼šåŒ…å«å½¢çŠ¶4æ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰åœ¨å›¾ç‰‡ä¸­çš„æ‰€æœ‰é¢„æµ‹å€¼ï¼Œå…± 14365 ä¸ªæ•°å€¼</li><li>æ¯ 14365 ä¸ªé¢„æµ‹å€¼åˆ†ä¸‰éƒ¨åˆ†ï¼š[13*13*4ä¸ªæ•°å€¼, 13*13*1ä¸ªæ•°å€¼, 13*13*80ä¸ªæ•°å€¼]ï¼Œä¾æ¬¡è¡¨ç¤ºåœ¨æ‰€æœ‰ 13*13 ä¸ªåŒºåŸŸï¼ˆcellï¼‰é¢„æµ‹åˆ°çš„ 4ä¸ªåæ ‡å€¼ + 1ä¸ªç‰©ä½“æ£€æµ‹è‡ªä¿¡å€¼ + 80åˆ†ç±»æ£€æµ‹æ¦‚ç‡å€¼ï¼Œå¾ªç¯ä¸­è®¡ç®—å‡ºçš„ box_index, obj_index å’Œ class_index åˆ†åˆ«æ˜¯è¿™ä¸‰éƒ¨åˆ†èµ·å§‹ç´¢å¼•å€¼ï¼ˆèµ·å§‹æŒ‡é’ˆï¼‰</li></ul><p>æ–‡å­—è§£é‡Šæ¸…æ¥šåï¼Œå¦‚æœæ²¡æœ‰ç†è§£çš„è¯ï¼Œæˆ‘ä»¬ç›´æ¥ä¸Šå›¾ï¼ˆå¹²å˜›ä¸æ—©ä¸Šå›¾ï¼‰ã€‚</p><p>æˆ‘å–äº†å…¶ä¸­3ä¸ªå›¾ç‰‡åŒºåŸŸï¼ˆcellï¼‰ï¼ŒåŒºåŸŸåæ ‡åˆ†åˆ«æ˜¯ (1,1), (6,6), (9,9) ï¼Œç”Ÿæˆ 5 ä¸ªæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰åçš„å›¾ç‰‡ï¼Œæ³¨æ„åˆ°å›¾ç‰‡çš„å°ºå¯¸ä»ç„¶æ˜¯416*416ï¼š</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-47ec60cd766f59fbcfabc62bc56cfc95_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1284\" data-rawheight=\"440\" class=\"origin_image zh-lightbox-thumb\" width=\"1284\" data-original=\"https://pic2.zhimg.com/v2-47ec60cd766f59fbcfabc62bc56cfc95_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1284&#39; height=&#39;440&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1284\" data-rawheight=\"440\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1284\" data-original=\"https://pic2.zhimg.com/v2-47ec60cd766f59fbcfabc62bc56cfc95_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-47ec60cd766f59fbcfabc62bc56cfc95_b.jpg\"/></figure><p>ç„¶åæ‰€æœ‰çš„æ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰ä¼šæ ¹æ®åŸå›¾ç‰‡å°ºå¯¸ï¼ˆ640*424ï¼‰è¿›è¡Œä¸€æ¬¡æ ¡æ­£ï¼š</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-793f89bcc9ad9c10dc224a4aa23998de_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1956\" data-rawheight=\"448\" class=\"origin_image zh-lightbox-thumb\" width=\"1956\" data-original=\"https://pic3.zhimg.com/v2-793f89bcc9ad9c10dc224a4aa23998de_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1956&#39; height=&#39;448&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1956\" data-rawheight=\"448\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1956\" data-original=\"https://pic3.zhimg.com/v2-793f89bcc9ad9c10dc224a4aa23998de_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-793f89bcc9ad9c10dc224a4aa23998de_b.jpg\"/></figure><p>YOLO ä½¿ç”¨æ¦‚ç‡é˜ˆå€¼ï¼ˆthreshï¼‰å¯¹æ‰€æœ‰æ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰çš„ 80 ä¸ªåˆ†ç±»æ¦‚ç‡å€¼è¿›è¡Œç­›é€‰ï¼Œå¹¶åˆ¶å®šäº†ä¸€å¥—ç­›é€‰è§„åˆ™ï¼š</p><ol><li>ç¬¬ä¸€è½®æµ·é€‰ï¼Œæ¯ä¸ªæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰çš„80ä¸ªåˆ†ç±»å†…éƒ¨å…ˆè¿›è¡ŒPKï¼Œé€‰å‡ºä¸€ä¸ªæ¦‚ç‡å€¼æœ€é«˜çš„å† å†›åˆ†ç±»</li><li>ç¬¬äºŒè½®é¢„èµ›ï¼Œå† å†›åˆ†ç±»ä¸æ¦‚ç‡é˜ˆå€¼ï¼ˆthreshï¼‰è¿›è¡ŒPKï¼Œæ•°å€¼å¤§äºæ¦‚ç‡é˜ˆå€¼çš„æ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰æ‰æœ‰èµ„æ ¼è¿›å…¥å†³èµ›ã€‚æ¦‚ç‡é˜ˆå€¼é»˜è®¤å€¼ä¸º0.24(24%)ï¼Œåœ¨å‘½ä»¤è¡Œè¿è¡Œæ—¶å¯ä»¥ä½¿ç”¨ -thresh å‚æ•°è¿›è¡Œè°ƒæ•´</li></ol><p>è¿™é‡Œæˆ‘æŠŠé€šè¿‡é¢„èµ›çš„æ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰æ˜¾ç¤ºåœ¨å›¾ç‰‡ä¸Šï¼Œå¯ä»¥çœ‹å‡ºåªè¦æ˜¯&gt;0.24é»˜è®¤é˜ˆå€¼æ¦‚ç‡çš„åˆ†ç±»æ¦‚ç‡å€¼ï¼Œå°±å·²ç»å¾ˆå‡†ç¡®äº†ã€‚</p><ul><li>åˆ†ç±» dogï¼šæœ‰2ä¸ªæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰é€šè¿‡é¢„èµ›</li><li>åˆ†ç±» personï¼šæœ‰3ä¸ªæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰é€šè¿‡é¢„èµ›</li><li>åˆ†ç±» horseï¼šæœ‰5ä¸ªæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰é€šè¿‡é¢„èµ›</li></ul><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-b395756454d29da06887ed5b4324a10d_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"640\" data-rawheight=\"424\" class=\"origin_image zh-lightbox-thumb\" width=\"640\" data-original=\"https://pic2.zhimg.com/v2-b395756454d29da06887ed5b4324a10d_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;640&#39; height=&#39;424&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"640\" data-rawheight=\"424\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"640\" data-original=\"https://pic2.zhimg.com/v2-b395756454d29da06887ed5b4324a10d_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-b395756454d29da06887ed5b4324a10d_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 5. æ£€æµ‹ç»“æœæ’åº</b></p><p>å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰åªé€šè¿‡é¢„èµ›çš„è¯ï¼Œä¼šå‡ºç°ä¸€ä¸ªç‰©ä½“å¤šä¸ªæ£€æµ‹æ¡†çš„æƒ…å†µï¼Œæ˜¾ç„¶æˆ‘ä»¬éœ€è¦æœ€åçš„å†³èµ›æ¥ä¸ºæ¯ä¸ªç‰©ä½“PKå‡ºä¸€ä¸ªç‹è€…ï¼Œå†³èµ›ç”¨åˆ°çš„PKæ–¹æ³•å«åš IoUï¼Œè¡¨ç¤ºä¸¤ä¸ªæ£€æµ‹æ¡†é‡åˆç‡ï¼ˆ0~1ï¼‰ï¼Œå€¼è¶Šé«˜è¶Šé‡åˆã€‚<a href=\"https://link.zhihu.com/?target=http%3A//blog.csdn.net/lanchunhui/article/details/71190055\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">Read more about IoU</a></p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-baf3e069c8aa72cf49d7630690208222_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"457\" data-rawheight=\"530\" class=\"origin_image zh-lightbox-thumb\" width=\"457\" data-original=\"https://pic3.zhimg.com/v2-baf3e069c8aa72cf49d7630690208222_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;457&#39; height=&#39;530&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"457\" data-rawheight=\"530\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"457\" data-original=\"https://pic3.zhimg.com/v2-baf3e069c8aa72cf49d7630690208222_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-baf3e069c8aa72cf49d7630690208222_b.jpg\"/></figure><p>é€šè¿‡è¾“å‡ºåˆ†æï¼Œèƒ½çœ‹å‡ºå†³èµ›æ˜¯å¦‚ä½•è¿›è¡Œçš„ï¼š</p><ol><li>åˆ†ç±» class: 1 (person) æœ‰ä¸‰ä¸ªæ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰#251, #420, #433 è¿›å…¥äº†æœ€ç»ˆçš„å†³èµ›</li><li>è¿›è¡Œqsortå¯¹å„è‡ªçš„æ£€æµ‹æ¦‚ç‡é™åºæ’åº</li><li>ä¸¤ä¸¤è®¡ç®—IoUï¼Œå¦‚æœé‡åˆåº¦ IoU&gt;0.3ï¼Œå°±å°†æ¦‚ç‡ä½çš„é€‰æ‰‹æ·˜æ±°</li><li>æœ€ç»ˆå¾—å‡ºäº†åˆ†ç±» class: 1 (person) çš„å”¯ä¸€ç‹è€…æ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰#420</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><p><b>Step 6. ç”»å‡ºæ£€æµ‹ç»“æœ</b></p><p>æœ€åçš„æœ€åï¼Œå°±æ˜¯å°†3ä¸ªæ£€æµ‹åˆ°çš„åˆ†ç±»ç‹è€…æ£€æµ‹æ¡†ï¼ˆbounding boxï¼‰ç”»åˆ°åŸå›¾ä¸Šï¼Œå¹¶é…ä¸Šç¾ç¾çš„é¢œè‰²å’ŒæŠ¬å¤´ï¼Œä¿å­˜ä¸ºå¤§å®¶ç†Ÿæ‚‰çš„ predictions.pngã€‚</p><blockquote>â€åªæœ‰å† å†›æ‰ä¼šè¢«å¤§å®¶è®°ä½ï¼ŒAIçš„ä¸–ç•ŒåŒæ ·å¦‚æ­¤â€œ</blockquote><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-dafc2d35a0e440157ab880d5088bb815_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"640\" data-rawheight=\"424\" class=\"origin_image zh-lightbox-thumb\" width=\"640\" data-original=\"https://pic2.zhimg.com/v2-dafc2d35a0e440157ab880d5088bb815_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;640&#39; height=&#39;424&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"640\" data-rawheight=\"424\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"640\" data-original=\"https://pic2.zhimg.com/v2-dafc2d35a0e440157ab880d5088bb815_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-dafc2d35a0e440157ab880d5088bb815_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART FINAL: Do it yourself</b></h2><p>å¯¹äºç¥ç»ç½‘ç»œé»‘é­”æ³•å¥½å¥‡çš„åŒå­¦ï¼Œå¯ä»¥ç©¿è¶Šå» <a href=\"https://zhuanlan.zhihu.com/p/32242018\" class=\"internal\">Convolution Neural Network in YOLO</a>ï¼ŒHave fun!</p><p><a href=\"https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1dFvsey9\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">--&gt;é™„èµ ä¿®æ”¹ä»£ç ï¼ŒçŒ›æˆ³ä¸‹è½½&lt;--</a></p><hr/><p><i>å¦‚éœ€åˆä½œæˆ–è½¬è½½è¯·è”ç³»æœ¬æ–‡ä½œè€…ï¼Œè·ªè°¢</i></p><p></p>", 
            "topic": [
                {
                    "tag": "äººå·¥æ™ºèƒ½", 
                    "tagLink": "https://api.zhihu.com/topics/19551275"
                }, 
                {
                    "tag": "ç‰©ä½“è¯†åˆ«", 
                    "tagLink": "https://api.zhihu.com/topics/19617234"
                }, 
                {
                    "tag": "AIæŠ€æœ¯", 
                    "tagLink": "https://api.zhihu.com/topics/20106982"
                }
            ], 
            "comments": [
                {
                    "userName": "å¤å¤•ç©º", 
                    "userLink": "https://www.zhihu.com/people/8f7dae81ff259128b785fe3cc41a3378", 
                    "content": "é€šä¿—æ˜“æ‡‚ï¼Œèµä¸€ä¸ª", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "Kissrabbit", 
                    "userLink": "https://www.zhihu.com/people/0e5dab034b5bd66b72d3c3362ae013af", 
                    "content": "<p>è¿™ä¸ªæ˜¯yolo-v2å§</p>", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "çŸ¥ä¹ç”¨æˆ·", 
                    "userLink": "https://www.zhihu.com/people/0", 
                    "content": "<p>ä¸ºä»€ä¹ˆä¸ç”¨ç»è¿‡darknet-19æå–ç‰¹å¾å°±ç›´æ¥ç¥ç»ç½‘ç»œæ£€æµ‹äº†</p>", 
                    "likes": 0, 
                    "childComments": []
                }
            ]
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/32097670", 
            "userName": "é•¿è„š", 
            "userLink": "https://www.zhihu.com/people/59e31f1c355dd88f47fd61d2937b02aa", 
            "upvote": 116, 
            "title": "5åˆ†é’ŸGET AI - ç”¨ Python ç©è½¬ YOLO", 
            "content": "<p>æœ¬æ–‡æ”»ç•¥ï¼šå¦‚ä½•ä½¿ç”¨æœ€å…ˆè¿›çš„AIæŠ€æœ¯ï¼Œè¯†åˆ«å›¾ç‰‡å’Œè§†é¢‘ä¸­çš„ç‰©ä½“</p><p>å»ºè®®ç©å®¶ç­‰çº§ï¼šæŠ€æœ¯åœˆå¤–äººï¼ŒAIé›¶åŸºç¡€ï¼Œå­¦ç”Ÿå…šï¼Œåˆçº§ç å†œ</p><p class=\"ztext-empty-paragraph\"><br/></p><p>é˜…è¯»æ­¤æ–‡å…ˆè§£é”æŠ€èƒ½ï¼š</p><ol><li>å‘½ä»¤è¡ŒåŸºç¡€</li><li>Git åŸºç¡€</li><li>Python åŸºç¡€</li><li>Python ctypesï¼š<a href=\"https://link.zhihu.com/?target=https%3A//docs.python.org/release/3.0.1/library/ctypes.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">è‹±æ–‡å…šæˆ³æ­¤é“¾æ¥</a>ï¼Œ<a href=\"https://link.zhihu.com/?target=https%3A//www.cnblogs.com/night-ride-depart/p/4907613.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">ä¸­å›½äººæœ€çˆ±æ­¤é“¾æ¥</a></li><li>å‡ ä¹ä¸éœ€è¦ AI åŸºç¡€</li></ol><p>å®è·µæ­¤æ–‡æ¨èè£…å¤‡ï¼š</p><ol><li>æ“ä½œç³»ç»Ÿï¼šmacOS Sierra</li><li>IDEï¼šJupyter Notebook, VSCode, Sublime, Atom</li><li>Python v3.6</li><li>NVIDIA 1080 Titan æ˜¾å¡ä¸€å—ï¼ˆéå¿…éœ€ï¼Œäººæ°‘å¸ç©å®¶å¯ä»¥æœ‰ï¼‰</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 1ï¼šWhat is YOLO</b></h2><p>YOLO æ˜¯æ—¶ä¸‹æœ€æµè¡Œ(state of the art)çš„ç‰©ä½“æ£€æµ‹(Object Detection) AI æ¨¡å‹ä¹‹ä¸€ï¼Œæµè¡Œçš„åŸå› æ˜¯å› ä¸ºå¥½ç”¨ï¼Œå¥½ç”¨çš„æ ‡å‡†å½’çº³ä¸º3æ¡ï¼š</p><ol><li>æ£€æµ‹èŒƒå›´å¹¿ï¼šYOLO9000 è¦†ç›–äº†9000ç§å¸¸ç”¨åˆ†ç±»ï¼ŒYOLOv2 è¦†ç›–äº†PASCAL VOCå’ŒCOCOæ•°æ®é›†åˆ†ç±»ã€‚ï¼ˆè¯´äººè¯ï¼šå°±æ˜¯å¯ä»¥æ£€æµ‹å‡º9000ç§å¸¸è§ç‰©ä½“ï¼‰</li><li>æ£€æµ‹å‡†ç¡®ç‡é«˜</li><li>æ£€æµ‹é€Ÿåº¦å¿«ï¼šå¹³æ°‘ç©å®¶ç”¨æ™®é€šCPUå°±èƒ½è¿è¡Œä½é…ä¹ä¸ç‰ˆï¼ˆTiny YOLOï¼‰ï¼Œäººæ°‘å¸ç©å®¶ç”¨GPUè¿è¡Œé«˜é…è±ªåç‰ˆ (YOLOv2)ã€‚ä½œè€…å¤§ç¥ç»™å‡ºçš„å‚è€ƒå€¼æ˜¯ Tiny YOLO å¯ä»¥è¾¾åˆ°200FPSï¼ŒYOLOv2 è¾¾åˆ°40FPSï¼Œå½“ç„¶è¿™æ˜¯ç”¨ NVIDIA Titan X ä¼ å¥‡è£…å¤‡è·‘å‡ºæ¥çš„åˆ†æ•°ã€‚</li></ol><blockquote><i>PASCAL VOC å’Œ COCO æ•°æ®é›†æ˜¯ä»€ä¹ˆï¼Ÿ</i>æ•°æ®é›†ç”±æˆåƒä¸Šä¸‡å¼ å›¾ç‰‡ç»„æˆï¼ŒAIé€šè¿‡å­¦ä¹ æ•°æ®é›†å›¾ç‰‡ä¸­åŒ…å«çš„ç‰©ä½“ä»¥åŠè¯¥ç‰©ä½“çš„åˆ†ç±»ï¼Œæœ€ç»ˆèƒ½è¾¾åˆ°æ­£ç¡®è¯†åˆ«æ‰€æœ‰å›¾ç‰‡ä¸­çš„ç‰©ä½“æ‰€å±çš„åˆ†ç±»ã€‚PASCAL VOC å’Œ COCO æ˜¯ä¸¤ä¸ªæœ‰åçš„å›¾ç‰‡ç‰©ä½“åˆ†ç±»æ•°æ®é›†ï¼ŒåŒæ ·æœ‰åçš„è¿˜æœ‰ ImageNet æ•°æ®é›†ã€‚<br/><br/><i>200FPS æ˜¯ä»€ä¹ˆï¼Ÿ</i>å¯ä»¥ç†è§£ä¸ºä¸€ç§’é’Ÿå¤„ç†200å¼ å›¾ç‰‡ï¼Œæ™®é€šè§†é¢‘24FPSè‚‰çœ¼å°±ä¸ä¼šæ„Ÿåˆ°å¡é¡¿</blockquote><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 2: How to get YOLO</b></h2><p>Step 1. Git è·å– YOLO ä»£ç ï¼Œå‘½ä»¤è¡Œè¾“å…¥ï¼š</p><div class=\"highlight\"><pre><code class=\"language-text\">git clone https://github.com/pjreddie/darknet</code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><p>Step 2. å› ä¸ºæ˜¯ç”¨C++å†™çš„ï¼Œæ‰€ä»¥éœ€è¦ç¼–è¯‘ä¸‹è½½åçš„ YOLO ä»£ç ï¼Œå‘½ä»¤è¡Œè¾“å…¥ï¼š</p><div class=\"highlight\"><pre><code class=\"language-text\">cd darknet\nmake</code></pre></div><p>ç¼–è¯‘æˆåŠŸåï¼Œå‘ç° darknet æ ¹ç›®å½•ä¸‹å¤šäº†ä¸¤ä¸ªæ–‡ä»¶ libdarknet.so å’Œ libdarknet.aï¼Œè¿™ä¸¤å®¶ä¼™æ˜¯å¹²ä»€ä¹ˆç”¨çš„ï¼ŸDon&#39;t worryï¼Œè¿™æ˜¯C++æºç ç¼–è¯‘åçš„äº§ç‰©ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬ä¸å¿…å…³å¿ƒè¿™äº›ç»†èŠ‚</p><p class=\"ztext-empty-paragraph\"><br/></p><p>Step 3. ä¸‹è½½ weights æ–‡ä»¶</p><p>YOLOä½œè€…å¤§ç¥å·²ç»ä¸ºæˆ‘ä»¬å‡†å¤‡å¥½äº†YOLOä¸åŒçš„ç‰ˆæœ¬ï¼Œå…ˆä¸‹è½½å…¶ä¸­ä¸¤ä¸ªæœ€å…·ä»£è¡¨ç‰ˆæœ¬ Tiny YOLOï¼ˆä½é…ä¹ä¸ç‰ˆï¼‰ å’Œ YOLOv2ï¼ˆé«˜é…è±ªåç‰ˆï¼‰ï¼Œæ¯ä¸€ä¸ªç‰ˆæœ¬éƒ½ç”±ä¸¤ä¸ªæ–‡ä»¶é…å¯¹ç»„æˆ</p><p>cfg æ–‡ä»¶ï¼šæ¨¡å‹å‚æ•°é…ç½®æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶å·²ç»éšæºä»£ç ä¸€èµ·ä¸‹è½½ä¸‹æ¥ï¼Œä¿å­˜åœ¨cfgç›®å½•ã€‚</p><p>weights æ–‡ä»¶ï¼šæ¨¡å‹å­¦ä¹ å¥½çš„æƒé‡æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶è¾ƒå¤§ï¼Œå› ä¸ºæ–‡ä»¶é‡Œé¢åŒ…å«äº†ä»æ•°æ®é›†ä¸­å­¦ä¹ åˆ°çš„æµ·é‡â€œçŸ¥è¯†â€ï¼Œè¿™äº›â€œçŸ¥è¯†â€æ­£æ˜¯AIä¹‹æ‰€ä»¥â€œèªæ˜â€çš„åŸå› ï¼Œéœ€å¦å¤–ä¸‹è½½ã€‚ä¸ºäº†æ–¹ä¾¿ç®¡ç†æˆ‘éƒ½ä¿å­˜åœ¨ weights ç›®å½•ã€‚</p><p><a href=\"https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1u6MXhOciSF3hd1FHFzdANg\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">çŒ›å‡»ä¸‹è½½ tiny-yolo.weights</a></p><p><a href=\"https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1DB2k1pFxEMg3mBa-xY8BvQ\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">çŒ›å‡»ä¸‹è½½ yolo.weights</a></p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-2c522429855ca141f83a2e185a9d19e2_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1320\" data-rawheight=\"638\" class=\"origin_image zh-lightbox-thumb\" width=\"1320\" data-original=\"https://pic3.zhimg.com/v2-2c522429855ca141f83a2e185a9d19e2_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1320&#39; height=&#39;638&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1320\" data-rawheight=\"638\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1320\" data-original=\"https://pic3.zhimg.com/v2-2c522429855ca141f83a2e185a9d19e2_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-2c522429855ca141f83a2e185a9d19e2_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 3: How to use YOLO</b></h2><p>å®Œæˆ PART 2 åï¼Œæ¥çœ‹çœ‹YOLOç©¶ç«Ÿæœ‰å¤šCoolï¼Œå…ˆæ¥è¯†åˆ«2å¼ ä½œè€…å¤§ç¥æä¾›çš„å®˜æ–¹å›¾ç‰‡ã€‚</p><p>å…ˆè¯•è¯•é«˜é…è±ªåç‰ˆ YOLOv2ï¼Œè¿è¡Œè¿‡ç¨‹ä¼šæœ‰ç‚¹æ…¢ï¼Œä½†å‡†ç¡®ç‡å¾ˆé«˜ï¼Œå‘½ä»¤è¡Œè¾“å…¥ï¼š</p><div class=\"highlight\"><pre><code class=\"language-text\">./darknet detect cfg/yolo.cfg weights/yolo.weights data/dog.jpg</code></pre></div><p>å†è¯•è¯•ä½é…ä¹ä¸ç‰ˆ Tiny YOLOï¼Œè¿è¡Œè¿‡ç¨‹å¾ˆå¿«ï¼Œä»¥æŸå¤±ä¸€äº›å‡†ç¡®ç‡ä½œä¸ºä»£ä»·ï¼Œå‘½ä»¤è¡Œè¾“å…¥ï¼š</p><div class=\"highlight\"><pre><code class=\"language-text\">./darknet detect cfg/tiny-yolo.cfg weights/tiny-yolo.weights data/dog.jpg</code></pre></div><p>è¿è¡Œåï¼Œå‘½ä»¤è¡Œè¾“å‡ºçš„ä¿¡æ¯åŒ…å«ï¼šç¥ç»ç½‘ç»œï¼ˆæ²¡é”™ï¼Œå°±æ˜¯ç”¨è¿™ä¸ªå¾ˆç‚«é…·çš„ä¸œè¥¿å®ç°çš„ï¼‰æ¨¡å‹æ¯ä¸€å±‚çš„å‚æ•°ï¼Œæœ€ç»ˆçš„åˆ†ç±»ç»“æœå’Œåˆ†ç±»ç»“æœè‡ªä¿¡åº¦ï¼ˆ0.81å¯ä»¥ç†è§£ä¸º81%æ¦‚ç‡å±äºè¯¥åˆ†ç±»ï¼‰ã€‚ï¼ˆè¿™éƒ¨åˆ†çœ‹ä¸æ‡‚çš„ç©å®¶å¯ä»¥è‡ªè¡Œå¿½ç•¥ï¼Œå…¶å®å¾ˆé‡è¦çš„å–‚ï¼ï¼‰</p><p>åœ¨ darknet æ ¹ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸€å¼ ç»“æœå›¾ç‰‡ predictions.pngï¼Œæ“ä½œä¸å¤ªå‹å¥½çš„æ˜¯è¯†åˆ«ä¸åŒå›¾ç‰‡æ°¸è¿œéƒ½åªä¼šç”ŸæˆåŒä¸€ä¸ªç»“æœå›¾ç‰‡æ–‡ä»¶åï¼Œå¹¶ä¸”è¦†ç›–ä¹‹å‰çš„ç»“æœå›¾ç‰‡ã€‚</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-cafbc6d04a81ed2f01e82f09e72962ca_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"774\" data-rawheight=\"616\" class=\"origin_image zh-lightbox-thumb\" width=\"774\" data-original=\"https://pic3.zhimg.com/v2-cafbc6d04a81ed2f01e82f09e72962ca_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;774&#39; height=&#39;616&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"774\" data-rawheight=\"616\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"774\" data-original=\"https://pic3.zhimg.com/v2-cafbc6d04a81ed2f01e82f09e72962ca_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-cafbc6d04a81ed2f01e82f09e72962ca_b.jpg\"/></figure><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-515866d351f8cc776301cb2ea6569097_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"646\" data-rawheight=\"464\" class=\"origin_image zh-lightbox-thumb\" width=\"646\" data-original=\"https://pic4.zhimg.com/v2-515866d351f8cc776301cb2ea6569097_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;646&#39; height=&#39;464&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"646\" data-rawheight=\"464\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"646\" data-original=\"https://pic4.zhimg.com/v2-515866d351f8cc776301cb2ea6569097_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-515866d351f8cc776301cb2ea6569097_b.jpg\"/></figure><p>æ­¤å¤„åº”æœ‰æŒå£°ï¼Œå¾ˆå¤šç©å®¶ä¼šâ€œWowï¼â€œä¸€å£°ï¼Œæ„Ÿå¹AIçš„å¼ºå¤§</p><p class=\"ztext-empty-paragraph\"><br/></p><blockquote><i>PART 4 ç« èŠ‚ä¸ºç å†œå¿…ä¿®ï¼Œå°ç™½é€‰ä¿®</i></blockquote><h2><b>PART 4: Make your hands dirty</b></h2><p>PART 3 çš„2å¼ ç»“æœå›¾ç‰‡å¼•å‘äº†ä¸€ç³»åˆ—æ€è€ƒï¼š</p><p>è¿™ä¹ˆCoolçš„åº”ç”¨èƒ½ä¸èƒ½åº”ç”¨åˆ°è§†é¢‘æ£€æµ‹ï¼Ÿ</p><p>è¿™ä¹ˆCoolçš„åº”ç”¨æˆ‘è¯¥æ€ä¹ˆæ‹¿æ¥è°ƒç”¨ï¼Œè®©æˆ‘çš„äº§å“æ™ºå•†å‘é˜¿æ³•ç‹—çœ‹é½ï¼Ÿ</p><p>......æ¥ä¸‹æ¥æˆ‘ä»¬è¦åšçš„ï¼Œå°±æ˜¯æ’¸èµ·è¢–å­æ•²ä»£ç </p><p class=\"ztext-empty-paragraph\"><br/></p><p>Step 1. å°è£…YOLO</p><p>è°ƒç”¨YOLOçš„åŸç†æœ¬è´¨æ˜¯è°ƒç”¨ PART 2 ç¼–è¯‘å¥½çš„åº“æ–‡ä»¶ libdarknet.so é‡Œçš„æ–¹æ³•ã€‚Python ctypesï¼ˆè¯¦è§æŠ€èƒ½4ï¼‰èƒ½å¸®åŠ©æˆ‘ä»¬ä½¿ç”¨Pythonè°ƒç”¨C++åº“é‡Œçš„æ–¹æ³•ï¼Œè¿™é‡Œè¿˜æ˜¯è¦æ„Ÿè°¢ä½œè€…å¤§ç¥å·²ç»ä¸ºæˆ‘ä»¬å†™å¥½äº† python/darknet.pyï¼Œè¯¥æ–‡ä»¶çš„ä½œç”¨æ˜¯æŠŠYOLOåº“ä¸­çš„C++æ–¹æ³•ä¸€ä¸€ç¿»è¯‘æˆPythonæ–¹æ³•å¹¶å°è£…æˆPythonæ¨¡å—ï¼Œè®©æˆ‘ä»¬å®Œå…¨å¯ä»¥å¿½ç•¥C++éƒ¨åˆ†ï¼Œåªéœ€è¦å®ç°è°ƒç”¨Pythonæ–¹æ³•å³å¯ã€‚</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-7ae0be64a5c6a31d057a5d5cb2a6017a_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2560\" data-rawheight=\"1458\" class=\"origin_image zh-lightbox-thumb\" width=\"2560\" data-original=\"https://pic3.zhimg.com/v2-7ae0be64a5c6a31d057a5d5cb2a6017a_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;2560&#39; height=&#39;1458&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2560\" data-rawheight=\"1458\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"2560\" data-original=\"https://pic3.zhimg.com/v2-7ae0be64a5c6a31d057a5d5cb2a6017a_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-7ae0be64a5c6a31d057a5d5cb2a6017a_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p>Step 2. æ£€æµ‹å›¾ç‰‡</p><p>ç«™åœ¨å¤§ç¥çš„è‚©è†€ä¸Šï¼Œåªæ•²äº†6è¡ŒPythonä»£ç ï¼Œå°±èƒ½æ£€æµ‹ä»»æ„å›¾ç‰‡äº†</p><div class=\"highlight\"><pre><code class=\"language-python3\"><span class=\"kn\">import</span> <span class=\"nn\">python.darknet</span> <span class=\"k\">as</span> <span class=\"nn\">dn</span>\n\n<span class=\"n\">dn</span><span class=\"o\">.</span><span class=\"n\">set_gpu</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"n\">net</span> <span class=\"o\">=</span> <span class=\"n\">dn</span><span class=\"o\">.</span><span class=\"n\">load_net</span><span class=\"p\">(</span><span class=\"nb\">str</span><span class=\"o\">.</span><span class=\"n\">encode</span><span class=\"p\">(</span><span class=\"s2\">&#34;cfg/tiny-yolo.cfg&#34;</span><span class=\"p\">),</span>\n                  <span class=\"nb\">str</span><span class=\"o\">.</span><span class=\"n\">encode</span><span class=\"p\">(</span><span class=\"s2\">&#34;weights/tiny-yolo.weights&#34;</span><span class=\"p\">),</span> <span class=\"mi\">0</span><span class=\"p\">)</span>\n<span class=\"n\">meta</span> <span class=\"o\">=</span> <span class=\"n\">dn</span><span class=\"o\">.</span><span class=\"n\">load_meta</span><span class=\"p\">(</span><span class=\"nb\">str</span><span class=\"o\">.</span><span class=\"n\">encode</span><span class=\"p\">(</span><span class=\"s2\">&#34;cfg/coco.data&#34;</span><span class=\"p\">))</span>\n<span class=\"n\">r</span> <span class=\"o\">=</span> <span class=\"n\">dn</span><span class=\"o\">.</span><span class=\"n\">detect</span><span class=\"p\">(</span><span class=\"n\">net</span><span class=\"p\">,</span> <span class=\"n\">meta</span><span class=\"p\">,</span> <span class=\"nb\">str</span><span class=\"o\">.</span><span class=\"n\">encode</span><span class=\"p\">(</span><span class=\"s2\">&#34;data/dog.jpg&#34;</span><span class=\"p\">))</span>\n<span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">r</span><span class=\"p\">)</span></code></pre></div><p>è¿è¡Œç»“æœï¼š</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-ffea6d375dd0930dffbc2fc9fa27aa76_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"825\" data-rawheight=\"576\" class=\"origin_image zh-lightbox-thumb\" width=\"825\" data-original=\"https://pic3.zhimg.com/v2-ffea6d375dd0930dffbc2fc9fa27aa76_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;825&#39; height=&#39;576&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"825\" data-rawheight=\"576\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"825\" data-original=\"https://pic3.zhimg.com/v2-ffea6d375dd0930dffbc2fc9fa27aa76_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-ffea6d375dd0930dffbc2fc9fa27aa76_b.jpg\"/></figure><p>æ³¨æ„å‡ ç‚¹ï¼š</p><ol><li>Python2ä½¿ç”¨åŸå§‹å­—ç¬¦ä¸²&#34;cfg/tiny-yolo.cfg&#34;ï¼ŒPython3å¿…é¡»ä½¿ç”¨str.encode(&#34;cfg/tiny-yolo.cfg&#34;)è¿›è¡Œå­—ç¬¦ä¸²æ ¼å¼è½¬æ¢ï¼Œå› ä¸º2ä¸ªç‰ˆæœ¬çš„Pythonå­—ç¬¦ä¸²æ•°æ®ç»“æ„æœ‰å·®å¼‚ï¼Œä½œè€…å¤§ç¥å°è£…çš„APIæ˜¯Python2ç‰ˆæœ¬ï¼Œéœ€è¦å‘ä¸‹å…¼å®¹</li><li>æˆ‘çš„æœ¬å­åªæœ‰CPUï¼Œæ‰€ä»¥è¿™é‡Œç”¨äº†ä½é…ä¹ä¸ç‰ˆ Tiny YOLO ä¿è¯è¿è¡Œé€Ÿåº¦ï¼ŒGPUç©å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„æƒ…å†µæ›¿æ¢ cfg å’Œ weights æ–‡ä»¶ã€‚ï¼ˆè´«ç©·é™åˆ¶äº†AIçš„è¿ç®—èƒ½åŠ›ï¼‰</li><li>meta æ˜¯æ•°æ®é›†åˆ†ç±»é…ç½®æ–‡ä»¶ï¼Œå› ä¸ºä½¿ç”¨çš„ cfg å’Œ weights æ–‡ä»¶æ˜¯åŸºäºCOCOæ•°æ®é›†è®­ç»ƒçš„ï¼Œæ‰€ä»¥æ£€æµ‹çš„åˆ†ç±»ç»“æœä¹Ÿå¾—å¯¹åº”COCOæ•°æ®é›†åˆ†ç±»ç»“æœ</li><li>è¾“å‡ºç»“æœ r æ˜¯ä¸€ç»´æ•°ç»„ [(ç‰©ä½“1), (ç‰©ä½“2), (ç‰©ä½“3)]ï¼Œä»£è¡¨äº†ä¸€å…±æ£€æµ‹åˆ°å‡ ä¸ªç‰©ä½“ï¼Œæ¯ä¸ªç‰©ä½“å‡åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š(åˆ†ç±»åç§°, åˆ†ç±»è‡ªä¿¡åº¦, (ç‰©ä½“ä¸­å¿ƒx, ç‰©ä½“ä¸­å¿ƒy, ç‰©ä½“å®½åº¦, ç‰©ä½“é«˜åº¦))</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><p>Step 3. è§†é¢‘å®æ—¶æ£€æµ‹</p><p>è§†é¢‘çš„æ¯ä¸€å¸§æœ¬è´¨æ˜¯ä¸€å¼ å›¾ç‰‡ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªå¤„ç†ç®¡é“ï¼ˆfunc pipelineï¼‰å¾ªç¯å¤„ç†æ¯ä¸€å¸§å›¾ç‰‡ï¼š</p><p>1ï¼‰è¾“å…¥å¾…å¤„ç†å›¾ç‰‡ï¼ˆimgï¼‰</p><p>2ï¼‰ä½¿ç”¨YOLOæ£€æµ‹ï¼Œå¹¶è·å¾—æ£€æµ‹ç»“æœï¼ˆresultï¼‰</p><p>3ï¼‰åœ¨å¾…å¤„ç†å›¾ç‰‡ï¼ˆimgï¼‰ä¸Šç”»å‡ºæ£€æµ‹ç»“æœï¼ˆresultï¼‰ï¼Œç”Ÿæˆæœ€ç»ˆå›¾ç‰‡ï¼ˆimg_finalï¼‰</p><p>4ï¼‰è¾“å‡ºæœ€ç»ˆå›¾ç‰‡ï¼ˆimg_finalï¼‰</p><div class=\"highlight\"><pre><code class=\"language-python3\"><span class=\"k\">def</span> <span class=\"nf\">pipeline</span><span class=\"p\">(</span><span class=\"n\">img</span><span class=\"p\">):</span>\n    <span class=\"c1\"># image data transformï¼š</span>\n    <span class=\"c1\"># img - cv image</span>\n    <span class=\"c1\"># im - yolo image</span>\n    <span class=\"n\">im</span> <span class=\"o\">=</span> <span class=\"n\">array_to_image</span><span class=\"p\">(</span><span class=\"n\">img</span><span class=\"p\">)</span>\n    <span class=\"n\">dn</span><span class=\"o\">.</span><span class=\"n\">rgbgr_image</span><span class=\"p\">(</span><span class=\"n\">im</span><span class=\"p\">)</span>\n\n    <span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">detect</span><span class=\"p\">(</span><span class=\"n\">net</span><span class=\"p\">,</span> <span class=\"n\">meta</span><span class=\"p\">,</span> <span class=\"n\">im</span><span class=\"p\">)</span>\n    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">result</span><span class=\"p\">)</span>\n\n    <span class=\"n\">img_final</span> <span class=\"o\">=</span> <span class=\"n\">draw_boxes</span><span class=\"p\">(</span><span class=\"n\">img</span><span class=\"p\">,</span> <span class=\"n\">result</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">img_final</span></code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><p>ä¸»ç¨‹åºä½¿ç”¨ OpenCV è°ƒç”¨æ‘„åƒå¤´ï¼Œå¹¶ä»æ‘„åƒå¤´è·å–è§†é¢‘æµï¼ŒæŒ‰&#39;q&#39;é€€å‡ºä¸»ç¨‹åº</p><div class=\"highlight\"><pre><code class=\"language-python3\"><span class=\"kn\">import</span> <span class=\"nn\">numpy</span> <span class=\"k\">as</span> <span class=\"nn\">np</span>\n<span class=\"kn\">import</span> <span class=\"nn\">cv2</span>\n\n<span class=\"n\">count_frame</span><span class=\"p\">,</span> <span class=\"n\">process_every_n_frame</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span>\n<span class=\"c1\"># get camera device</span>\n<span class=\"n\">cap</span> <span class=\"o\">=</span> <span class=\"n\">cv2</span><span class=\"o\">.</span><span class=\"n\">VideoCapture</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n\n<span class=\"k\">while</span><span class=\"p\">(</span><span class=\"kc\">True</span><span class=\"p\">):</span>\n    <span class=\"c1\"># get a frame</span>\n    <span class=\"n\">ret</span><span class=\"p\">,</span> <span class=\"n\">frame</span> <span class=\"o\">=</span> <span class=\"n\">cap</span><span class=\"o\">.</span><span class=\"n\">read</span><span class=\"p\">()</span>\n    <span class=\"n\">count_frame</span> <span class=\"o\">+=</span> <span class=\"mi\">1</span>\n\n    <span class=\"c1\"># show a frame</span>\n    <span class=\"n\">img</span> <span class=\"o\">=</span> <span class=\"n\">cv2</span><span class=\"o\">.</span><span class=\"n\">resize</span><span class=\"p\">(</span><span class=\"n\">frame</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">),</span> <span class=\"n\">fx</span><span class=\"o\">=</span><span class=\"mf\">0.5</span><span class=\"p\">,</span> <span class=\"n\">fy</span><span class=\"o\">=</span><span class=\"mf\">0.5</span><span class=\"p\">)</span>  <span class=\"c1\"># resize image half</span>\n    <span class=\"n\">cv2</span><span class=\"o\">.</span><span class=\"n\">imshow</span><span class=\"p\">(</span><span class=\"s2\">&#34;Video&#34;</span><span class=\"p\">,</span> <span class=\"n\">img</span><span class=\"p\">)</span>\n\n    <span class=\"c1\"># if running slow on your computer, try process_every_n_frame = 10</span>\n    <span class=\"k\">if</span> <span class=\"n\">count_frame</span> <span class=\"o\">%</span> <span class=\"n\">process_every_n_frame</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n        <span class=\"n\">cv2</span><span class=\"o\">.</span><span class=\"n\">imshow</span><span class=\"p\">(</span><span class=\"s2\">&#34;YOLO&#34;</span><span class=\"p\">,</span> <span class=\"n\">pipeline</span><span class=\"p\">(</span><span class=\"n\">img</span><span class=\"p\">))</span>\n\n    <span class=\"c1\"># press keyboard &#39;q&#39; to exit</span>\n    <span class=\"k\">if</span> <span class=\"n\">cv2</span><span class=\"o\">.</span><span class=\"n\">waitKey</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"o\">&amp;</span> <span class=\"mh\">0xFF</span> <span class=\"o\">==</span> <span class=\"nb\">ord</span><span class=\"p\">(</span><span class=\"s1\">&#39;q&#39;</span><span class=\"p\">):</span>\n        <span class=\"k\">break</span>\n\n<span class=\"n\">cap</span><span class=\"o\">.</span><span class=\"n\">release</span><span class=\"p\">()</span>\n<span class=\"n\">cv2</span><span class=\"o\">.</span><span class=\"n\">destroyAllWindows</span><span class=\"p\">()</span></code></pre></div><p><a href=\"https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1c2po0Di\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">--&gt;é™„èµ å®Œæ•´ä»£ç æ”»ç•¥ï¼ŒçŒ›æˆ³ä¸‹è½½&lt;--</a></p><p class=\"ztext-empty-paragraph\"><br/></p><p>æ­¤åˆ»æŒå£°åº”å†æ¬¡å“èµ·ï¼Œå¯ä»¥æ‰“å¼€æ‰‹æœºç›¸å†Œå¯¹ç€æ‘„åƒå¤´å¤šæ£€æµ‹ä¸€äº›å›¾ç‰‡ï¼Œæ­å–œä½ åˆ›é€ äº†ä¸€ä¸ªè¿æ³°è¿ªç†Šå’Œå•èº«ç‹—ä¹Ÿèƒ½å‡†ç¡®è¯†åˆ«çš„AIï¼Œè¿™è¿˜åªæ˜¯CPUé…Tiny YOLOçš„ç»“æœï¼Œå¦‚æœç”¨GPUæ­é…YOLOv2ï¼ŒAIè¡¨ç°ä¼šæ›´ç†æƒ³</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-b8d59310ba40311bf5bf180f3d886bc9_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"858\" class=\"origin_image zh-lightbox-thumb\" width=\"1280\" data-original=\"https://pic2.zhimg.com/v2-b8d59310ba40311bf5bf180f3d886bc9_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1280&#39; height=&#39;858&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"858\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1280\" data-original=\"https://pic2.zhimg.com/v2-b8d59310ba40311bf5bf180f3d886bc9_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-b8d59310ba40311bf5bf180f3d886bc9_b.jpg\"/></figure><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-e66fe5bfa4924b3737edafeedfcc6419_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1276\" data-rawheight=\"854\" class=\"origin_image zh-lightbox-thumb\" width=\"1276\" data-original=\"https://pic2.zhimg.com/v2-e66fe5bfa4924b3737edafeedfcc6419_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1276&#39; height=&#39;854&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1276\" data-rawheight=\"854\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1276\" data-original=\"https://pic2.zhimg.com/v2-e66fe5bfa4924b3737edafeedfcc6419_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-e66fe5bfa4924b3737edafeedfcc6419_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 5: Use YOLO in our life</b></h2><p>å¸¸è§çš„YOLOå¯ä½¿ç”¨åœºæ™¯ä¾‹å¦‚ï¼š</p><ol><li>åœè½¦åœºçš„è½¦ç‰Œè‡ªåŠ¨è¯†åˆ«</li><li>ç›¸æœºçš„äººè„¸è‡ªåŠ¨è¯†åˆ«</li><li>æ— äººé©¾é©¶çš„è½¦è¾†ã€è¡Œäººå’Œäº¤é€šæ ‡å¿—è¯†åˆ«</li><li>å•†åœºå’Œè¡—é“çš„äººæµã€è½¦æµæ£€æµ‹ç»Ÿè®¡</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART FINAL: æ›´å¤šæ”»ç•¥ï¼ŒHave fun!</b></h2><p>æƒ³è¦äº†è§£ YOLO å·¥ä½œåŸç†ï¼Œç©¿è¶Šå» <a href=\"https://zhuanlan.zhihu.com/p/32172286\" class=\"internal\">5åˆ†é’Ÿå­¦ä¼šAI - How YOLO only look once</a></p><p>æƒ³è¦äº†è§£ YOLO æ ¸å¿ƒæŠ€æœ¯ï¼Œç©¿è¶Šå» <a href=\"https://zhuanlan.zhihu.com/p/32242018\" class=\"internal\">5åˆ†é’Ÿå­¦ä¼šAI - Convolution Neural Network in YOLO</a></p><p><a href=\"https://link.zhihu.com/?target=https%3A//pjreddie.com/darknet/yolo/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">YOLO Official</a></p><p><a href=\"https://link.zhihu.com/?target=https%3A//github.com/allanzelener/YAD2K\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">Keras ä¹Ÿèƒ½ç”¨ YOLO: YAD2K - Yet Another Darknet 2 Keras</a></p><p><a href=\"https://link.zhihu.com/?target=http%3A//machinethink.net/blog/yolo-coreml-versus-mps-graph/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">iPhone ä¹Ÿèƒ½ç”¨ YOLO: YOLO with Core ML</a></p><p class=\"ztext-empty-paragraph\"><br/></p><hr/><p><i>å¦‚éœ€åˆä½œæˆ–è½¬è½½è¯·è”ç³»æœ¬æ–‡ä½œè€…ï¼Œè·ªè°¢</i></p>", 
            "topic": [
                {
                    "tag": "äººå·¥æ™ºèƒ½", 
                    "tagLink": "https://api.zhihu.com/topics/19551275"
                }, 
                {
                    "tag": "ç‰©ä½“è¯†åˆ«", 
                    "tagLink": "https://api.zhihu.com/topics/19617234"
                }, 
                {
                    "tag": "AIæŠ€æœ¯", 
                    "tagLink": "https://api.zhihu.com/topics/20106982"
                }
            ], 
            "comments": [
                {
                    "userName": "å¼ å‡éš†", 
                    "userLink": "https://www.zhihu.com/people/04445b33712f0fe61530c807bbdc62bb", 
                    "content": "èƒ½ä¸èƒ½ä»‹ç»ä¸€ä¸‹å¦‚ä½•è®­ç»ƒï¼Ÿ", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "Orange", 
                    "userLink": "https://www.zhihu.com/people/f4f3b527e1a25675fcaa5161d8fc2d0c", 
                    "content": "<p>ç”¨è‡ªå·±çš„æ•°æ®å¯ä»¥ç”¨yoloè®­ç»ƒä¸€ä¸ªäºŒåˆ†ç±»æ¨¡å‹å—ï¼Ÿ</p>", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "å¤æŸ³-DesertsX", 
                    "userLink": "https://www.zhihu.com/people/4606d5b7cdaac898cd5b73cc70b91f7d", 
                    "content": "ä¸é”™", 
                    "likes": 0, 
                    "childComments": [
                        {
                            "userName": "çŸ¥ä¹ç”¨æˆ·", 
                            "userLink": "https://www.zhihu.com/people/0", 
                            "content": "<p>å¤§ä½¬18å¤©å°±åœ¨çœ‹äº†ã€‚</p>", 
                            "likes": 0, 
                            "replyToAuthor": "å¤æŸ³-DesertsX"
                        }, 
                        {
                            "userName": "å¤æŸ³-DesertsX", 
                            "userLink": "https://www.zhihu.com/people/4606d5b7cdaac898cd5b73cc70b91f7d", 
                            "content": "æˆ‘ä¸æ˜¯ï¼Œæˆ‘æ²¡æœ‰ï¼Œåˆ«çè¯´å•Š", 
                            "likes": 1, 
                            "replyToAuthor": "çŸ¥ä¹ç”¨æˆ·"
                        }
                    ]
                }, 
                {
                    "userName": "weweiwew", 
                    "userLink": "https://www.zhihu.com/people/72e557984354c0b700afa9118c3acfbe", 
                    "content": "å¤§ä½¬", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "Askfk", 
                    "userLink": "https://www.zhihu.com/people/7b589047045c5f587690ede945a2afd0", 
                    "content": "<p>æ‚¨å¥½çœ‹äº†æ‚¨çš„æ–‡ç« è·ç›ŠåŒªæµ…ï¼Œä½†æ˜¯æˆ‘åœ¨å®é™…æ“ä½œä¸­é‡åˆ°äº†ä¸€äº›é—®é¢˜ã€‚æˆ‘ç”¨çš„æ˜¯macosç³»ç»Ÿï¼ŒæŒ‰ç…§yoloå®˜ç½‘çš„è¯´æ˜åœ¨ç»ˆç«¯è¿è¡Œå¯ä»¥ä½¿ç”¨gpuè¿ç®—ï¼Œå¯åœ¨pythonä¸­è®¾ç½®darknet.set_gpu(1)ä¹‹åï¼Œç¨‹åºä»æ˜¯cpuè¿ç®—ï¼Œå¸Œæœ›å¤§ç¥ä¸ºæˆ‘è§£ç­”ä¸€ä¸‹ï¼Œè°¢è°¢ã€‚</p>", 
                    "likes": 0, 
                    "childComments": [
                        {
                            "userName": "çŸ¥ä¹ç”¨æˆ·", 
                            "userLink": "https://www.zhihu.com/people/0", 
                            "content": "<p>GPUæˆ‘æœ¬åœ°æ²¡è·‘è¿‡ã€‚æˆ‘çš„çŒœæµ‹åº”è¯¥æ˜¯åªæ”¯æŒNVIDIAçš„æ˜¾å¡ï¼Œmacå¦‚æœæ˜¯ç¬”è®°æœ¬é€šå¸¸æ˜¯intelæ˜¾å¡</p>", 
                            "likes": 0, 
                            "replyToAuthor": "Askfk"
                        }, 
                        {
                            "userName": "Askfk", 
                            "userLink": "https://www.zhihu.com/people/7b589047045c5f587690ede945a2afd0", 
                            "content": "<p>æˆ‘çš„macæ˜¯GTX750Mæ˜¾å¡ï¼Œè€Œä¸”åœ¨ç»ˆç«¯è°ƒç”¨YOLOå®˜ç½‘ç¤ºä¾‹ä»£ç ä¹Ÿå¯ä»¥è¿›è¡Œgpuè¿ç®—ï¼Œä½†æ˜¯åœ¨pythonä¸­å°±æ— æ³•è°ƒç”¨gpuï¼Œæˆ‘å°è¯•äº†æŠŠcuda.cä¸­cuda_set_deviceå‡½æ•°çš„gpu_indexç›´æ¥è®¾ç½®ä¸º1ï¼Œä¹Ÿæ— æ³•å®ç°gpuè¿ç®—ï¼Œæˆ‘å¯¹c++äº†è§£çš„ä¸æ˜¯å¾ˆå¤šï¼Œå¸Œæœ›å¤§ç¥èƒ½å¤Ÿå¸®æˆ‘ï¼Œè°¢è°¢ã€‚</p><p></p>", 
                            "likes": 0, 
                            "replyToAuthor": "çŸ¥ä¹ç”¨æˆ·"
                        }
                    ]
                }, 
                {
                    "userName": "é›…æ€è¦è¿‡8", 
                    "userLink": "https://www.zhihu.com/people/6465723bcd5ce7a68ea454ce2f7b45be", 
                    "content": "<p>æ‚¨å¥½ï¼çœ‹äº†è¿™ç¯‡æ–‡ç« ï¼Œå—ç›ŠåŒªæµ…ï¼Œæˆ‘æƒ³è¯·æ•™ä¸€ä¸‹ç”¨pythonè·‘å¸¦æœ‰nnpackçš„darknetæ€ä¹ˆç”¨å®ƒæœ¬æ¥çš„darknet.pyæ–‡ä»¶ä¸è¡Œå‘¢ï¼Ÿä¸€ç¼–è¯‘å®ƒå°±æŠ¥é”™ï¼Œè¯´ä»€ä¹ˆundefined symbol:cvWaitKeyï¼Œåœ¨ç½‘ä¸ŠæŸ¥äº†å¾ˆä¹…èµ„æ–™ä¹Ÿæ²¡è§£å†³ï¼Œæ±‚æ•™å¤§ä½¬~ï¼ˆæ€¥ï¼‰</p>", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "å˜»å˜»å˜»å˜»", 
                    "userLink": "https://www.zhihu.com/people/aba85e6e80320b046d69d06d2a0e5541", 
                    "content": "<p>cd darknet<br>make   </p><p>ä¸ºä»€ä¹ˆæˆ‘è¿è¡Œæ€»æ˜¯bash-make command not found</p>", 
                    "likes": 0, 
                    "childComments": [
                        {
                            "userName": "çŸ¥ä¹ç”¨æˆ·", 
                            "userLink": "https://www.zhihu.com/people/0", 
                            "content": "<p>æˆ‘æƒ³é—®ä¸€ä¸‹ï¼Œæˆ‘ä¹Ÿå‡ºç°äº†è¿™æ ·çš„é—®é¢˜ï¼Œä½ æ˜¯æ€ä¹ˆè§£å†³çš„ï¼Ÿéå¸¸æ„Ÿè°¢ï¼</p>", 
                            "likes": 0, 
                            "replyToAuthor": "å˜»å˜»å˜»å˜»"
                        }
                    ]
                }, 
                {
                    "userName": "é™ˆæ—­æº", 
                    "userLink": "https://www.zhihu.com/people/5723f3abab9e70917d2bb31e869cf447", 
                    "content": "<p>è°¢è°¢ï¼Œå¸®åˆ°æˆ‘äº†hhh</p>", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "ä¸ä¸ºäººçŸ¥", 
                    "userLink": "https://www.zhihu.com/people/521a98886f99b9a6a3bbf279739d8d0d", 
                    "content": "<p>éº»çƒ¦é—®ä¸€ä¸‹FLOPSä¸€æ é‡Œé¢ï¼ŒBnæ˜¯ä»€ä¹ˆçš„ç¼©å†™ã€‚</p>", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "fnima", 
                    "userLink": "https://www.zhihu.com/people/0652712d703111ee9229e9f1e9630414", 
                    "content": "<p>ä½ å¥½ï¼Œå®ƒæ˜¾ç¤ºæ— æ³•æ‰“å¼€libdarknet.soæ–‡ä»¶ã€‚</p>", 
                    "likes": 0, 
                    "childComments": [
                        {
                            "userName": "æ¤°å­le", 
                            "userLink": "https://www.zhihu.com/people/a759bb74d6544b360c27289508c2291a", 
                            "content": "libdarknet.soè·¯å¾„æ”¹ä¸€ä¸‹å°±è¡Œäº†", 
                            "likes": 0, 
                            "replyToAuthor": "fnima"
                        }
                    ]
                }, 
                {
                    "userName": "OjoRojo", 
                    "userLink": "https://www.zhihu.com/people/141f133c25936801ccedb3e09d390139", 
                    "content": "<p>darknetä¸æ˜¯ç”¨C++å†™çš„ï¼Œæ˜¯ç”¨Cå’ŒCUDAå†™çš„</p>", 
                    "likes": 0, 
                    "childComments": [
                        {
                            "userName": "çŸ¥ä¹ç”¨æˆ·", 
                            "userLink": "https://www.zhihu.com/people/0", 
                            "content": "<p>è°¢è°¢æŒ‡æ­£</p>", 
                            "likes": 0, 
                            "replyToAuthor": "OjoRojo"
                        }
                    ]
                }, 
                {
                    "userName": "æ¤°å­le", 
                    "userLink": "https://www.zhihu.com/people/a759bb74d6544b360c27289508c2291a", 
                    "content": "pythonæ¥å£è°ƒç”¨çš„æ£€æµ‹æ—¶é—´å’Œdarknetä¸‹é¢çš„æ£€æµ‹æ—¶é—´ä¸ºä»€ä¹ˆä¼šæœ‰ä¸€ä¸ªæ•°é‡çº§çš„å·®è·å‘¢ï¼Œå¤§ç¥èƒ½å›ç­”ä¸€ä¸‹å˜›", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "çŸ¥ä¹ç”¨æˆ·", 
                    "userLink": "https://www.zhihu.com/people/0", 
                    "content": "<p>è¿™ä¸ªä¸èƒ½ç”¨WINæ“ä½œå—ï¼Ÿ</p>", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "ç¿»ç¿»å­¦å§", 
                    "userLink": "https://www.zhihu.com/people/a00904ee84fdeee06a9da44b80e5c712", 
                    "content": "<p>è¿è¡Œpython ç‰ˆæœ¬çš„ <a href=\"http://link.zhihu.com/?target=http%3A//darknet.py\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">darknet.py</a> æ²¡æœ‰ç”Ÿæˆçš„prediction.png å›¾äº†ï¼Œè¯·é—®ä¸€ä¸‹è¦æ€æ ·å­˜é¢„æµ‹å‡ºæ¥çš„ç»“æœå›¾ï¼Ÿ</p>", 
                    "likes": 0, 
                    "childComments": []
                }
            ]
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/33123924", 
            "userName": "é•¿è„š", 
            "userLink": "https://www.zhihu.com/people/59e31f1c355dd88f47fd61d2937b02aa", 
            "upvote": 12, 
            "title": "5åˆ†é’ŸGETå…¨æ ˆå¼€å‘ - å¢åˆ æ”¹æŸ¥çš„å–ç»ä¹‹è·¯", 
            "content": "<p>æœ¬æ–‡æ”»ç•¥ï¼šç‹¬ç«‹å…¨æ ˆå¼€å‘ä¸€ä¸ªé¡¹ç›®ï¼Œå®ç° Restful æ¥å£ï¼Œå®ç° Web æœåŠ¡ï¼Œå®ç°æ•°æ®åº“å¢åˆ æ”¹æŸ¥ï¼ˆCRUDï¼‰</p><p>å»ºè®®ç©å®¶ç­‰çº§ï¼šæŠ€æœ¯å°ç™½ï¼Œå­¦ç”Ÿå…šï¼Œåˆçº§ç å†œ</p><p class=\"ztext-empty-paragraph\"><br/></p><p>é˜…è¯»æ­¤æ–‡å…ˆè§£é”æŠ€èƒ½ï¼š</p><ol><li>ä¸€ç‚¹ç‚¹å‘½ä»¤è¡ŒåŸºç¡€</li><li>ä¸€ç‚¹ç‚¹ GO åŸºç¡€ï¼š<a href=\"https://link.zhihu.com/?target=http%3A//www.runoob.com/go/go-tutorial.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">ä¸‰å¤©åŒ…å­¦ä¼š</a></li><li>ä¸€ç‚¹ç‚¹ Restful API åŸºç¡€</li><li>ä¸€ç‚¹ç‚¹ MongoDB åŸºç¡€ï¼š<a href=\"https://link.zhihu.com/?target=http%3A//www.runoob.com/mongodb/mongodb-tutorial.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">ä¸€å¤©åŒ…å­¦ä¼š</a></li><li>ä¸€ç‚¹ç‚¹å…¨æ ˆå¼€å‘çŸ¥è¯†ï¼š<a href=\"https://zhuanlan.zhihu.com/p/33003538\" class=\"internal\">5åˆ†é’Ÿå­¦ä¼šå…¨æ ˆå¼€å‘</a></li></ol><p>å®è·µæ­¤æ–‡æ¨èè£…å¤‡ï¼š</p><ol><li>æ“ä½œç³»ç»Ÿï¼šmacOS Sierraï¼ˆWindowsä¹Ÿæ²¡æ¯›ç—…ï¼‰</li><li>IDEï¼šVSCode</li><li>Restful API å·¥å…·ï¼šPawã€Postman æˆ–è€… Swagger Editor</li><li>æ•°æ®åº“ï¼šMongoDB</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 1: å¢åˆ æ”¹æŸ¥çš„å‰ä¸–ä»Šç”Ÿ What is CRUD</b></h2><p>å…¨æ ˆå¼€å‘è¿™ä»¶äº‹ï¼Œå…¶æœ¬è´¨æ˜¯æŠŠæ•°æ®ä»å‰ç«¯å¼€å§‹ï¼Œç¿»å±±è¶Šå²­ï¼Œå†ç»81éš¾ï¼Œæœ€ç»ˆè¿é€åˆ°æ•°æ®åº“çš„è¿‡ç¨‹ã€‚</p><p>ä¸¾ä¸ªæ —å­ï¼Œå‡ ä¹æ¯ä¸ªå•†ä¸šé¡¹ç›®éƒ½ä¼šæœ‰åˆ†ç±»ï¼ˆCategoryï¼‰æ¨¡å—ï¼Œå‡è®¾æ˜Ÿå·´å…‹æœ‰4ç§å•†å“åˆ†ç±»ï¼šå’–å•¡ã€ç”œå“ã€ä¸‰æ˜æ²»ã€èŒ¶ç“¦çº³ã€‚</p><p>è€Œä¼´éšç€åˆ†ç±»æ•°æ®ä¸€èµ·è¯ç”Ÿçš„æ˜¯æ•°æ®æ“ä½œå­ªç”Ÿå››å…„å¼Ÿï¼šå¢åˆ æ”¹æŸ¥ï¼ˆCRUDï¼‰ã€‚å­¦è¿‡æ•°æ®åº“çš„ç©å®¶å¯¹è¿™å››ä¸ªå®¶ä¼™é‚£ä¸€å®šæ˜¯åˆçˆ±åˆæ¨ã€‚</p><ol><li>å¢ï¼ˆCreateï¼‰ï¼šå¢åŠ ä¸€ä¸ªåˆ†ç±»ï¼Œä»æ— åˆ°æœ‰</li><li>åˆ ï¼ˆDeleteï¼‰ï¼šåˆ é™¤ä¸€ä¸ªåˆ†ç±»ï¼Œä»æœ‰å˜æ— </li><li>æ”¹ï¼ˆUpdateï¼‰ï¼šä¿®æ”¹ä¸€ä¸ªåˆ†ç±»ï¼Œå·²å­˜åœ¨çš„åˆ†ç±»ï¼Œåªæ˜¯å†…å®¹å˜äº†</li><li>æŸ¥ï¼ˆRetrieveï¼‰ï¼šæŸ¥è¯¢ä¸€ä¸ªåˆ†ç±»çš„ä¸€åˆ‡å†…å®¹</li></ol><p>åœ¨å…¨æ ˆå¼€å‘çš„æ¯ä¸€ä¸ªæ ˆé‡Œï¼Œæˆ‘ä»¬éƒ½å°†å’Œæ“ä½œå››å…„å¼Ÿï¼ˆCRUDï¼‰å½¢å½±ä¸ç¦»ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><blockquote><i>æœ¬ç¯‡æ–‡ç« ä¼šæš‚æ—¶å…ˆå¿½ç•¥å‰ç«¯å®ç°å¢åˆ æ”¹æŸ¥çš„ç»†èŠ‚ï¼Œç›´æ¥ä»å‰ç«¯è°ƒç”¨ Restful API è¯´èµ·ï¼Œå…³äºå‰ç«¯å¼€å‘å®ç°ä¼šåœ¨ä¸‹ç¯‡æ–‡ç« ç€é‡å…¨ç¯‡è®²è§£</i></blockquote><h2><b>PART 2: å¢åˆ æ”¹æŸ¥çš„å‰ç«¯æ•°æ®èµ·ç‚¹ - Restful API</b></h2><p>æ —å­ä¸­ï¼Œå‡è®¾ä¸€ä¸ªåˆ†ç±»æ•°æ® â€˜å’–å•¡â€™ å·²è¢«å‰ç«¯æ“ä½œå®Œæ¯•ï¼Œæ”¾åœ¨äº† Restful API é‚®æ”¿å±€é—¨å£å‡†å¤‡è¢« HTTP è¿é€å»è¢«æŒ‡å®šçš„åç«¯ï¼ˆäº‘ç«¯ï¼‰æ•°æ®åŠ å·¥å‚ï¼ŒHTTP è¿é€ â€™å’–å•¡â€˜ åˆ†ç±»çš„æ—¶å€™ä¼šä¸¥æ ¼æŒ‰ç…§ Restful é‚®æ”¿æ ‡å‡†æµç¨‹ï¼Œæµç¨‹ä¸­è§„å®šäº†å…¶ä¸­ä¸¤ä»¶å¾ˆé‡è¦çš„äº‹ï¼š</p><ul><li>HTTP ä½¿ç”¨ URL è§„èŒƒå‘Šè¯‰æ•°æ®åŠ å·¥å‚ï¼Œè¿™æ¡ â€˜å’–å•¡â€™ åˆ†ç±»æ•°æ®å°†è¢«é€åˆ°å·¥å‚é‡Œå¤„ç† â€˜åˆ†ç±»â€™ çš„éƒ¨é—¨</li><li>HTTP ä½¿ç”¨ Method è§„èŒƒå‘Šè¯‰æ•°æ®åŠ å·¥å‚ï¼Œè¿™æ¡ â€˜å’–å•¡â€™ åˆ†ç±»æ•°æ®å°†åœ¨å¤„ç† â€˜åˆ†ç±»â€™ éƒ¨é—¨ä¸­è¿›è¡Œå¢åˆ æ”¹æŸ¥ï¼ˆCRUDï¼‰ä¸­çš„å“ªä¸ªåŠ å·¥æ“ä½œ</li></ul><p>äºæ˜¯æˆ‘ä»¬å®ç°4ä¸ª Restful APIï¼Œåˆ†åˆ«å¯¹åº”åˆ†ç±»ï¼ˆCategoryï¼‰çš„å¢åˆ æ”¹æŸ¥ï¼ˆCRUDï¼‰4ä¸ªæ“ä½œï¼š</p><ol><li>å¢ã€‚HTTP URLï¼š<a href=\"https://link.zhihu.com/?target=http%3A//xn--yfr8tk2g3by58b/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">http://{åŠ å·¥å‚åœ°å€}/</a>api/category/Addï¼ŒHTTP Methodï¼šPOST</li><li>åˆ ã€‚HTTP URLï¼š<a href=\"https://link.zhihu.com/?target=http%3A//xn--yfr8tk2g3by58b/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">http://{åŠ å·¥å‚åœ°å€</a><a href=\"https://link.zhihu.com/?target=http%3A//xn--yfr8tk2g3by58b/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">}/</a>api/category/editï¼ŒHTTP Methodï¼šDELETE</li><li>æ”¹ã€‚HTTP URLï¼š<a href=\"https://link.zhihu.com/?target=http%3A//xn--yfr8tk2g3by58b/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">http://{åŠ å·¥å‚åœ°å€}/</a>api/category/removeï¼ŒHTTP Methodï¼šPUT</li><li>æŸ¥ã€‚HTTP URLï¼š<a href=\"https://link.zhihu.com/?target=http%3A//xn--yfr8tk2g3by58b/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">http://{åŠ å·¥å‚åœ°å€}/</a>api/category/listï¼ŒHTTP Methodï¼šGET</li></ol><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-b9a93a253da01e376485df037a7b49f1_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1098\" data-rawheight=\"656\" class=\"origin_image zh-lightbox-thumb\" width=\"1098\" data-original=\"https://pic2.zhimg.com/v2-b9a93a253da01e376485df037a7b49f1_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1098&#39; height=&#39;656&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1098\" data-rawheight=\"656\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1098\" data-original=\"https://pic2.zhimg.com/v2-b9a93a253da01e376485df037a7b49f1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-b9a93a253da01e376485df037a7b49f1_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><blockquote><i>åç«¯åŠ å·¥å‚å¯ä»¥æ˜¯ä¸€ä¸ªä½“ç³»ç»“æ„ç®€å•çš„ä¼ ç»Ÿå°ä½œåŠï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªä½“ç³»ç»“æ„åŠå…¶å¤§è€Œå¤æ‚çš„ç°ä»£åŒ–æ™ºèƒ½å·¥å‚ã€‚è¿™å–å†³äºåç«¯ç¨‹åºå¤„ç†çš„å…·ä½“ä¸šåŠ¡é€»è¾‘éœ€æ±‚ä»¥åŠåç«¯ç¨‹åºæ¶æ„å¸ˆçš„è®¾è®¡ï¼Œè¿™åˆæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„èŒƒç•´ï¼Œæœ¬ç¯‡æ–‡ç« ä¸åšè¯¦ç»†è®²è§£ã€‚</i></blockquote><h2><b>PART 3: å¢åˆ æ”¹æŸ¥çš„åç«¯æ•°æ®åŠ å·¥å‚ - GO</b></h2><p>æˆ‘ä»¬çš„åç«¯åŠ å·¥å‚ç”¨äº†ä¸€ç§å¸¸è§çš„æ¶æ„å«åšMVCï¼ˆModel-View-Controllerï¼‰ï¼Œç®€å•æ˜“ç”¨<b>ã€‚</b>æˆ‘ä»¬å°†åŠ å·¥å‚åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨é—¨ä¸€èµ·ååŒå·¥ä½œï¼š</p><p class=\"ztext-empty-paragraph\"><br/></p><p><b>1. Web æœåŠ¡éƒ¨é—¨</b></p><p>è¿™æ˜¯ä¸ªç‚’é¸¡å¿™ç¢Œçš„éƒ¨é—¨ï¼Œä»–ä»¬ç†ŸçŸ¥  Restful API è§„èŒƒæ ‡å‡†ï¼Œä» HTTP æ‰‹é‡Œæ‹¿åˆ° â€˜å’–å•¡â€™ åˆ†ç±»æ•°æ®åï¼ˆHTTP Requestï¼‰ï¼Œå¹¶æŠŠ â€˜å’–å•¡â€™ æ•°æ®ç²¾å‡†æ— è¯¯é€ç»™ Controllers éƒ¨é—¨å¯¹åº”çš„é‚£ä¸ªåˆ†ç±»åŠ å·¥æ“ä½œå»å¤„ç†ï¼Œç­‰å¾…å¤„ç†ç»“æŸåå°† â€˜å’–å•¡â€™ å¤„ç†ç»“æœé€šè¿‡ HTTP åŸè·¯äº¤è¿˜ç»™å‰ç«¯ï¼ˆHTTP Responseï¼‰ã€‚</p><p>æˆ‘ä»¬å¢™è£‚æ¨èä½¿ç”¨ gin è¿™ä¸ªç¬¬ä¸‰æ–¹ Web Server API å¹¶<a href=\"https://link.zhihu.com/?target=https%3A//github.com/gin-gonic/gin\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">çŒ®ä¸Š gin çš„åœ°å€</a>ã€‚</p><p>æˆ‘ä»¬ç”¨ gin å®šä¹‰äº†4ä¸ªè·¯ç”±ï¼Œåˆ†åˆ«å¯¹åº”ä¹‹å‰å®šä¹‰çš„4ä¸ª Restful APIï¼Œå¹¶äº¤ç”± Controllers éƒ¨é—¨é‡Œ4ä¸ªæ–¹æ³•è¿›è¡Œ â€™å’–å•¡â€˜ åˆ†ç±»æ“ä½œå¤„ç†ï¼š</p><div class=\"highlight\"><pre><code class=\"language-go\"><span class=\"c1\">// Handle Restful API: /api\n</span><span class=\"c1\"></span><span class=\"nx\">app</span> <span class=\"o\">:=</span> <span class=\"nx\">router</span><span class=\"p\">.</span><span class=\"nf\">Group</span><span class=\"p\">(</span><span class=\"s\">&#34;/api&#34;</span><span class=\"p\">)</span>\n<span class=\"p\">{</span>\n\t<span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nf\">GET</span><span class=\"p\">(</span><span class=\"s\">&#34;/category/list&#34;</span><span class=\"p\">,</span> <span class=\"nx\">controllers</span><span class=\"p\">.</span><span class=\"nx\">GetCategoryList</span><span class=\"p\">)</span>\n\t<span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nf\">POST</span><span class=\"p\">(</span><span class=\"s\">&#34;/category/add&#34;</span><span class=\"p\">,</span> <span class=\"nx\">controllers</span><span class=\"p\">.</span><span class=\"nx\">CategoryAdd</span><span class=\"p\">)</span>\n\t<span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nf\">PUT</span><span class=\"p\">(</span><span class=\"s\">&#34;/category/edit&#34;</span><span class=\"p\">,</span> <span class=\"nx\">controllers</span><span class=\"p\">.</span><span class=\"nx\">CategoryEdit</span><span class=\"p\">)</span>\n\t<span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"nf\">DELETE</span><span class=\"p\">(</span><span class=\"s\">&#34;/category/remove&#34;</span><span class=\"p\">,</span> <span class=\"nx\">controllers</span><span class=\"p\">.</span><span class=\"nx\">CategoryRemove</span><span class=\"p\">)</span>\n<span class=\"p\">}</span></code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><p><b>2. Model éƒ¨é—¨</b></p><p>è¿™ä¸ªéƒ¨é—¨æ¯”è¾ƒé—²ï¼Œä½†å¾ˆä¸¥è°¨ï¼Œä»–ä»¬å®šä¹‰äº†ä¸€ä¸ªåˆ†ç±»çš„è§„èŒƒï¼Œåœ¨åç«¯é•¿ä»€ä¹ˆæ ·å­ï¼Œåœ¨å‰ç«¯é•¿ä»€ä¹ˆæ ·å­ï¼ˆjsonï¼‰ï¼Œåœ¨æ•°æ®åº“åˆé•¿ä»€ä¹ˆæ ·å­ï¼ˆbsonï¼‰ã€‚</p><div class=\"highlight\"><pre><code class=\"language-go\"><span class=\"kd\">type</span> <span class=\"nx\">Category</span> <span class=\"kd\">struct</span> <span class=\"p\">{</span>\n\t<span class=\"nx\">ID</span>       <span class=\"nx\">bson</span><span class=\"p\">.</span><span class=\"nx\">ObjectId</span> <span class=\"s\">`bson:&#34;_id&#34; json:&#34;id&#34;`</span>\n\t<span class=\"nx\">Title</span>    <span class=\"kt\">string</span>        <span class=\"s\">`bson:&#34;title&#34; json:&#34;title&#34;`</span>\n\t<span class=\"nx\">IsActive</span> <span class=\"kt\">int8</span>          <span class=\"s\">`bson:&#34;is_active&#34; json:&#34;is_active&#34;`</span>\n<span class=\"p\">}</span></code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><p><b>3. Controller éƒ¨é—¨</b></p><p>è¿™ä¸ªéƒ¨é—¨æ˜¯æ ¸å¿ƒä¸šåŠ¡å¤„ç†éƒ¨é—¨ï¼Œæ‰€æœ‰æ•°æ®éƒ½è¦åœ¨è¿™ä¸ªéƒ¨é—¨è¿›è¡ŒåŠ å·¥å¤„ç†åæ‰èƒ½å‡ºå‚ï¼Œæˆ‘ä»¬å®šä¹‰äº†4ä¸ªæ–¹æ³•æ¥åˆ†åˆ«å¤„ç† â€™å’–å•¡â€˜ åˆ†ç±»çš„å¢åˆ æ”¹æŸ¥4ä¸ªæ“ä½œã€‚</p><div class=\"highlight\"><pre><code class=\"language-go\"><span class=\"kd\">func</span> <span class=\"nf\">CategoryAdd</span><span class=\"p\">()</span> <span class=\"p\">{}</span> <span class=\"c1\">// å¢\n</span><span class=\"c1\"></span><span class=\"kd\">func</span> <span class=\"nf\">CategoryRemove</span><span class=\"p\">()</span> <span class=\"p\">{}</span> <span class=\"c1\">// åˆ \n</span><span class=\"c1\"></span><span class=\"kd\">func</span> <span class=\"nf\">CategoryEdit</span><span class=\"p\">()</span> <span class=\"p\">{}</span> <span class=\"c1\">// æ”¹\n</span><span class=\"c1\"></span><span class=\"kd\">func</span> <span class=\"nf\">GetCategoryList</span><span class=\"p\">()</span> <span class=\"p\">{}</span> <span class=\"o\">//</span> <span class=\"nx\">æŸ¥</span></code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><p><b>4. DB éƒ¨é—¨</b></p><p>è¿™ä¸ªéƒ¨é—¨æ˜¯å¹²è„æ´»ç´¯æ´»çš„éƒ¨é—¨ï¼Œä½†åˆå¾ˆé‡è¦çš„éƒ¨é—¨ã€‚ä»–ä»¬å¬ä» Controllers éƒ¨é—¨çš„æŒ‡æŒ¥ï¼Œè´Ÿè´£æŠŠ â€™å’–å•¡â€˜ åˆ†ç±»æ•°æ®åœ¨ Controllers éƒ¨é—¨å’Œæ•°æ®åº“ä¹‹é—´è¿›è¡Œè¿è¾“ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨çš„æ•°æ®åº“æ˜¯ MongoDBï¼Œæ‰€ä»¥æˆ‘ä»¬å¢™è£‚æ¨èä½¿ç”¨ mgoï¼Œmgo æ˜¯ä¸€ä¸ªå¸®åŠ©GOè¯­è¨€æ“ä½œMongoDBçš„ç¬¬ä¸‰æ–¹APIï¼ŒåŒæ ·<a href=\"https://link.zhihu.com/?target=http%3A//labix.org/mgo\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">çŒ®ä¸Š mgo åœ°å€</a>ã€‚</p><p>ç„¶å Controllers å°±åªéœ€è¦3è¡Œä»£ç ï¼Œå°±å¯ä»¥è½»æ¾æ“ä½œ MongoDBï¼š</p><div class=\"highlight\"><pre><code class=\"language-go\"><span class=\"nx\">session</span><span class=\"p\">,</span> <span class=\"nx\">db</span> <span class=\"o\">:=</span> <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nf\">Get</span><span class=\"p\">()</span>\n<span class=\"nx\">collection</span> <span class=\"o\">:=</span> <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nf\">C</span><span class=\"p\">(</span><span class=\"s\">&#34;category&#34;</span><span class=\"p\">)</span>\n\n<span class=\"nx\">collection</span><span class=\"p\">.</span><span class=\"nf\">Insert</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"nx\">model</span><span class=\"p\">)</span> <span class=\"c1\">// å¢\n</span><span class=\"c1\"></span><span class=\"nx\">collection</span><span class=\"p\">.</span><span class=\"nf\">Update</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"nx\">model</span><span class=\"p\">)</span> <span class=\"c1\">// åˆ ï¼Œæ”¹\n</span><span class=\"c1\"></span><span class=\"nx\">collection</span><span class=\"p\">.</span><span class=\"nf\">Find</span><span class=\"p\">().</span><span class=\"nf\">One</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"nx\">model</span><span class=\"p\">)</span> <span class=\"o\">//</span> <span class=\"nx\">æŸ¥</span></code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><p><b>5. Libs éƒ¨é—¨</b></p><p>è¿™ä¸ªéƒ¨é—¨æ˜¯æ”¯æŒéƒ¨é—¨ï¼Œæˆ‘ä»¬ä¼šæŠŠä¸€äº›å¸¸ç”¨çš„å…¬å…±æ“ä½œå’Œæ–¹æ³•ä¸€èµ·æ”¾åœ¨è¿™é‡Œï¼Œæä¾›ç»™æ‰€æœ‰å…¶ä»–éƒ¨é—¨ä½¿ç”¨ã€‚</p><p>ç€é‡æä¸€ä¸‹ Libs ä¸‹çš„æ—¥å¿—éƒ¨é—¨ï¼Œåœ¨å¼€å‘å’Œè¿ç»´çš„è¿‡ç¨‹ä¸­ï¼Œæ’æŸ¥é—®é¢˜å’Œæ•°æ®ç»Ÿè®¡çš„é‡è¦æ¥æºæ˜¯ç³»ç»Ÿæ—¥å¿—ï¼Œæ‰€ä»¥æ—¥å¿—éƒ¨é—¨äº‹æ— å·¨ç»†çš„è®°å½•ç€æ‰€æœ‰å·¥å‚é‡Œå¤§å¤§å°å°çš„äº‹æƒ…ï¼Œè™½ç„¶åšçš„äº‹æƒ…å¹¶ä¸èµ·çœ¼ï¼Œä½†ç¦»å¼€äº†ä»–ä»¬ï¼Œä¸€æ—¦ç³»ç»Ÿå‡ºä»»ä½•é—®é¢˜çš„æ—¶å€™å°±ä¼šå˜å¾—æ¯«æ— å¤´ç»ªï¼Œæ‰€ä»¥å½“ç³»ç»Ÿå‘ç”Ÿé—®é¢˜çš„æ—¶å€™ï¼Œæ—¥å¿—çš„ä½œç”¨å ªç§°å…¨å‚MVPã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨äº†ä¸€æ¬¾å¾ˆä¼˜é›…çš„ç¬¬ä¸‰æ–¹æ—¥å¿—åº“ <a href=\"https://link.zhihu.com/?target=https%3A//github.com/op/go-logging\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">Golang logging</a>ï¼Œæ¥çœ‹çœ‹å®ƒçš„é¢œå€¼æœ‰å¤šé«˜å§ã€‚</p><div class=\"highlight\"><pre><code class=\"language-go\"><span class=\"nx\">Log</span><span class=\"p\">.</span><span class=\"nf\">Debugf</span><span class=\"p\">(</span><span class=\"s\">&#34;debug %s&#34;</span><span class=\"p\">,</span> <span class=\"s\">&#34;hello&#34;</span><span class=\"p\">)</span> <span class=\"c1\">// å¸¸ç”¨äºå¼€å‘è°ƒè¯•ä¿¡æ¯è¾“å‡º\n</span><span class=\"c1\"></span><span class=\"nx\">Log</span><span class=\"p\">.</span><span class=\"nf\">Info</span><span class=\"p\">(</span><span class=\"s\">&#34;info&#34;</span><span class=\"p\">)</span> <span class=\"c1\">// æœ€æ™®é€šçš„ä¿¡æ¯è¾“å‡º\n</span><span class=\"c1\"></span><span class=\"nx\">Log</span><span class=\"p\">.</span><span class=\"nf\">Notice</span><span class=\"p\">(</span><span class=\"s\">&#34;notice&#34;</span><span class=\"p\">)</span> <span class=\"c1\">// æ¯” Info æ›´é‡è¦ä¸€ç‚¹çš„ä¿¡æ¯è¾“å‡º\n</span><span class=\"c1\"></span><span class=\"nx\">Log</span><span class=\"p\">.</span><span class=\"nf\">Warning</span><span class=\"p\">(</span><span class=\"s\">&#34;warning&#34;</span><span class=\"p\">)</span> <span class=\"c1\">// ç³»ç»Ÿæœ‰è­¦å‘Šï¼Œä½†ä»ç„¶å¯ä»¥æ­£å¸¸è¿è¡Œ\n</span><span class=\"c1\"></span><span class=\"nx\">Log</span><span class=\"p\">.</span><span class=\"nf\">Error</span><span class=\"p\">(</span><span class=\"s\">&#34;err&#34;</span><span class=\"p\">)</span> <span class=\"c1\">// ç³»ç»Ÿå‘ç”Ÿé”™è¯¯ï¼Œæœ‰å¯èƒ½æ— æ³•æ­£å¸¸è¿è¡Œ\n</span><span class=\"c1\"></span><span class=\"nx\">Log</span><span class=\"p\">.</span><span class=\"nf\">Critical</span><span class=\"p\">(</span><span class=\"s\">&#34;crit&#34;</span><span class=\"p\">)</span> <span class=\"o\">//</span> <span class=\"nx\">ç³»ç»Ÿå´©æºƒ</span><span class=\"err\">ï¼Œ</span><span class=\"nx\">æ— æ³•æ­£å¸¸è¿è¡Œ</span></code></pre></div><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-8e79f1a552a4043d3e20b6dca54ea927_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"856\" data-rawheight=\"264\" class=\"origin_image zh-lightbox-thumb\" width=\"856\" data-original=\"https://pic4.zhimg.com/v2-8e79f1a552a4043d3e20b6dca54ea927_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;856&#39; height=&#39;264&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"856\" data-rawheight=\"264\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"856\" data-original=\"https://pic4.zhimg.com/v2-8e79f1a552a4043d3e20b6dca54ea927_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-8e79f1a552a4043d3e20b6dca54ea927_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 4: å¢åˆ æ”¹æŸ¥çš„æ•°æ®å½’å®¿ - MongoDB</b></h2><p>æˆ‘ä»¬å…ˆè®²è§£ä¸€ä¸‹ä¼ ç»Ÿ SQL ï¼ˆä¾‹å¦‚ MySQLï¼‰æ˜¯æ€ä¹ˆåšå¢åˆ æ”¹æŸ¥æ“ä½œçš„ï¼š</p><div class=\"highlight\"><pre><code class=\"language-sql\"><span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">category</span> <span class=\"k\">VALUES</span> <span class=\"p\">(</span><span class=\"s1\">&#39;5a4e5edb51ed8c6880ca11b7&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;å’–å•¡&#39;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">);</span> <span class=\"o\">#</span> <span class=\"err\">å¢</span>\n<span class=\"k\">UPDATE</span> <span class=\"n\">category</span> <span class=\"k\">SET</span> <span class=\"n\">is_active</span> <span class=\"o\">=</span> <span class=\"mi\">0</span> <span class=\"k\">WHERE</span> <span class=\"n\">id</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;5a4e5edb51ed8c6880ca11b7&#39;</span><span class=\"p\">;</span> <span class=\"o\">#</span> <span class=\"err\">åˆ </span>\n<span class=\"k\">UPDATE</span> <span class=\"n\">category</span> <span class=\"k\">SET</span> <span class=\"n\">title</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;Coffee&#39;</span> <span class=\"k\">WHERE</span> <span class=\"n\">id</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;5a4e5edb51ed8c6880ca11b7&#39;</span><span class=\"p\">;</span> <span class=\"o\">#</span> <span class=\"err\">æ”¹</span>\n<span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"n\">category</span> <span class=\"k\">WHERE</span> <span class=\"n\">is_active</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">;</span> <span class=\"o\">#</span> <span class=\"err\">æŸ¥</span></code></pre></div><blockquote><i>Tipsï¼šé€šå¸¸å•†ä¸šé¡¹ç›®ä¸ä¼šçœŸæ­£ç‰©ç†åˆ é™¤ä¸€æ¡å·²å­˜åœ¨çš„æ•°æ®ï¼Œæ‰€ä»¥æˆ‘ä»¬åŠ ä¸€ä¸ª is_active å­—æ®µè¡¨ç¤ºé€»è¾‘åˆ é™¤ï¼Œ1-ä»£è¡¨å¯ä½¿ç”¨ï¼Œ0-ä»£è¡¨å·²åˆ é™¤</i></blockquote><p>å¾ˆä¹…å¾ˆä¹…ä»¥å‰ï¼Œæˆ‘ä»¬çš„åç«¯ DB éƒ¨é—¨ä¼šä½¿ç”¨ä¸€ä¸ªå°è£…å¥½çš„ SQLHelper API æ¥æ“ä½œæ•°æ®åº“ï¼š</p><div class=\"highlight\"><pre><code class=\"language-csharp\"><span class=\"n\">SQLHelper</span><span class=\"p\">.</span><span class=\"n\">Connect</span><span class=\"p\">(</span><span class=\"s\">&#34;Server=localhost;Port=3306;Database=category;&#34;</span><span class=\"p\">)</span>\n<span class=\"n\">SQLHelper</span><span class=\"p\">.</span><span class=\"n\">Open</span><span class=\"p\">()</span>\n<span class=\"kt\">string</span> <span class=\"n\">sql</span> <span class=\"p\">=</span> <span class=\"s\">&#34;UPDATE category SET is_active = 0 WHERE id = &#39;5a4e5edb51ed8c6880ca11b7&#39;&#34;</span>\n<span class=\"kt\">int</span> <span class=\"n\">result</span> <span class=\"p\">=</span> <span class=\"n\">SQLHelper</span><span class=\"p\">.</span><span class=\"n\">Execute</span><span class=\"p\">(</span><span class=\"n\">sql</span><span class=\"p\">)</span>\n<span class=\"n\">SQLHelper</span><span class=\"p\">.</span><span class=\"n\">Close</span><span class=\"p\">()</span>\n</code></pre></div><p>è™½ç„¶å·²ç»å¾ˆæ–¹ä¾¿äº†ï¼Œä½†æ˜¯æˆ‘ä»¬æ€»æ˜¯å«Œå¼ƒæ•°æ®åº“æ“ä½œä¸å¤Ÿèªæ˜ï¼Œæ¯æ¬¡éƒ½éœ€è¦ç¼–å†™ SQLï¼Œäºæ˜¯æœ‰äº†ä¸€ç§æ›´ Popular çš„åšæ³•ç§°ä¹‹ä¸º ORMï¼Œè¿™é‡Œçœç•¥äº†å¾ˆå¤š ORM åŸç†å’Œå®ç°ç»†èŠ‚ï¼Œæœ€ç»ˆä»£ç åªéœ€è¦è¿™ä¹ˆå†™ï¼š</p><div class=\"highlight\"><pre><code class=\"language-csharp\"><span class=\"n\">Category</span> <span class=\"n\">model</span> <span class=\"p\">=</span> <span class=\"n\">Factory</span><span class=\"p\">.</span><span class=\"n\">Create</span><span class=\"p\">(</span><span class=\"s\">&#34;Category&#34;</span><span class=\"p\">)</span>\n<span class=\"n\">model</span><span class=\"p\">.</span><span class=\"n\">ID</span> <span class=\"p\">=</span> <span class=\"s\">&#34;5a4e5edb51ed8c6880ca11b7&#34;</span>\n<span class=\"n\">model</span><span class=\"p\">.</span><span class=\"n\">Remove</span><span class=\"p\">()</span>\n</code></pre></div><blockquote><i>è‡³äºå¤æ‚çš„ ORM æ˜¯æ€ä¹ˆæŠŠæ•°æ®åº“çš„å­—æ®µå˜æˆ Model å¯¹è±¡çš„ï¼Œéƒ½ä¸€å¹¶äº¤ç»™ Factory.Create() è¿™ä¸ªéƒ¨é—¨å»å®ç°ï¼Œæœ¬ç¯‡æ–‡ç« ä¸åšè¯¦ç»†è®²è§£ã€‚</i></blockquote><p class=\"ztext-empty-paragraph\"><br/></p><p>æˆ‘ä»¬å†å›è¿‡æ¥è®²ä¸€ä¸‹ NoSQL çš„ MongoDB æ˜¯æ€ä¹ˆåšå¢åˆ æ”¹æŸ¥æ“ä½œçš„ï¼š</p><div class=\"highlight\"><pre><code class=\"language-go\"><span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">category</span><span class=\"p\">.</span><span class=\"nf\">insert</span><span class=\"p\">({</span><span class=\"s\">&#34;_id&#34;</span> <span class=\"p\">:</span> <span class=\"nf\">ObjectId</span><span class=\"p\">(</span><span class=\"s\">&#34;5a4e5edb51ed8c6880ca11b7&#34;</span><span class=\"p\">),</span> <span class=\"s\">&#34;title&#34;</span><span class=\"p\">:</span> <span class=\"s\">&#34;å’–å•¡&#34;</span><span class=\"p\">,</span> <span class=\"s\">&#34;is_active&#34;</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">})</span> <span class=\"err\">#</span> <span class=\"nx\">å¢</span>\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">category</span><span class=\"p\">.</span><span class=\"nf\">update</span><span class=\"p\">({</span><span class=\"s\">&#34;_id&#34;</span> <span class=\"p\">:</span> <span class=\"nf\">ObjectId</span><span class=\"p\">(</span><span class=\"s\">&#34;5a4e5edb51ed8c6880ca11b7&#34;</span><span class=\"p\">)},</span> <span class=\"p\">{</span><span class=\"err\">$</span><span class=\"nx\">set</span><span class=\"p\">:{</span><span class=\"s\">&#34;is_active&#34;</span><span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">}})</span> <span class=\"err\">#</span> <span class=\"nx\">åˆ </span> <span class=\"nx\">æ”¹</span>\n<span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">category</span><span class=\"p\">.</span><span class=\"nf\">find</span><span class=\"p\">()</span> <span class=\"err\">#</span> <span class=\"nx\">æŸ¥</span></code></pre></div><p>æˆ‘ä»¬çš„åç«¯ DB éƒ¨é—¨æ²¡æœ‰åšä»€ä¹ˆ ORM å¤„ç†æ“ä½œï¼Œäº‹å®ä¸Š NoSQL ä¹Ÿä¸éœ€è¦ ORMï¼Œæˆ‘ä»¬ä½¿ç”¨åç«¯ DB éƒ¨é—¨ä½¿ç”¨çš„ mgo ä½œç”¨ç±»ä¼¼ä¸Šé¢æåˆ°çš„ SQLHelperï¼Œå¸®åŠ©åç«¯æ–¹ä¾¿çš„è¿›è¡Œ MongoDB å¢åˆ æ”¹æŸ¥æ•°æ®æ“ä½œã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART Final: å…¨æ ˆæµ‹è¯•</b></h2><p>æœ€åçš„ç¯èŠ‚ï¼Œè®©æˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹æˆ‘ä»¬æ•²å®Œçš„ä»£ç ï¼Œæµ‹è¯•ä¹‹å‰å…ˆç¡®è®¤å‡ ç‚¹ï¼š</p><ol><li>Web Server é»˜è®¤ç«¯å£ 8080 æ²¡æœ‰è¢«å ç”¨ã€‚å ç”¨äº†å¯æ¢å…¶ä»–ç«¯å£ã€‚</li><li>MongoDB æ­£å¸¸å¯åŠ¨è¿è¡Œï¼Œé»˜è®¤ç«¯å£ 27017ã€‚</li><li>ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹åº“éƒ½æ­£å¸¸è·å–åˆ°äº†æœ¬åœ°ï¼Œè·å–æ–¹å¼å¾ˆç®€å•ï¼Œå‘½ä»¤è¡Œè¾“å…¥ï¼š</li></ol><div class=\"highlight\"><pre><code class=\"language-bash\">go get github.com/gin-gonic/gin\ngo get gopkg.in/mgo.v2\ngo get github.com/op/go-logging</code></pre></div><p>ä¸€åˆ‡å‡†å¤‡å°±ç»ªï¼Œå‘½ä»¤è¡Œè¾“å…¥ï¼š</p><div class=\"highlight\"><pre><code class=\"language-bash\">go run main.go</code></pre></div><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-482d7cfc89420f901213e856d68475ec_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1112\" data-rawheight=\"616\" class=\"origin_image zh-lightbox-thumb\" width=\"1112\" data-original=\"https://pic1.zhimg.com/v2-482d7cfc89420f901213e856d68475ec_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1112&#39; height=&#39;616&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1112\" data-rawheight=\"616\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1112\" data-original=\"https://pic1.zhimg.com/v2-482d7cfc89420f901213e856d68475ec_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-482d7cfc89420f901213e856d68475ec_b.jpg\"/></figure><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-9ee453c7f707eac64b224261568b7cad_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2196\" data-rawheight=\"1434\" class=\"origin_image zh-lightbox-thumb\" width=\"2196\" data-original=\"https://pic2.zhimg.com/v2-9ee453c7f707eac64b224261568b7cad_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;2196&#39; height=&#39;1434&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"2196\" data-rawheight=\"1434\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"2196\" data-original=\"https://pic2.zhimg.com/v2-9ee453c7f707eac64b224261568b7cad_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-9ee453c7f707eac64b224261568b7cad_b.jpg\"/></figure><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-a0accbd13a774c18a3eeddb998fccc9a_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"774\" data-rawheight=\"346\" class=\"origin_image zh-lightbox-thumb\" width=\"774\" data-original=\"https://pic3.zhimg.com/v2-a0accbd13a774c18a3eeddb998fccc9a_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;774&#39; height=&#39;346&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"774\" data-rawheight=\"346\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"774\" data-original=\"https://pic3.zhimg.com/v2-a0accbd13a774c18a3eeddb998fccc9a_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-a0accbd13a774c18a3eeddb998fccc9a_b.jpg\"/></figure><p>æ­¤å¤„åº”æœ‰æŒå£°~</p><p>ç°åœ¨æˆ‘ä»¬ç¦»å…¨æ ˆå·¥ç¨‹å¸ˆå°±åªå·®ä¸€ä¸ªå‰ç«¯çš„è·ç¦»äº†ï¼Œ<a href=\"https://zhuanlan.zhihu.com/p/33249503\" class=\"internal\">åªéœ€ä¸‹ä¸€ç¯‡5åˆ†é’Ÿå­¦ä¹ </a>ï¼Œå°±èƒ½è§£é”å…¨æ ˆå·¥ç¨‹å¸ˆã€‚</p><p>æœ€åçŒ®ä¸Š<a href=\"https://link.zhihu.com/?target=https%3A//github.com/fengjihua/DemoFullStack/releases/tag/v0.1.0\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">æœ¬æ–‡ä»£ç </a>ï¼Œå­¦ä¼šä½¿ç”¨ Github ä¹Ÿæ˜¯å…¨æ ˆå·¥ç¨‹å¸ˆå¿…ä¿®æŠ€èƒ½ã€‚</p><hr/><p><i>å¦‚éœ€åˆä½œæˆ–è½¬è½½è¯·è”ç³»æœ¬æ–‡ä½œè€…ï¼Œè·ªè°¢</i></p>", 
            "topic": [
                {
                    "tag": "å…¨æ ˆå¼€å‘", 
                    "tagLink": "https://api.zhihu.com/topics/20043281"
                }, 
                {
                    "tag": "å…¨æ ˆå·¥ç¨‹å¸ˆ", 
                    "tagLink": "https://api.zhihu.com/topics/19940527"
                }, 
                {
                    "tag": "Go ç¼–ç¨‹", 
                    "tagLink": "https://api.zhihu.com/topics/20052037"
                }
            ], 
            "comments": []
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/33003538", 
            "userName": "é•¿è„š", 
            "userLink": "https://www.zhihu.com/people/59e31f1c355dd88f47fd61d2937b02aa", 
            "upvote": 0, 
            "title": "5åˆ†é’ŸGETå…¨æ ˆå¼€å‘ - å…¨æ ˆçš„ä¹è¶£", 
            "content": "<p>æœ¬æ–‡æ”»ç•¥ï¼šè§£æƒ‘å…¨æ ˆå¼€å‘ï¼Œå¦‚ä½•ç‹¬ç«‹å…¨æ ˆå¼€å‘ä¸€ä¸ªé¡¹ç›®</p><p>å»ºè®®ç©å®¶ç­‰çº§ï¼šæŠ€æœ¯å°ç™½ï¼Œå­¦ç”Ÿå…šï¼Œåˆçº§ç å†œ</p><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 1: ç†è§£å…¨æ ˆ Full Stack</b></h2><p>1. å…¨æ ˆå¼€å‘æ”»åŸç‹®æ˜¯ä»€ä¹ˆé¬¼</p><p>ä¸¾ä¸ªæ —å­ï¼š2088å¹´æ•™è‚²éƒ¨å®£å¸ƒä»»ä½•å­¦ç”Ÿå¯ä»¥åªé€‰æ‹©ä¸€é—¨è¯¾ç¨‹è¿›è¡Œå­¦ä¹ ï¼Œäºæ˜¯å·´è²ç‰¹åŒå­¦é€‰äº†æ•°å­¦ï¼Œæ°å…‹é©¬åŒå­¦é€‰äº†å¤–è¯­ï¼Œé©¬æ–¯å…‹åŒå­¦å’Œæˆ‘éƒ½é€‰äº†æ•°å­¦ã€ç‰©ç†å’ŒåŒ–å­¦ã€‚åœ¨è‡ªæˆ‘ä»‹ç»æ—¶ï¼Œå·´è²ç‰¹è¯´è‡ªå·±æ˜¯ä¸ªæ•°å­¦å­¦ç”Ÿï¼Œæ°å…‹é©¬è¯´è‡ªå·±æ˜¯ä¸ªå¤–è¯­å­¦ç”Ÿï¼Œé©¬æ–¯å…‹å¾ˆæ‹½çš„å‘ä¸–ç•Œå®£å¸ƒè‡ªå·±æ˜¯<b>å…¨æ ˆ</b>å­¦ç”Ÿï¼Œæˆ‘ä¹Ÿè§‰å¾—è‡ªå·±ä½œä¸ºå…¨æ ˆå­¦ç”Ÿå¥½åƒæœ‰äº†ä¸»è§’å…‰ç¯ã€‚</p><p>æ —å­ä¸­ï¼Œè¯­æ–‡ã€æ•°å­¦ã€å¤–è¯­ï¼ˆç­‰å…¶ä»–å­¦ç§‘ï¼‰ä»£è¡¨äº†å‰ç«¯ã€åç«¯ã€æ•°æ®åº“ï¼ˆç­‰å…¶ä»–é¢†åŸŸï¼‰ï¼Œå­¦ç”Ÿä»£è¡¨äº†å¼€å‘æ”»åŸç‹®ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><p>2. å…¨æ ˆä¸ºç‹å—</p><p>20å¹´åçš„æ —å­ï¼šå·´è²ç‰¹æ•°å­¦è€ƒäº†100åˆ†ï¼Œæˆä¸ºäº†è‚¡ç¥ã€‚æ°å…‹é©¬å¤–è¯­è€ƒäº†100åˆ†ï¼Œç²¾é€šå…­å›½è¯­è¨€ã€‚é©¬æ–¯å…‹æ•°å­¦ã€ç‰©ç†å’ŒåŒ–å­¦éƒ½è€ƒäº†100åˆ†ï¼Œé€ æ±½è½¦ç«ç®­å»äº†ç«æ˜Ÿã€‚æˆ‘æ•°å­¦ã€ç‰©ç†å’ŒåŒ–å­¦éƒ½è€ƒäº†60åˆ†ï¼Œé»˜é»˜æ•²ä»£ç æ”¹Bugã€‚</p><p>ç»“è®ºä¸€ï¼šåªæ·±è€•ç»†ä½œå•ä¸ªé¢†åŸŸï¼ŒåŒæ ·ä¼šæˆä¸ºå¤§ç¥ã€‚å‚è€ƒå·´è²ç‰¹ã€æ°å…‹é©¬ä¸¤ä½åŒå­¦</p><p>ç»“è®ºäºŒï¼šç²¾åŠ›å’Œèƒ½åŠ›éƒ½ä¼šæœ‰ä¸Šé™ï¼Œåªæœ‰ best of best æ‰èƒ½æŠŠå…¨æ ˆå˜æˆå…¨èƒ½ã€‚å‚è€ƒé©¬æ–¯å…‹åŒå­¦</p><p class=\"ztext-empty-paragraph\"><br/></p><p>3. å…¨æ ˆ == æ”¶å…¥æ›´é«˜ï¼Ÿ</p><p>å…¬å¼ä¸€ï¼šèƒ½åŠ›å¼º = æ”¶å…¥æ›´é«˜</p><p>å…¬å¼äºŒï¼šèƒ½åŠ›å¼º != å…¨æ ˆ</p><p>å…¬å¼ä¸‰ï¼šèƒ½åŠ›å¼º = è§£å†³é—®é¢˜çš„é€Ÿåº¦ + è´¨é‡ + æ€åº¦ + æŠ—å‹ + æ²Ÿé€š</p><p>ç»“è®ºï¼šæ”¶å…¥é«˜ä½å’Œä½ æ˜¯å¦å…¨æ ˆæ²¡å¤ªå¤§å…³ç³»</p><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 2: å…¨æ ˆæœ€ç®€å…¥é—¨</b></h2><p>æœ€è¿‘åšäº†ä¸€ä¸ªå°é¡¹ç›®ï¼Œå®Œæˆäº†ç¬¬ä¸€ä¸ªæµ‹è¯•ç‰ˆæœ¬ï¼Œæ€»ç»“ä¸€ä¸‹å…¨æ ˆå¼€å‘çš„ä»å…¥é—¨åˆ°æ”¾å¼ƒã€‚</p><p>å‡ ä¹æ¯ä¸€ä¸ªå®Œæ•´çš„å•†ä¸šé¡¹ç›®éƒ½ä¼šåŒ…å«ä»¥ä¸‹ä¸‰ä¸ªæ ˆï¼š</p><ol><li>å‰ç«¯ï¼šä½ æ‰‹æœºä¸Šè£…çš„APPï¼Œä½ ç³»ç»Ÿé‡Œè£…çš„ç¨‹åºï¼Œä½ æµè§ˆå™¨é‡Œæ˜¾ç¤ºçš„ç½‘é¡µã€‚ä½ é€šè¿‡ä½¿ç”¨å®ƒä»¬æµè§ˆç•Œé¢ï¼Œå¹¶å’Œç•Œé¢äº¤äº’ååˆ›é€ å‡ºå±äºä½ çš„æ•°æ®</li><li>åç«¯ï¼šä½ çš„æ•°æ®è¢«ç½‘ç»œè¿é€åˆ°äº†äº‘ä¸Šï¼Œäº‘ä¸ŠæŸå¤„ä¼šæœ‰å¦å¤–ä¸€ä¸ªç¨‹åºåœ¨å¤„ç†ä½ çš„æ•°æ®ï¼ŒåŒæ—¶ä¹Ÿä¼šåœ¨äº‘ä¸Šåˆ›é€ æ–°çš„æ•°æ®ï¼Œå¹¶é€šè¿‡ç½‘ç»œè¿é€åˆ°ä½ çš„å‰ç«¯ç•Œé¢é‡Œ</li><li>ç”¨æˆ·æ•°æ®ï¼šä½ åˆ›é€ çš„æ‰€æœ‰æ•°æ®ï¼Œä»¥æ•°æ®åº“å’Œæ–‡ä»¶çš„å½¢å¼è¢«ä¿å­˜åœ¨äº†äº‘ä¸Š</li></ol><p>å¥½äº†æ¥ä¸‹æ¥åˆ‡æ¢æˆç¨‹åºçŒ¿ï¼Œå›åˆ°æˆ‘çš„é¡¹ç›®ä¸­ï¼š</p><ol><li>å‰ç«¯ï¼šä½¿ç”¨è¯­è¨€ HTML+CSS+JS</li><li>åç«¯ï¼šä½¿ç”¨è¯­è¨€ Golang</li><li>ç”¨æˆ·æ•°æ®ï¼šä½¿ç”¨æ•°æ®åº“ MongoDBï¼Œäº‘å­˜å‚¨æœåŠ¡ OSS</li></ol><p>å…¥é—¨å‰ï¼Œå…ˆä¸Šä¸€å¼ æµ‹è¯•ç‰ˆæœ¬æˆæœå›¾ç›´è§‚æ„Ÿå—ä¸€ä¸‹é¡¹ç›®é•¿ä»€ä¹ˆæ ·å­ï¼ˆé¡¹ç›®æ•°æ®å‡ä¸ºæ¨¡æ‹Ÿæ•°æ®ï¼Œä»…ä¾›æµ‹è¯•æ•ˆæœè§‚å¯Ÿï¼‰</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-4d219ae542adf5bba42ac9b6d497b6e1_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"890\" class=\"origin_image zh-lightbox-thumb\" width=\"1280\" data-original=\"https://pic2.zhimg.com/v2-4d219ae542adf5bba42ac9b6d497b6e1_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1280&#39; height=&#39;890&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1280\" data-rawheight=\"890\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1280\" data-original=\"https://pic2.zhimg.com/v2-4d219ae542adf5bba42ac9b6d497b6e1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-4d219ae542adf5bba42ac9b6d497b6e1_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 3: å…¨æ ˆçš„ä¹è¶£</b></h2><p>è¦å®Œæˆä¸€ä¸ªåˆæ ¼çš„å…¨æ ˆé¡¹ç›®ï¼Œé¦–å…ˆä»ä¸Šå¸è§†è§’çœ‹è¿™ä¸ªé¡¹ç›®çš„æ¯ä¸€ä¸ªéƒ¨åˆ†ï¼š</p><ol><li>è¿˜æ˜¯å‰ç«¯ï¼šä½¿ç”¨è¯­è¨€ HTML+CSS+JS çš„åŸå› æ˜¯è¯¥é¡¹ç›®æœ¬è´¨æ˜¯ä¸€ä¸ªç½‘é¡µç®¡ç†ç³»ç»Ÿã€‚</li><li>è¿˜æ˜¯åç«¯ï¼šä½¿ç”¨è¯­è¨€ Golang è€ƒè™‘åˆ°è·¨å¹³å°ï¼Œé«˜å¹¶å‘æ€§èƒ½å¥½ï¼Œæ’¸èµ·æ¥ç®€å•ï¼Œä»¥åŠä½¿ç”¨ä¹ æƒ¯ç­‰ä¼˜ç‚¹ã€‚ç¼–ç¨‹è¯­è¨€å“ªå®¶å¼ºæ˜¯ä¸€ä¸ªä¸–çºªæ€§è¯é¢˜ï¼Œè¿™é‡Œä¸åšè®¨è®ºï¼ŒPOä¸»å§‹ç»ˆæ”¯æŒPHPæ˜¯æœ€å¥½çš„è¯­è¨€ã€‚</li><li>æ•°æ®åº“ï¼šä½¿ç”¨ MongoDB ä¸»è¦è€ƒè™‘ç®€å•æ˜“ç”¨ï¼Œå‡ ä¹ä¸éœ€è¦åœ¨æ•°æ®åº“ä¸Šåšä»»ä½•å·¥ä½œï¼Œèƒ½å¸®åŠ©POä¸»å¿«é€Ÿå‡ºä¸€ä¸ªé¡¹ç›®ç‰ˆæœ¬ã€‚POä¸»ä¹Ÿæ˜¯MySQLå’ŒPostgreSQLçš„æ‹¥æŠ¤è€…ã€‚</li><li><a href=\"https://link.zhihu.com/?target=https%3A//help.aliyun.com/document_detail/31817.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">äº‘å­˜å‚¨æœåŠ¡OSS</a>ï¼šäºšé©¬é€Šæœ‰ä¸ªå¤§åé¼é¼çš„S3å¯¹è±¡å­˜å‚¨æœåŠ¡ï¼Œå›½äº§çš„ä½¼ä½¼è€…å½“å±é˜¿é‡Œäº‘OSSå­˜å‚¨æœåŠ¡ã€‚ä½¿ç”¨äº‘å­˜å‚¨æœåŠ¡æ˜¯è€ƒè™‘åˆ°ç”¨æˆ·çš„å›¾ç‰‡ã€æ–‡æ¡£ç­‰ç­‰æ–‡ä»¶æ•°æ®éœ€è¦å…¨å±€ç»Ÿä¸€å­˜å‚¨å’Œç®¡ç†ï¼ŒæŠŠäº‘å­˜å‚¨è§†ä½œä¸€ä¸ªæ— é™å¤§çš„ç¡¬ç›˜ï¼Œä¸ç”¨å†ä¸ºæœåŠ¡å™¨ç¡¬ç›˜å®¹é‡ä¸å¤Ÿå’Œæ–‡ä»¶æ•°æ®è¿ç§»åˆå¹¶è¿™äº›é—®é¢˜å›°æ‰°ã€‚</li><li>å‰ç«¯å’Œåç«¯å¦‚ä½•é«˜æ•ˆåˆä½œï¼š</li><ol><li>HTTP/HTTPS åè®®ï¼šä¼Ÿå¤§çš„ HTTP/HTTPS æ— å¤„ä¸åœ¨ï¼Œå‰ç«¯ä¼šä½¿ç”¨åè®®ä¸­ GET, POST, PUT, DELETE è¿™4ä¸ªå¸¸ç”¨æ–¹æ³•å’Œåç«¯è¿›è¡Œé€šä¿¡</li><li><a href=\"https://link.zhihu.com/?target=http%3A//www.ruanyifeng.com/blog/2014/05/restful_api.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">RESTful</a> API è®¾è®¡è§„èŒƒï¼šGET, POST, PUT, DELETE ä¸€ä¸€å¯¹åº” æŸ¥è¯¢, æ·»åŠ , ä¿®æ”¹, åˆ é™¤ è¿™4ç§æ•°æ®æ“ä½œï¼Œè®©ä½ ä»æ­¤çˆ±ä¸Šå†™æ¥å£</li><li>JSON æ•°æ®æ ¼å¼ï¼šå‰ç«¯å¯¹è±¡æ•°æ®ä»¥ JSON æ ¼å¼æ‰“åŒ…ï¼Œé€šè¿‡ HTTP/HTTPS è¿é€åˆ°åç«¯ï¼Œè¢«å®Œç¾è§£ææˆåç«¯å¯¹è±¡æ•°æ®ã€‚JSON ä¼˜é›…å¾—è®©ä½ å¿˜è®°æ›¾ç»è¿˜æœ‰ä¸ªæƒ…äººå« XMLã€‚</li></ol><li>åç«¯å’Œæ•°æ®åº“å¦‚ä½•é«˜æ•ˆåˆä½œï¼š</li><ol><li>ORMï¼šå°†åç«¯å¯¹è±¡æ•°æ®å­—æ®µä¸æ•°æ®åº“è¡¨ä¸­å­—æ®µä¸€ä¸€å¯¹åº”åï¼Œåªéœ€å¯¹åç«¯æ•°æ®å¯¹è±¡è¿›è¡ŒæŸ¥è¯¢, æ·»åŠ , ä¿®æ”¹, åˆ é™¤æ“ä½œï¼Œå³ä¼šè‡ªåŠ¨å®Œæˆå¯¹æ•°æ®åº“ä¸­æ•°æ®çš„ç›¸åº”æ“ä½œã€‚</li><li>DBHelperï¼šå°è£…äº†å¸¸ç”¨çš„æ•°æ®åº“æ“ä½œï¼Œæœ€è‘—åçš„æœ‰ SqlHelperã€‚</li><li>å› ä¸º MongoDB çš„ NoSQL ç‰¹æ€§ï¼Œæ‰€ä»¥æ²¡æœ‰ ORM çš„å·¥ä½œï¼Œåªæ˜¯ç”¨äº† <a href=\"https://link.zhihu.com/?target=http%3A//labix.org/mgo\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">mgo</a> ä½¿ GO è¯­è¨€å¯ä»¥æ–¹ä¾¿çš„è¿æ¥å’Œè¯»å†™ MongoDBã€‚</li></ol><li>åç«¯å’Œäº‘å‚¨å­˜å¦‚ä½•é«˜æ•ˆåˆä½œï¼š</li><ol><li>HTTP/HTTPS åè®®</li><li><a href=\"https://link.zhihu.com/?target=https%3A//help.aliyun.com/document_detail/32169.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">OSS SDK</a> </li></ol></ol><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART FINAL: è£…å¤‡æ¨è</b></h2><p>å‡†å¤‡æ’¸èµ·è¢–å­æ•²ä»£ç çš„å„ä½ç©å®¶ï¼Œæ¨èå„ä½ä¸€äº›ç›¸å½“å¥½ç”¨çš„è£…å¤‡</p><ol><li>IDEï¼šæ•²ä»£ç ç”¨çš„ï¼Œå‰åç«¯ä¸€ä¸ªå…¨æå®šã€‚VS Code, Sublime, Atom</li><li>RESTful APIï¼šç›´æ¥ç¼–å†™æ¥å£ã€‚Paw (ä»…MacOSï¼Œå¼ºæ¨ï¼ŒPOä¸»å·²è´­ä¹°), Postman, Swagger</li><li>MongoDB Compassï¼šMongo å®˜æ–¹æä¾›ï¼ŒæŸ¥çœ‹ MongoDB å­˜å‚¨çš„æ•°æ®</li><li>oss-browerï¼šé˜¿é‡Œäº‘å®˜æ–¹æä¾›ï¼ŒæŸ¥çœ‹ OSS å­˜å‚¨çš„æ•°æ®ã€‚ï¼ˆOSSæœåŠ¡éœ€è‡ªè¡Œè´­ä¹°ï¼‰</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><p>éƒ½å‡†å¤‡å¥½äº†ï¼Œå°±å¼€å§‹å…¨æ ˆå¼€å‘ä¹‹æ—…ï¼š<a href=\"https://zhuanlan.zhihu.com/p/33123924\" class=\"internal\">5åˆ†é’Ÿå­¦ä¼šå…¨æ ˆå¼€å‘ - å¢åˆ æ”¹æŸ¥ä¹‹ä»æ¥å£åˆ°æ•°æ®åº“ CRUD from Restful API to Database</a></p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-6058d4cdd047a85c0856585530b675bf_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1000\" data-rawheight=\"570\" class=\"origin_image zh-lightbox-thumb\" width=\"1000\" data-original=\"https://pic4.zhimg.com/v2-6058d4cdd047a85c0856585530b675bf_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1000&#39; height=&#39;570&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1000\" data-rawheight=\"570\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1000\" data-original=\"https://pic4.zhimg.com/v2-6058d4cdd047a85c0856585530b675bf_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-6058d4cdd047a85c0856585530b675bf_b.jpg\"/></figure><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-fcce2d39a4caf0052831eece53efeb89_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1000\" data-rawheight=\"652\" class=\"origin_image zh-lightbox-thumb\" width=\"1000\" data-original=\"https://pic2.zhimg.com/v2-fcce2d39a4caf0052831eece53efeb89_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1000&#39; height=&#39;652&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1000\" data-rawheight=\"652\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1000\" data-original=\"https://pic2.zhimg.com/v2-fcce2d39a4caf0052831eece53efeb89_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-fcce2d39a4caf0052831eece53efeb89_b.jpg\"/></figure><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-8a3ec25bd041a7ab718035c6fa6ea8f3_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1000\" data-rawheight=\"578\" class=\"origin_image zh-lightbox-thumb\" width=\"1000\" data-original=\"https://pic4.zhimg.com/v2-8a3ec25bd041a7ab718035c6fa6ea8f3_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1000&#39; height=&#39;578&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1000\" data-rawheight=\"578\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1000\" data-original=\"https://pic4.zhimg.com/v2-8a3ec25bd041a7ab718035c6fa6ea8f3_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-8a3ec25bd041a7ab718035c6fa6ea8f3_b.jpg\"/></figure><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-043222cf3800ac99a23bf52f7d85da22_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1000\" data-rawheight=\"666\" class=\"origin_image zh-lightbox-thumb\" width=\"1000\" data-original=\"https://pic3.zhimg.com/v2-043222cf3800ac99a23bf52f7d85da22_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1000&#39; height=&#39;666&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1000\" data-rawheight=\"666\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1000\" data-original=\"https://pic3.zhimg.com/v2-043222cf3800ac99a23bf52f7d85da22_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-043222cf3800ac99a23bf52f7d85da22_b.jpg\"/></figure><hr/><p><i>å¦‚éœ€åˆä½œæˆ–è½¬è½½è¯·è”ç³»æœ¬æ–‡ä½œè€…ï¼Œè·ªè°¢</i></p>", 
            "topic": [
                {
                    "tag": "å…¨æ ˆå¼€å‘", 
                    "tagLink": "https://api.zhihu.com/topics/20043281"
                }, 
                {
                    "tag": "REST", 
                    "tagLink": "https://api.zhihu.com/topics/19579857"
                }, 
                {
                    "tag": "å…¨æ ˆå·¥ç¨‹å¸ˆ", 
                    "tagLink": "https://api.zhihu.com/topics/19940527"
                }
            ], 
            "comments": []
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/33154604", 
            "userName": "é•¿è„š", 
            "userLink": "https://www.zhihu.com/people/59e31f1c355dd88f47fd61d2937b02aa", 
            "upvote": 32, 
            "title": "5åˆ†é’ŸGETåŒºå—é“¾ - å¼€å‘ä¸€æ¡åŒºå—é“¾ Develop BlockChain", 
            "content": "<p>æœ¬æ–‡æ”»ç•¥ï¼šè§£æƒ‘åŒºå—é“¾å¼€å‘ï¼Œå­¦ä¹  Tendermintï¼Œç»™è‡ªå·±é€ ä¸€æ¡åŒºå—é“¾</p><p>å»ºè®®ç©å®¶ç­‰çº§ï¼šæŠ€æœ¯å°ç™½ï¼Œå­¦ç”Ÿå…šï¼Œåˆçº§ç å†œ</p><p class=\"ztext-empty-paragraph\"><br/></p><p>é˜…è¯»æ­¤æ–‡å…ˆè§£é”æŠ€èƒ½ï¼š</p><ol><li>ä¸€ç‚¹ç‚¹å‘½ä»¤è¡ŒåŸºç¡€</li><li>ä¸€ç‚¹ç‚¹ GO åŸºç¡€ï¼š<a href=\"https://link.zhihu.com/?target=http%3A//www.runoob.com/go/go-tutorial.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">ä¸‰å¤©åŒ…å­¦ä¼š</a></li><li>ä¸€ç‚¹ç‚¹åŒºå—é“¾çŸ¥è¯†ï¼š<a href=\"https://zhuanlan.zhihu.com/p/33081515\" class=\"internal\">5åˆ†é’Ÿå­¦ä¼šåŒºå—é“¾ - å…³äºåŒºå—é“¾çš„ä¸€åˆ‡ All About Blockchain</a></li></ol><p>å®è·µæ­¤æ–‡æ¨èè£…å¤‡ï¼š</p><ol><li>æ“ä½œç³»ç»Ÿï¼šmacOS Sierraï¼ˆWindowsä¹Ÿæ²¡æ¯›ç—…ï¼‰</li><li>IDEï¼šVSCodeï¼Œå¹¶è‡ªåŠ¨å®‰è£…ä¸€æ‰¹å®˜æ–¹å»ºè®®çš„GOæ’ä»¶</li><li>Restful API å·¥å…·ï¼šPawï¼ˆéå¿…éœ€ï¼Œæµè§ˆå™¨ä¹Ÿå¯ä»¥ï¼‰</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 1: Tendermint æ˜¯ä»€ä¹ˆ</b></h2><p><a href=\"https://zhuanlan.zhihu.com/p/33081515\" class=\"internal\">ä¸Šç¯‡æ–‡ç« </a>æˆ‘ä»¬ä¸¾äº†é›·å¸ƒæ–¯ã€æ°å…‹é©¬ã€å¡å°¼é©¬å’Œå¼ºä¸œå“¥æ‰“éº»å°†å…±åŒè®°è´¦çš„æ —å­ï¼Œè¿™å›POä¸»è§ä»–ä»¬æ‰‹å†™è®°è´¦è¿™ä¹ˆåŸå§‹ï¼Œå°±æƒ³ç»™è¿™å››ä½å†™ä¸€ä¸ªåŒºå—é“¾è®°è´¦APPï¼Œè®©ä»–ä»¬ä»æ­¤å‘Šåˆ«æ‰‹å†™è´¦æœ¬ã€‚</p><p>æ—¢ç„¶é‡æ–°é€ è½®å­è¿™ä»¶äº‹æ˜¯ä¸å­˜åœ¨çš„ï¼Œäºæ˜¯å‘å¤§å®¶ä»‹ç»ä¸€æ¬¾åŒºå—é“¾è½®å­å« <b><a href=\"https://link.zhihu.com/?target=https%3A//tendermint.com/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">Tendermint</a>ï¼ˆä»¥ä¸‹ç®€ç§° TMï¼‰</b>ï¼Œå¦‚æœæœ‰ç©å®¶å¬è¯´è¿‡ä»¥å¤ªåŠï¼ˆEthereumï¼‰ï¼Œè¿™ä¸ªä»€ä¹ˆåŠæœ‰ä¸ªåˆ†æ”¯ Ethermint å°±æ˜¯åŸºäº TM å¼€å‘çš„ï¼Œåæ­£POä¸»åªæ‡‚æ’¸ä»£ç ä¸æ‡‚ç‚’å¸ï¼Œä¸æ˜¯å¾ˆäº†è§£è¿™åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆå·¥åŠã€‚</p><p>å¥½äº†ï¼Œå…ˆæ¥äº†è§£ä¸€ä¸‹ TM çš„åŸç†ï¼Œå› ä¸ºå®åœ¨æ²¡ä»€ä¹ˆå¯ä»¥å¯è§†åŒ–çš„ UI è®©ç©å®¶ä»¬ä¸€ç›®äº†ç„¶ã€‚TM ä¸»è¦åŒ…å«ä¸¤éƒ¨åˆ†ï¼š</p><ol><li>Tendermint Coreï¼šåŒºå—é“¾å…±è¯†å¼•æ“ã€‚å®ƒè´Ÿè´£ä¸¤ä»¶äº‹æƒ…ï¼šèŠ‚ç‚¹ä¹‹é—´çš„æ•°æ®åŒæ­¥æœ‰åºä¼ è¾“ï¼Œæ‹œå åº­å…±è¯†æœºåˆ¶çš„å®ç°ã€‚</li><li>ABCIï¼šåŒºå—é“¾åº”ç”¨æ¥å£ã€‚å®ƒè¢«è®¾è®¡æˆä¸€ç»„æœ‰æ¥å£è§„èŒƒçš„åè®®ï¼Œç›®çš„æ˜¯å¯ä»¥ä½¿ç”¨å¤šç§è¯­è¨€å®ç°åŒºå—é“¾åº”ç”¨é€»è¾‘ã€‚</li></ol><p>é‚£ä»–ä¸¤åˆ°åº•å¹²å•¥ç”¨çš„ï¼Œè¯´äº†åŠå¤©å¥½åƒè¿˜æ˜¯ä¸å¤ªç†è§£ï¼Œæ²¡å…³ç³»å…ˆè®°ä½ä»–ä»¬ï¼ŒPOä¸»åˆšå¼€å§‹çœ‹åŸæ–‡æ¡£çš„æ—¶å€™ä¹Ÿå’Œå„ä½ç©å®¶æœ‰ç€åŒæ ·çš„æ„Ÿå—ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 2: Tendermint å®‰è£…è¿è¡Œ</b></h2><p><b>1. å®˜æ–¹å®‰è£…æŒ‡å—</b></p><p>è®©æˆ‘ä»¬å¿½ç•¥æ›´å¤šçš„ç†è®ºï¼Œç›´æ¥æ’¸èµ·è¢–å­åšç¨‹åºçŒ¿æœ€å–œæ¬¢åšçš„äº‹æƒ…ï¼Œå…ˆä¸‹è½½è½®å­ï¼Œå‘½ä»¤è¡Œè¾“å…¥ï¼š</p><div class=\"highlight\"><pre><code class=\"language-bash\">go get github.com/Masterminds/glide\ngo get github.com/tendermint/tendermint/cmd/tendermint</code></pre></div><p>ä¸‹è½½è¿‡ç¨‹æ¯”è¾ƒé•¿ï¼Œè¿™ä¸ªè½®å­æ¯”è¾ƒå¤§ï¼ˆå¯èƒ½éœ€è¦ç§‘å­¦ä¸Šç½‘ï¼‰ï¼Œä¸‹è½½å®Œæˆåå®‰è£…ï¼Œå‘½ä»¤è¡Œè¾“å…¥ï¼š</p><div class=\"highlight\"><pre><code class=\"language-bash\"><span class=\"nb\">cd</span> <span class=\"nv\">$GOPATH</span>/src/github.com/tendermint/tendermint\nglide install\ngo install ./cmd/tendermint</code></pre></div><p>å®‰è£…è¿‡ç¨‹ä¹Ÿæ¯”è¾ƒé•¿ï¼Œå®‰è£…å®ŒæˆåéªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸï¼Œå‘½ä»¤è¡Œè¾“å…¥ï¼š</p><div class=\"highlight\"><pre><code class=\"language-bash\">tendermint version\nabci-cli version</code></pre></div><p>æˆªæ­¢æœ¬æ–‡çš„å‘è¡¨æ—¶é—´ï¼Œtendermint ç‰ˆæœ¬ 0.15.0ï¼Œabci-cli ç‰ˆæœ¬ 0.9.0</p><p class=\"ztext-empty-paragraph\"><br/></p><p><b>2. è¿è¡Œå®˜æ–¹æ —å­</b></p><p>å®˜æ–¹æ–‡æ¡£æä¾›äº†ä¸¤ä¸ªæ —å­ï¼Œå·²ç»é›†æˆåœ¨äº†åˆšæ‰çš„å®‰è£…é‡Œï¼š</p><ol><li>dummyï¼šä¸€ä¸ªç®€å•çš„é”®å€¼å­˜å‚¨åŒºå—é“¾åº”ç”¨ï¼Œä½¿ç”¨èµ·æ¥æœ‰ç‚¹åƒ Redis æˆ– ElasticSearchã€‚</li><li>counterï¼šä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨åŒºå—é“¾åº”ç”¨ï¼Œå†™å…¥åŒºå—çš„æ•°å­—å¿…é¡»é€’å¢ï¼Œå¦åˆ™å°†ä¸è¢«åŒºå—æ¥å—ã€‚</li></ol><p>è¿™é‡Œæˆ‘ä»¬ç®€å•ä»‹ç»ä¸€ä¸‹ dummy è¿™ä¸ªæ —å­ï¼Œé¦–å…ˆå¯åŠ¨è¿™ä¸ªåŒºå—é“¾åº”ç”¨ï¼Œå‘½ä»¤è¡Œè¾“å…¥ï¼š</p><div class=\"highlight\"><pre><code class=\"language-bash\">abci-cli dummy</code></pre></div><p>ç„¶åå¯åŠ¨ TMï¼Œå‘½ä»¤è¡Œè¾“å…¥ï¼š</p><div class=\"highlight\"><pre><code class=\"language-bash\">tendermint init\ntendermint node</code></pre></div><p>é¡ºåˆ©çš„è¯ï¼Œå¯ä»¥çœ‹åˆ° abci å’Œ tendermint ä¸¤ä¸ªç¨‹åºè¿é€šï¼ˆConnectï¼‰äº†ï¼Œå¹¶ä¸” tendermint ä¼šåƒå¿ƒè·³ä¸€æ ·æ¯ä¸€ç§’æäº¤ä¸€ä¸ªç©ºåŒºå—ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å‡†å¤‡å†™å…¥æœ‰å®è´¨å†…å®¹çš„æ–°åŒºå—ï¼Œå‘½ä»¤è¡Œè¾“å…¥ï¼š</p><div class=\"highlight\"><pre><code class=\"language-bash\">curl -s <span class=\"s1\">&#39;localhost:46657/broadcast_tx_commit?tx=&#34;abcd&#34;&#39;</span>\ncurl -s <span class=\"s1\">&#39;localhost:46657/broadcast_tx_commit?tx=&#34;name=satoshi&#34;&#39;</span></code></pre></div><p>æˆ‘ä»¬çš„åŒºå—é“¾é‡Œå°±æœ‰äº†ä¸€ä¸ªè®°å½•â€œabcdâ€çš„åŒºå—å’Œå¦ä¸€ä¸ªè®°å½•â€œname=satoshiâ€çš„åŒºå—ï¼Œå¦‚æœéœ€è¦å¯¹åŒºå—é“¾å†…å®¹è¿›è¡ŒæŸ¥è¯¢ï¼Œå‘½ä»¤è¡Œè¾“å…¥ï¼š</p><div class=\"highlight\"><pre><code class=\"language-bash\">curl -s <span class=\"s1\">&#39;localhost:46657/abci_query?data=&#34;name&#34;&#39;</span></code></pre></div><blockquote><i>curl æ˜¯ Linux å¸¸ç”¨å·¥å…·ï¼Œç©å®¶å¯ä»¥é€šè¿‡ç½‘é¡µæµè§ˆå™¨ç›´æ¥è¾“å…¥ localhost:46657/abci_query?data=&#34;name&#34;</i></blockquote><p class=\"ztext-empty-paragraph\"><br/></p><p><b>3. æ¢ç´¢å®˜æ–¹å·¥å…·</b></p><p>æœ€åä»‹ç» abci-cli è¿™ä¸ªå‘äººå·¥å…·ç™»åœºï¼Œè®©æˆ‘ä»¬å…ˆå…³é—­åˆšæ‰è¿è¡Œçš„ dummy åº”ç”¨å’Œ tendermintï¼Œå‘½ä»¤è¡Œé‡æ–°è¾“å…¥è¿è¡Œ dummyï¼š</p><div class=\"highlight\"><pre><code class=\"language-bash\">abci-cli dummy</code></pre></div><p>å‘½ä»¤è¡Œå†è¾“å…¥ï¼š</p><div class=\"highlight\"><pre><code class=\"language-text\">abci-cli console</code></pre></div><p>ç„¶åä»–ä¸¤è¿é€šäº†ï¼ˆConnectï¼‰ï¼Œæ­¤æ—¶å¾ˆå¤šç©å®¶ä¼šå›°æƒ‘äºè¿™ä¸¤ä¸ªéƒ½å« abci çš„å®¶ä¼™æ€ä¹ˆä¹Ÿèƒ½äº’ç›¸è¿é€šï¼Œabci åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Ÿä»–åˆå¹²äº†ä»€ä¹ˆï¼Ÿè®©æˆ‘ä»¬é€šè¿‡ PART 3 æ¥é‡æ–°æ¢³ç†ä¸€ä¸‹æˆ‘ä»¬åˆšæ‰ç©¶ç«Ÿéƒ½åœ¨åŒºå—é“¾é‡Œçš„ä»€ä¹ˆåœ°æ–¹åšäº†äº›ä»€ä¹ˆäº‹ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 3: Tendermint å†ç†è§£</b></h2><p>POä¸»å…ˆæŠŠå®˜æ–¹æ–‡æ¡£é‡Œç”¨çš„æœ€å¤šå¹¶å®¹æ˜“è®©äººæ··æ·†çš„åè¯éƒ½ç½—åˆ—å‡ºæ¥ï¼š</p><ol><li>ABCI Server</li><li>ABCI Client</li><li>Tendermint Core</li><li>ABCI Application</li><li>ABCI App</li></ol><p>ç„¶åæ€»ç»“äº†ä¸‰ä¸ªåè¯æ¥å¸®åŠ©ç†è§£ï¼Œä¸‹æ–‡çº¦å®šç»Ÿä¸€ä½¿ç”¨è¿™ä¸‰ä¸ªåè¯ï¼š</p><ol><li><b>ABCI</b>ï¼šåŒºå—é“¾å†…éƒ¨ï¼ŒABCI Serverï¼Œå¯åŠ¨ååŠ è½½ ABCI Application/Appï¼Œä¸º Tendermint æä¾› Socket æœåŠ¡ï¼ŒæœåŠ¡åœ°å€ï¼štcp://localhost:46658</li><li><b>Tendermint</b>ï¼šåŒºå—é“¾å†…éƒ¨ï¼ŒABCI Client/Tendermint Coreï¼Œå¯åŠ¨åä¸ ABCI æä¾›çš„ Socket æœåŠ¡åˆ›å»º 3 æ¡è¿æ¥ï¼ˆConnectï¼‰ï¼ŒåŒæ—¶ä¼šæä¾› HTTP æœåŠ¡ç»™åŒºå—é“¾å¤–éƒ¨å®¢æˆ·ç«¯ï¼ŒæœåŠ¡åœ°å€ï¼šhttp://localhost:46657</li><li><b>Client</b>ï¼šåŒºå—é“¾å¤–éƒ¨ï¼ŒçœŸæ­£çš„å®¢æˆ·ç«¯ï¼Œé€šè¿‡ Tendermint æä¾›çš„æœåŠ¡å¯¹åŒºå—é“¾è¿›è¡Œè¯»å†™è®¿é—®</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><p>è¿˜æ˜¯æŠŠæ —å­ä¸¾ä¸€ä¸¾ï¼Œå‡è®¾å¼ºä¸œå“¥åœ¨ä½¿ç”¨æˆ‘å†™çš„çš„åŒºå—é“¾è®°è´¦ APPï¼ˆç”¨iOSå¼€å‘çš„ï¼‰ï¼š</p><ol><li>Client å°±æ˜¯åŒºå—é“¾è®°è´¦ APPï¼Œå¼ºä¸œå“¥è®°å½•äº†ä¸€æ¡æ–°æ•°æ® â€˜Jack Pony $10â€™ï¼Œç„¶åä¿å­˜</li><li>Client ä¼šå‘èµ·è¯·æ±‚ http://localhost:46657/broadcast_tx_commit?tx=&#34;Jack Pony $10&#34;</li><li>Tendermint æ”¶åˆ° tx=&#34;Jack Pony $10&#34;ï¼Œé€šè¿‡ Socket å‘ ABCI å‘å‡ºæŒ‡ä»¤ CheckTx:&#34;Jack Pony $10&#34;</li><li>ABCI è¿è¡Œäº†æˆ‘å†™çš„ ABCI Appï¼ˆç”¨GOå¼€å‘çš„ï¼‰é‡Œçš„ CheckTx æ–¹æ³•ï¼Œä½œç”¨æ˜¯éªŒè¯ &#34;Jack Pony $10&#34; æ˜¯å¦ç¬¦åˆæ•°æ®è§„èŒƒï¼Œå¦‚æœä¸ç¬¦åˆå°±è¦é€šçŸ¥ Temdermint æ‹’ç»è¿™æ¡ tx</li><li>å‡è®¾ ABCI CheckTx éªŒè¯é€šè¿‡åé€šçŸ¥ Tendermint</li><li>Tendermint æŠŠ &#34;Jack Pony $10&#34; æš‚å­˜åœ¨å†…å­˜æ± ï¼ˆmempoolï¼‰é‡Œï¼Œå¹¶æŠŠè¿™æ¡ tx é€šè¿‡ P2P ç½‘ç»œå¤åˆ¶ç»™å…¶å®ƒ Tendermint èŠ‚ç‚¹ï¼ˆæ°å…‹é©¬ã€å¡å°¼é©¬å’Œé›·å¸ƒæ–¯å„è‡ªè¿è¡Œçš„ Tendermint èŠ‚ç‚¹ï¼‰</li><li>Tendermint å‘èµ·äº†å¯¹ &#34;Jack Pony $10&#34; è¿™æ¡ tx çš„æ‹œå åº­å…±è¯†æŠ•ç¥¨ï¼Œæ‰€æœ‰4ä¸ª Tendermint èŠ‚ç‚¹éƒ½å‚ä¸äº†ã€‚æŠ•ç¥¨è¿‡ç¨‹åˆ†ä¸‰è½®ï¼Œç¬¬ä¸€è½®é¢„æŠ•ç¥¨ï¼ˆPreVoteï¼‰ï¼Œè¶…è¿‡ 2/3 è®¤å¯åè¿›å…¥ç¬¬äºŒè½®é¢„æäº¤ï¼ˆPreCommitï¼‰ï¼Œè¶…è¿‡ 2/3 è®¤å¯åè¿›å…¥æœ€åä¸€è½®æ­£å¼æäº¤ï¼ˆCommitï¼‰</li><li>Tendermint æäº¤ï¼ˆCommitï¼‰æ—¶ä¾æ¬¡å‘ ABCI å‘é€æŒ‡ä»¤ï¼šBeginBlock -&gt; DeliverTx * næ¬¡ -&gt; EndBlock -&gt; Commitï¼Œå¤§è‡´æ„æ€å°±æ˜¯ï¼šå¿«æ¥å—æ–°åŒºå¿« -&gt; æ­£åœ¨æ¥å—åŒºå—å†…å®¹ * næ¡ -&gt; åŒºå—å†…å®¹æ¥å—å®Œäº† -&gt; æäº¤åˆ°åŒºå—é“¾å»å§</li><li>ABCI æäº¤ï¼ˆCommitï¼‰æˆåŠŸåä¼šé€šçŸ¥ Tendermint</li><li>è‡³æ­¤ï¼ŒåŒºå—é“¾å¤šäº†ä¸€ä¸ªåŒºå—è®°å½•äº† 1 æ¡ transaction  &#34;Jack Pony $10&#34; ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥è®°å½• n æ¡åå†ä¿å­˜ï¼Œé‚£ä¹ˆä¸€ä¸ªåŒºå—å°±ä¼šè®°å½• n æ¡ transaction</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><p>æœ€åå†æ€»ç»“å‡ ç‚¹ï¼š</p><ol><li>è¯´å›åˆšæ‰é‚£ä¸ªå‘äººçš„ abci-cliï¼Œå½“ä»–è¿è¡Œ &#39;abci-cli dummy&#39; æ—¶å…¶å®æ˜¯è¿è¡Œäº† ABCIï¼Œå½“ä»–è¿è¡Œäº† &#39;abci-cli console&#39; æ—¶å…¶å®æ˜¯è¿è¡Œäº† Tendermintï¼Œæ‰€ä»¥ä¸€èµ·è¿è¡Œåä¼šè¿›è¡Œ Socket è¿æ¥ï¼ˆConnectï¼‰</li><li>Tendermint å’Œ ABCI ä¹‹é—´çš„ Socket è¿æ¥æœ‰ 3 æ¡ï¼š1 æ¡ç”¨äºéªŒè¯æ•°æ®ï¼ˆCheckTx æŒ‡ä»¤ï¼‰ï¼Œ1 æ¡ç”¨äºæŸ¥è¯¢æ•°æ®ï¼ˆQuery æŒ‡ä»¤ï¼‰ï¼Œ1 æ¡ç”¨äºå…±è¯†æ•°æ®ï¼ˆBeginBlock, DeliverTx, EndBlock, Commit æŒ‡ä»¤ï¼‰</li><li>Tendermit æä¾›ç»™ Client çš„ HTTP æ¥å£æœ‰å¾ˆå¤šï¼Œæµè§ˆå™¨è®¿é—® http://localhost:46657 å°±éƒ½çŸ¥é“äº†</li><li>ç©å®¶ä¹Ÿå¯ä»¥äº²è‡ªæ‹œè¯»ä¸€ä¸‹<a href=\"https://link.zhihu.com/?target=https%3A//tendermint.readthedocs.io/en/master/index.html\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">å®˜æ–¹æ–‡æ¡£</a></li></ol><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 4: å¼€å‘ä¸€æ¡åŒºå—é“¾</b></h2><p>æ€»ç®—åˆ°äº†æ’¸ä»£ç ç¯èŠ‚ï¼Œæˆ‘ä»¬å…ˆæŠŠé¡¹ç›®æ¶æ„æ•´ç†ä¸€ä¸‹ï¼š</p><ol><li>ClientAppï¼šåŒºå—é“¾è®°è´¦ APPï¼Œå¯ä»¥ç”¨ä»»æ„è¯­è¨€ä»»æ„å¹³å°å®ç°ï¼ˆiOS/Android/H5/å…¶å®ƒï¼‰ï¼Œè¿™ä¸ªç‰ˆæœ¬é‡Œæˆ‘ä»¬ç”¨ GO åšäº†æœ€ç®€å•çš„æ§åˆ¶å°å‘½ä»¤è¡Œå®ç°ï¼Œç”šè‡³æ²¡æœ‰ UI ç•Œé¢ã€‚</li><li>TendermintAppï¼šåŒºå—é“¾æœåŠ¡ç¨‹åºï¼Œè¿™ä¸ªé‡Œé¢åŒ…æ‹¬ Tendermint å’Œ ABCI ä¸¤éƒ¨åˆ†ã€‚</li><li>ABCIï¼šå› ä¸ºæ˜¯æ¥å£åè®®ï¼Œè®¾è®¡ä¸Šå¯ä»¥ç”¨ä»»ä½•è¯­è¨€å»å®ç°ï¼Œæˆ‘ä»¬ä½¿ç”¨äº† GO è¯­è¨€ã€‚å¼€å‘ä¸Šä¸»è¦æ˜¯å®ç° CheckTx, DeliverTx, Commit ç­‰ ABCI æŒ‡ä»¤çš„å…·ä½“é€»è¾‘</li><li>Tendermintï¼šå‡ ä¹æ²¡æœ‰éœ€è¦å¼€å‘çš„åœ°æ–¹ï¼Œå‰é¢æåˆ°äº†å®ƒå·²ç»ä¸ºæˆ‘ä»¬åšäº†ä¸¤ä»¶äº‹æƒ…ï¼ŒP2Pç½‘ç»œåŒæ­¥æœ‰åºä¼ è¾“æ•°æ®å’Œæ‹œå åº­å…±è¯†å¼•æ“ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œå°±å°†å®ƒè¿è¡Œå³å¯ã€‚</li></ol><p class=\"ztext-empty-paragraph\"><br/></p><p>æ¥ä¸‹æ¥æ­£å¼æ’¸ä»£ç ï¼Œæˆ‘ä»¬ä¸»è¦è®²è§£ä¸€éƒ¨åˆ†æ ¸å¿ƒé€»è¾‘ï¼š</p><p><b>1. ClientApp</b></p><p>æ¨¡æ‹Ÿäº†5ä¸ªåŒºå—ï¼Œæ¯ä¸ªåŒºå—è®°å½•10æ¡è®°å½•ï¼Œå°†è¿™äº›è®°å½•è½¬æˆ json æäº¤ç»™ Tendermint</p><div class=\"highlight\"><pre><code class=\"language-go\"><span class=\"nx\">blocksNumber</span> <span class=\"o\">:=</span> <span class=\"mi\">5</span>                                     <span class=\"c1\">// how many blocks\n</span><span class=\"c1\"></span><span class=\"nx\">transactionsPerBlock</span> <span class=\"o\">:=</span> <span class=\"mi\">10</span>                            <span class=\"c1\">// how many transactions in each block\n</span><span class=\"c1\"></span><span class=\"nx\">players</span> <span class=\"o\">:=</span> <span class=\"p\">[]</span><span class=\"kt\">string</span><span class=\"p\">{</span><span class=\"s\">&#34;Lei&#34;</span><span class=\"p\">,</span> <span class=\"s\">&#34;Jack&#34;</span><span class=\"p\">,</span> <span class=\"s\">&#34;Pony&#34;</span><span class=\"p\">,</span> <span class=\"s\">&#34;Richard&#34;</span><span class=\"p\">}</span> <span class=\"c1\">// 4 players\n</span><span class=\"c1\"></span><span class=\"nx\">random</span> <span class=\"o\">:=</span> <span class=\"nx\">rand</span><span class=\"p\">.</span><span class=\"nf\">New</span><span class=\"p\">(</span><span class=\"nx\">rand</span><span class=\"p\">.</span><span class=\"nf\">NewSource</span><span class=\"p\">(</span><span class=\"nx\">time</span><span class=\"p\">.</span><span class=\"nf\">Now</span><span class=\"p\">().</span><span class=\"nf\">UnixNano</span><span class=\"p\">()))</span>\n<span class=\"nx\">json</span> <span class=\"o\">:=</span> <span class=\"nx\">jsoniter</span><span class=\"p\">.</span><span class=\"nx\">ConfigCompatibleWithStandardLibrary</span>\n\n<span class=\"k\">for</span> <span class=\"nx\">i</span> <span class=\"o\">:=</span> <span class=\"mi\">0</span><span class=\"p\">;</span> <span class=\"nx\">i</span> <span class=\"p\">&lt;</span> <span class=\"nx\">blocksNumber</span><span class=\"p\">;</span> <span class=\"nx\">i</span><span class=\"o\">++</span> <span class=\"p\">{</span>\n    <span class=\"nx\">time</span><span class=\"p\">.</span><span class=\"nf\">Sleep</span><span class=\"p\">(</span><span class=\"nx\">time</span><span class=\"p\">.</span><span class=\"nx\">Second</span> <span class=\"o\">*</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n    <span class=\"nx\">transactions</span> <span class=\"o\">:=</span> <span class=\"p\">[]</span><span class=\"nx\">controllers</span><span class=\"p\">.</span><span class=\"nx\">Transaction</span><span class=\"p\">{}</span>\n\n    <span class=\"k\">for</span> <span class=\"nx\">j</span> <span class=\"o\">:=</span> <span class=\"mi\">0</span><span class=\"p\">;</span> <span class=\"nx\">j</span> <span class=\"p\">&lt;</span> <span class=\"nx\">transactionsPerBlock</span><span class=\"p\">;</span> <span class=\"nx\">j</span><span class=\"o\">++</span> <span class=\"p\">{</span>\n        <span class=\"nx\">from</span> <span class=\"o\">:=</span> <span class=\"nx\">players</span><span class=\"p\">[</span><span class=\"nx\">random</span><span class=\"p\">.</span><span class=\"nf\">Intn</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"nx\">players</span><span class=\"p\">))]</span>\n        <span class=\"nx\">to</span> <span class=\"o\">:=</span> <span class=\"nx\">players</span><span class=\"p\">[</span><span class=\"nx\">random</span><span class=\"p\">.</span><span class=\"nf\">Intn</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"nx\">players</span><span class=\"p\">))]</span>\n        <span class=\"k\">for</span> <span class=\"nx\">from</span> <span class=\"o\">==</span> <span class=\"nx\">to</span> <span class=\"p\">{</span>\n            <span class=\"nx\">to</span> <span class=\"p\">=</span> <span class=\"nx\">players</span><span class=\"p\">[</span><span class=\"nx\">random</span><span class=\"p\">.</span><span class=\"nf\">Intn</span><span class=\"p\">(</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"nx\">players</span><span class=\"p\">))]</span>\n        <span class=\"p\">}</span>\n        <span class=\"nx\">btc</span> <span class=\"o\">:=</span> <span class=\"nb\">float32</span><span class=\"p\">(</span><span class=\"nx\">random</span><span class=\"p\">.</span><span class=\"nf\">Intn</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n\n        <span class=\"nx\">tran</span> <span class=\"o\">:=</span> <span class=\"nx\">controllers</span><span class=\"p\">.</span><span class=\"nx\">Transaction</span><span class=\"p\">{</span>\n            <span class=\"nx\">From</span><span class=\"p\">:</span>    <span class=\"nx\">from</span><span class=\"p\">,</span>\n            <span class=\"nx\">To</span><span class=\"p\">:</span>      <span class=\"nx\">to</span><span class=\"p\">,</span>\n            <span class=\"nx\">Bitcoin</span><span class=\"p\">:</span> <span class=\"nx\">btc</span><span class=\"p\">,</span>\n        <span class=\"p\">}</span>\n        <span class=\"nx\">_</span><span class=\"p\">,</span> <span class=\"nx\">_</span> <span class=\"p\">=</span> <span class=\"nx\">tran</span><span class=\"p\">.</span><span class=\"nf\">Create</span><span class=\"p\">()</span>\n        <span class=\"nx\">transactions</span> <span class=\"p\">=</span> <span class=\"nb\">append</span><span class=\"p\">(</span><span class=\"nx\">transactions</span><span class=\"p\">,</span> <span class=\"nx\">tran</span><span class=\"p\">)</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"nx\">bytes</span><span class=\"p\">,</span> <span class=\"nx\">_</span> <span class=\"o\">:=</span> <span class=\"nx\">json</span><span class=\"p\">.</span><span class=\"nf\">Marshal</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"nx\">transactions</span><span class=\"p\">)</span>\n    <span class=\"nx\">data</span> <span class=\"o\">:=</span> <span class=\"nx\">strings</span><span class=\"p\">.</span><span class=\"nf\">Replace</span><span class=\"p\">(</span><span class=\"nb\">string</span><span class=\"p\">(</span><span class=\"nx\">bytes</span><span class=\"p\">),</span> <span class=\"s\">&#34;\\&#34;&#34;</span><span class=\"p\">,</span> <span class=\"s\">&#34;&#39;&#34;</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n\n    <span class=\"nx\">tx</span> <span class=\"o\">:=</span> <span class=\"nx\">data</span>\n    <span class=\"c1\">// tmAsync(tx)\n</span><span class=\"c1\"></span>    <span class=\"nf\">tmCommit</span><span class=\"p\">(</span><span class=\"nx\">tx</span><span class=\"p\">)</span>\n<span class=\"p\">}</span></code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><div class=\"highlight\"><pre><code class=\"language-go\"><span class=\"kd\">func</span> <span class=\"nf\">tmCommit</span><span class=\"p\">(</span><span class=\"nx\">tx</span> <span class=\"kt\">string</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n\t<span class=\"nx\">url</span> <span class=\"o\">:=</span> <span class=\"s\">&#34;http://localhost:46657/broadcast_tx_async?tx=\\&#34;&#34;</span> <span class=\"o\">+</span> <span class=\"nx\">tx</span> <span class=\"o\">+</span> <span class=\"s\">&#34;\\&#34;&#34;</span>\n\t<span class=\"nf\">txHandle</span><span class=\"p\">(</span><span class=\"nx\">url</span><span class=\"p\">)</span>\n<span class=\"p\">}</span></code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><p><b>2. Tendermint</b></p><p>é€šè¿‡å‘½ä»¤è¡Œè¿è¡Œä¸€ä¸ªå®šä¹‰å¥½çš„ Shell è„šæœ¬ï¼Œå¹¶ä¸”æŠŠè¿è¡Œç»“æœæ‰“å°åˆ°æ§åˆ¶å°å’Œæ—¥å¿—æ–‡ä»¶ä¸­å»</p><div class=\"highlight\"><pre><code class=\"language-go\"><span class=\"nx\">f</span><span class=\"p\">,</span> <span class=\"nx\">err</span> <span class=\"o\">:=</span> <span class=\"nx\">os</span><span class=\"p\">.</span><span class=\"nf\">Create</span><span class=\"p\">(</span><span class=\"s\">&#34;logs/tendermint.log&#34;</span><span class=\"p\">)</span>\n<span class=\"k\">if</span> <span class=\"nx\">err</span> <span class=\"o\">!=</span> <span class=\"kc\">nil</span> <span class=\"p\">{</span>\n    <span class=\"nx\">fmt</span><span class=\"p\">.</span><span class=\"nf\">Println</span><span class=\"p\">(</span><span class=\"s\">&#34;Tendermint log init error:&#34;</span><span class=\"p\">,</span> <span class=\"nx\">err</span><span class=\"p\">)</span>\n<span class=\"p\">}</span>\n<span class=\"nx\">multiWriter</span> <span class=\"o\">:=</span> <span class=\"nx\">io</span><span class=\"p\">.</span><span class=\"nf\">MultiWriter</span><span class=\"p\">(</span><span class=\"nx\">f</span><span class=\"p\">,</span> <span class=\"nx\">os</span><span class=\"p\">.</span><span class=\"nx\">Stdout</span><span class=\"p\">)</span>\n\n<span class=\"k\">go</span> <span class=\"kd\">func</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"nx\">cmd</span> <span class=\"o\">:=</span> <span class=\"nx\">exec</span><span class=\"p\">.</span><span class=\"nf\">Command</span><span class=\"p\">(</span><span class=\"s\">&#34;bash&#34;</span><span class=\"p\">,</span> <span class=\"s\">&#34;-c&#34;</span><span class=\"p\">,</span> <span class=\"s\">&#34;sh run-tm.sh&#34;</span><span class=\"p\">)</span>\n    <span class=\"nx\">cmd</span><span class=\"p\">.</span><span class=\"nx\">Stdout</span> <span class=\"p\">=</span> <span class=\"nx\">multiWriter</span>\n    <span class=\"nx\">cmd</span><span class=\"p\">.</span><span class=\"nf\">Start</span><span class=\"p\">()</span>\n<span class=\"p\">}()</span></code></pre></div><p>run-tm.sh è„šæœ¬å†…å®¹ï¼š</p><div class=\"highlight\"><pre><code class=\"language-bash\"><span class=\"nb\">echo</span> tendermint start\ntendermint init\ntendermint unsafe_reset_all\ntendermint node --consensus.create_empty_blocks<span class=\"o\">=</span><span class=\"nb\">false</span>\n<span class=\"nb\">echo</span> tendermint end</code></pre></div><blockquote><i>unsafe_reset_all ä½œç”¨æ˜¯æ¯æ¬¡é‡ç½®æœ¬æœºçš„åŒºå—é“¾æ•°æ®ï¼Œä»…ä¾›å¼€å‘ä½¿ç”¨</i> <i>consensus.create_empty_blocks ä½œç”¨æ˜¯å…³é—­ Tendermint è‡ªå¸¦çš„æ¯ç§’ç”Ÿæˆæ–°çš„ç©ºåŒºå—åŠŸèƒ½</i></blockquote><p class=\"ztext-empty-paragraph\"><br/></p><p><b>3. ABCI</b></p><p>å®ç° ABCI æŒ‡ä»¤æ¥å£ï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨äº†å®˜æ–¹æ —å­ dummy åº”ç”¨ï¼Œæ¥ä¿å­˜æäº¤çš„ json è®°å½•ï¼Œå¹¶ä¸”åœ¨æ¯ä¸ªå®ç°æ¥å£é‡Œåšäº†æ—¥å¿—æ‰“å°ï¼ˆå› ç¯‡å¹…æœ‰é™ï¼Œçœç•¥äº†é•¿é•¿çš„ä»£ç ï¼‰</p><div class=\"highlight\"><pre><code class=\"language-go\"><span class=\"kd\">func</span> <span class=\"p\">(</span><span class=\"nx\">app</span> <span class=\"o\">*</span><span class=\"nx\">DummyApplication</span><span class=\"p\">)</span> <span class=\"nf\">CheckTx</span><span class=\"p\">(</span><span class=\"nx\">tx</span> <span class=\"p\">[]</span><span class=\"kt\">byte</span><span class=\"p\">)</span> <span class=\"nx\">types</span><span class=\"p\">.</span><span class=\"nx\">ResponseCheckTx</span> <span class=\"p\">{</span>\n\t<span class=\"nx\">lib</span><span class=\"p\">.</span><span class=\"nx\">Log</span><span class=\"p\">.</span><span class=\"nf\">Debug</span><span class=\"p\">(</span><span class=\"s\">&#34;CheckTx&#34;</span><span class=\"p\">)</span>\n\t<span class=\"nx\">lib</span><span class=\"p\">.</span><span class=\"nx\">Log</span><span class=\"p\">.</span><span class=\"nf\">Notice</span><span class=\"p\">(</span><span class=\"nb\">string</span><span class=\"p\">(</span><span class=\"nx\">tx</span><span class=\"p\">))</span>\n\t<span class=\"k\">return</span> <span class=\"nx\">types</span><span class=\"p\">.</span><span class=\"nx\">ResponseCheckTx</span><span class=\"p\">{</span><span class=\"nx\">Code</span><span class=\"p\">:</span> <span class=\"nx\">code</span><span class=\"p\">.</span><span class=\"nx\">CodeTypeOK</span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"kd\">func</span> <span class=\"p\">(</span><span class=\"nx\">app</span> <span class=\"o\">*</span><span class=\"nx\">DummyApplication</span><span class=\"p\">)</span> <span class=\"nf\">DeliverTx</span><span class=\"p\">(</span><span class=\"nx\">tx</span> <span class=\"p\">[]</span><span class=\"kt\">byte</span><span class=\"p\">)</span> <span class=\"nx\">types</span><span class=\"p\">.</span><span class=\"nx\">ResponseDeliverTx</span> <span class=\"p\">{</span>\n\t<span class=\"nx\">lib</span><span class=\"p\">.</span><span class=\"nx\">Log</span><span class=\"p\">.</span><span class=\"nf\">Debug</span><span class=\"p\">(</span><span class=\"s\">&#34;DeliverTx&#34;</span><span class=\"p\">)</span>\n\t<span class=\"nx\">lib</span><span class=\"p\">.</span><span class=\"nx\">Log</span><span class=\"p\">.</span><span class=\"nf\">Notice</span><span class=\"p\">(</span><span class=\"nb\">string</span><span class=\"p\">(</span><span class=\"nx\">tx</span><span class=\"p\">))</span>\n\t<span class=\"c1\">// ...\n</span><span class=\"c1\"></span>\t<span class=\"k\">return</span> <span class=\"nx\">types</span><span class=\"p\">.</span><span class=\"nx\">ResponseDeliverTx</span><span class=\"p\">{</span><span class=\"nx\">Code</span><span class=\"p\">:</span> <span class=\"nx\">code</span><span class=\"p\">.</span><span class=\"nx\">CodeTypeOK</span><span class=\"p\">,</span> <span class=\"nx\">Tags</span><span class=\"p\">:</span> <span class=\"nx\">tags</span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"kd\">func</span> <span class=\"p\">(</span><span class=\"nx\">app</span> <span class=\"o\">*</span><span class=\"nx\">DummyApplication</span><span class=\"p\">)</span> <span class=\"nf\">Commit</span><span class=\"p\">()</span> <span class=\"nx\">types</span><span class=\"p\">.</span><span class=\"nx\">ResponseCommit</span> <span class=\"p\">{</span>\n\t<span class=\"nx\">lib</span><span class=\"p\">.</span><span class=\"nx\">Log</span><span class=\"p\">.</span><span class=\"nf\">Debug</span><span class=\"p\">(</span><span class=\"s\">&#34;Commit&#34;</span><span class=\"p\">)</span>\n\t<span class=\"c1\">// ...\n</span><span class=\"c1\"></span>\t<span class=\"nx\">lib</span><span class=\"p\">.</span><span class=\"nx\">Log</span><span class=\"p\">.</span><span class=\"nf\">Debug</span><span class=\"p\">(</span><span class=\"s\">&#34;Commit Hash&#34;</span><span class=\"p\">,</span> <span class=\"nx\">hash</span><span class=\"p\">)</span>\n\t<span class=\"k\">return</span> <span class=\"nx\">types</span><span class=\"p\">.</span><span class=\"nx\">ResponseCommit</span><span class=\"p\">{</span><span class=\"nx\">Code</span><span class=\"p\">:</span> <span class=\"nx\">code</span><span class=\"p\">.</span><span class=\"nx\">CodeTypeOK</span><span class=\"p\">,</span> <span class=\"nx\">Data</span><span class=\"p\">:</span> <span class=\"nx\">hash</span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"kd\">func</span> <span class=\"p\">(</span><span class=\"nx\">app</span> <span class=\"o\">*</span><span class=\"nx\">DummyApplication</span><span class=\"p\">)</span> <span class=\"nf\">Query</span><span class=\"p\">(</span><span class=\"nx\">reqQuery</span> <span class=\"nx\">types</span><span class=\"p\">.</span><span class=\"nx\">RequestQuery</span><span class=\"p\">)</span> <span class=\"p\">(</span><span class=\"nx\">resQuery</span> <span class=\"nx\">types</span><span class=\"p\">.</span><span class=\"nx\">ResponseQuery</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n\t<span class=\"nx\">lib</span><span class=\"p\">.</span><span class=\"nx\">Log</span><span class=\"p\">.</span><span class=\"nf\">Debug</span><span class=\"p\">(</span><span class=\"s\">&#34;Query&#34;</span><span class=\"p\">)</span>\n\t<span class=\"c1\">// ...\n</span><span class=\"c1\"></span><span class=\"p\">}</span></code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><p><b>4. ç¼–è¯‘</b></p><p>æˆ‘ä»¬å†™å¥½äº†ç¼–è¯‘è„šæœ¬ï¼Œå‘½ä»¤è¡Œè¾“å…¥ï¼š</p><div class=\"highlight\"><pre><code class=\"language-bash\">sh make.sh</code></pre></div><p>ç¼–è¯‘è„šæœ¬æœ¬è´¨å°±æ˜¯æŠŠä¸‰ä¸ªè¿è¡Œç¨‹åºç¼–è¯‘å‡ºæ¥ï¼š</p><div class=\"highlight\"><pre><code class=\"language-bash\">go build ./TendermintApp/ABCIServer/\ngo build ./TendermintApp/ABCIClient/\ngo build  -o Client ./ClientApp/</code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><p><b>5. æµ‹è¯•</b></p><p>åˆ°äº†æ¿€åŠ¨äººå¿ƒçš„ä¸€åˆ»ï¼Œæˆ‘ä»¬å·²ç»ç¦»ä¸€æ¡è‡ªé€ çš„åŒºå—é“¾å¾ˆæ¥è¿‘äº†ã€‚</p><p>å…ˆè¿è¡Œ ABCIï¼Œå‘½ä»¤è¡Œè¾“å…¥:</p><div class=\"highlight\"><pre><code class=\"language-text\">./ABCIServer</code></pre></div><p>å†è¿è¡Œ Tendermintï¼Œå‘½ä»¤è¡Œè¾“å…¥ï¼š</p><div class=\"highlight\"><pre><code class=\"language-text\">./ABCIClient</code></pre></div><p>å¯ä»¥çœ‹åˆ° Tendermint å’Œ ABCI å·²ç»æœ‰ 3 ä¸ªè¿æ¥ï¼ˆConnectï¼‰ Socket æ¡æ‰‹äº†ï¼Œè¡¨ç¤ºæ•´ä¸ªåŒºå—é“¾æœåŠ¡å·²ç»å‡†å¤‡å°±ç»ªï¼Œæœ€åæˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ Client å¾€åŒºå—é“¾é‡Œå†™æ•°æ®å°±è¡Œäº†ï¼Œå‘½ä»¤è¡Œè¾“å…¥ï¼š</p><div class=\"highlight\"><pre><code class=\"language-text\">./Client</code></pre></div><p>æŠŠæ¡å‘½ä»¤ç†è§£æˆä½¿ç”¨è®°è´¦ APP è®°å½•äº† 5 é¡µï¼Œæ¯é¡µ 10 æ¡è®°å½•ï¼Œç„¶åç‚¹å‡»ä¿å­˜åé€å»äº†åŒºå—é“¾ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><p>é™„ä¸Šä¸€å¼ è¿è¡Œç»“æœå›¾ï¼Œå¤§è‡´èƒ½è§‚å¯Ÿåˆ°ä¸‰ä¸ªç¨‹åºéƒ½å·²æˆåŠŸè¿è¡Œ</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-35e2aa72a40d5c59dfb291a0dde3316e_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"935\" data-rawheight=\"973\" class=\"origin_image zh-lightbox-thumb\" width=\"935\" data-original=\"https://pic3.zhimg.com/v2-35e2aa72a40d5c59dfb291a0dde3316e_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;935&#39; height=&#39;973&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"935\" data-rawheight=\"973\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"935\" data-original=\"https://pic3.zhimg.com/v2-35e2aa72a40d5c59dfb291a0dde3316e_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-35e2aa72a40d5c59dfb291a0dde3316e_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p>æœ€ç»ˆæˆ‘ä»¬åˆ›é€ äº†ä¸€æ¡åŒºå—é“¾ï¼Œä¸€å…±æœ‰ 7 ä¸ªåŒºå—ï¼Œ2~6 å·åŒºå—å„è‡ªå†™æœ‰ 10 æ¡è´¦æœ¬è®°å½•ï¼Œç¬¬ 1 å’Œç¬¬ 7 å·åŒºå—æ˜¯ç³»ç»Ÿåˆ›å»ºçš„ç©ºåŒºå—ã€‚</p><blockquote><i>ç©ºåŒºå—æ˜¯æ€ä¹ˆå›äº‹ï¼ŸåŸå…ˆ PO ä¸»ä¹Ÿä»¥ä¸ºæ˜¯ BUGï¼Œå»äº†å®˜æ–¹çš„å¼€å‘ <a href=\"https://link.zhihu.com/?target=https%3A//github.com/tendermint/ethermint/issues/308\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">issue</a> é‡Œäº†è§£åˆ° Tendermint æ¯æ¬¡æ”¶åˆ°æ–°çš„ tx æˆ–è€…åŒºå—é“¾ hash å€¼å˜åŒ–çš„æ—¶å€™ï¼ˆå°±æ˜¯åŒºå—é“¾çŠ¶æ€å˜äº†ï¼‰ä¼šäº§ç”Ÿä¸€ä¸ªæ–°åŒºå—å»æ¥å— mempool é‡Œæœªè¢«æäº¤çš„æ–° txï¼Œè¿™æ˜¯ Tendermint ç”¨äºæ­£å¸¸è‡ªæ£€å·¥ä½œäº§ç”Ÿçš„ã€‚</i></blockquote><p class=\"ztext-empty-paragraph\"><br/></p><p>æ¥çœ‹çœ‹è¿™æ¡åŒºå—é“¾é•¿ä»€ä¹ˆæ ·å­ï¼Œè¿™é‡Œå±•ç¤ºäº† 2, 3, 4 å·åŒºå—çš„è´¦æœ¬è®°å½•</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-fd990f15cd6771f07f07279865d8bdb2_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1041\" data-rawheight=\"441\" class=\"origin_image zh-lightbox-thumb\" width=\"1041\" data-original=\"https://pic3.zhimg.com/v2-fd990f15cd6771f07f07279865d8bdb2_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1041&#39; height=&#39;441&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1041\" data-rawheight=\"441\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1041\" data-original=\"https://pic3.zhimg.com/v2-fd990f15cd6771f07f07279865d8bdb2_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-fd990f15cd6771f07f07279865d8bdb2_b.jpg\"/></figure><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-224d681b63714eff735fe0dc799d9e02_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1041\" data-rawheight=\"441\" class=\"origin_image zh-lightbox-thumb\" width=\"1041\" data-original=\"https://pic3.zhimg.com/v2-224d681b63714eff735fe0dc799d9e02_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1041&#39; height=&#39;441&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1041\" data-rawheight=\"441\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1041\" data-original=\"https://pic3.zhimg.com/v2-224d681b63714eff735fe0dc799d9e02_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-224d681b63714eff735fe0dc799d9e02_b.jpg\"/></figure><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-acac8915aa3a7420735377e31fca08e2_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1041\" data-rawheight=\"441\" class=\"origin_image zh-lightbox-thumb\" width=\"1041\" data-original=\"https://pic3.zhimg.com/v2-acac8915aa3a7420735377e31fca08e2_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1041&#39; height=&#39;441&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1041\" data-rawheight=\"441\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1041\" data-original=\"https://pic3.zhimg.com/v2-acac8915aa3a7420735377e31fca08e2_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-acac8915aa3a7420735377e31fca08e2_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p>æ„Ÿè§‰æœ‰å¥½å¤š$$åœ¨è¿™å°å°çš„å‡ ä¸ªåŒºå—é‡Œï¼Œæœ€åçŒ®ä¸Š<a href=\"https://link.zhihu.com/?target=https%3A//github.com/fengjihua/DemoBlockChain/releases/tag/v0.1.0\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">æœ¬æ–‡ä»£ç </a>ï¼Œå¸Œæœ›å„ä½ç©å®¶ä¹Ÿåˆ›é€ ä¸€æ¡å±äºè‡ªå·±çš„åŒºå—é“¾ã€‚</p><hr/><p><i>å¦‚éœ€åˆä½œæˆ–è½¬è½½è¯·è”ç³»æœ¬æ–‡ä½œè€…ï¼Œè·ªè°¢</i></p>", 
            "topic": [
                {
                    "tag": "åŒºå—é“¾(Blockchain)", 
                    "tagLink": "https://api.zhihu.com/topics/19901773"
                }, 
                {
                    "tag": "ä»¥å¤ªåŠ", 
                    "tagLink": "https://api.zhihu.com/topics/20042675"
                }, 
                {
                    "tag": "Go ç¼–ç¨‹", 
                    "tagLink": "https://api.zhihu.com/topics/20052037"
                }
            ], 
            "comments": [
                {
                    "userName": "è€é¡½ç«¥", 
                    "userLink": "https://www.zhihu.com/people/376820652c95ba8b483b66ed711553b8", 
                    "content": "æ–‡ç« å¾ˆæ£’ï¼ä»€ä¹ˆæ—¶å€™å‡ºä¸‹ä¸€ç¯‡ï¼Ÿ<br>å¦‚æœæƒ³æŸ¥ç¬¦åˆç‰¹å®šæ¡ä»¶çš„è®°å½•æ€ä¹ˆåšï¼Ÿæ¯”å¦‚Leiçš„æ‰€æœ‰äº¤æ˜“ï¼Œæˆ–è€…æŸä¸ªæ—¶é—´æ®µå†…çš„è®°å½•ã€‚", 
                    "likes": 0, 
                    "childComments": [
                        {
                            "userName": "çŸ¥ä¹ç”¨æˆ·", 
                            "userLink": "https://www.zhihu.com/people/0", 
                            "content": "<p>æˆ‘ä¹Ÿåœ¨åšæ•°æ®æ£€ç´¢æ–¹é¢çš„ç ”ç©¶ï¼Œå¤šå¤šäº¤æµ</p>", 
                            "likes": 0, 
                            "replyToAuthor": "è€é¡½ç«¥"
                        }
                    ]
                }, 
                {
                    "userName": "å…‹æ´›è¿ªäºšäºšç‰¹é²", 
                    "userLink": "https://www.zhihu.com/people/b08fbe0f7f1d01a3ee2800c3f26f1e1a", 
                    "content": "å¾ˆå¥½çš„å…¥é—¨æ–‡ç« ï¼Œæˆ‘å…ˆå»å­¦ä¹ ä¸‹goè¯­è¨€ï¼ŒæœŸå¾…ä½œè€…çš„åç»­æ–‡ç« ", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "å°å°æ™º", 
                    "userLink": "https://www.zhihu.com/people/143bac9b21816579e9d66aa6d3c61213", 
                    "content": "<p>æ¨èä¸€ä¸ªé€‚åˆåŒºå—é“¾æ–°æ‰‹çš„ä»¥å¤ªåŠDAppå¼€å‘æ•™ç¨‹ï¼š<a href=\"http://link.zhihu.com/?target=http%3A//xc.hubwiz.com/course/5a952991adb3847553d205d1%3Faffid%3D20180329zhihu\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">http://</span><span class=\"visible\">xc.hubwiz.com/course/5a</span><span class=\"invisible\">952991adb3847553d205d1?affid=20180329zhihu</span><span class=\"ellipsis\"></span></a></p>", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "ZCXiong", 
                    "userLink": "https://www.zhihu.com/people/e686761ca3fa7113f9c64bbd1d490dc5", 
                    "content": "<p>ä½ å¥½ï¼Œ<br>go get <a href=\"http://link.zhihu.com/?target=http%3A//github.com/tendermint/tendermint/cmd/tendermint\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">http://</span><span class=\"visible\">github.com/tendermint/t</span><span class=\"invisible\">endermint/cmd/tendermint</span><span class=\"ellipsis\"></span></a><br>é…ç½®ç¯å¢ƒæ—¶å€™ç»ˆç«¯è¾“å…¥ä¸Šé¢å†…å®¹ä¼šå‡ºç°éƒ¨åˆ†ç½‘å€è¶…æ—¶ï¼Œè¯·é—®ä¸‹ä½ æœ‰é¢å¤–é…ç½®å…¶ä»–ä¸œè¥¿ä¹ˆï¼Ÿ</p>", 
                    "likes": 0, 
                    "childComments": [
                        {
                            "userName": "çŸ¥ä¹ç”¨æˆ·", 
                            "userLink": "https://www.zhihu.com/people/0", 
                            "content": "<p>æˆ‘æ˜¯æŒ‰ç…§å®˜æ–¹æ–‡æ¡£é…ç½®æˆåŠŸçš„ï¼Œç§‘å­¦ä¸Šç½‘å†è¯•è¯•çœ‹</p>", 
                            "likes": 0, 
                            "replyToAuthor": "ZCXiong"
                        }
                    ]
                }, 
                {
                    "userName": "é™ˆå®‡", 
                    "userLink": "https://www.zhihu.com/people/a0cd3133ef34fba134f084a3ab30dfc2", 
                    "content": "<p>æ‚¨å¥½ï¼Œè¯·æ•™ä¸ªé—®é¢˜ æˆ‘ç°åœ¨ä½¿ç”¨Tendermint+Ethermintï¼Œå‘ç°èŠ‚ç‚¹å’Œè´¦æˆ·æ˜¯æ²¡æœ‰ç»‘å®šçš„ï¼Œæ‰€ä»¥åŒºå—å¥–åŠ±å®ƒç»™åˆ°äº†0x0000000000000000000000000000000000000000ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰å®ç°èŠ‚ç‚¹å¥–åŠ±ï¼ŒTendermintä¸ºä»€ä¹ˆæ²¡æœ‰è®¾è®¡èŠ‚ç‚¹å¥–åŠ±å‘¢ï¼Ÿå¦‚æœæˆ‘ä»¬è¦å®ç°èŠ‚ç‚¹å¥–åŠ±ï¼Œæ˜¯ä¸æ˜¯éœ€è¦åˆå§‹åŒ–æ—¶ï¼Œå…ˆåˆ›å»ºè´¦å·ï¼Œç„¶åä¿®æ”¹ç¨‹åºå°†èŠ‚ç‚¹å’Œè´¦å·ç»‘å®šï¼Œç„¶ååœ¨ç¡®è®¤åŒºå—æ‰“åŒ…å®Œæˆæ—¶ï¼Œè¿›è¡Œå¯¹åº”çš„å¥–åŠ±ï¼Ÿå³éªŒè¯èŠ‚ç‚¹å’Œè´¦å·æ˜¯å¦‚ä½•ç»‘å®šçš„ï¼Ÿå¦‚ä½•å°†å¥–åŠ±ç»™åˆ°èŠ‚ç‚¹è´¦æˆ·ï¼Ÿå¸Œæœ›å¾—åˆ°æ‚¨çš„å¸®åŠ©ï¼Œè°¢è°¢</p>", 
                    "likes": 0, 
                    "childComments": [
                        {
                            "userName": "çŸ¥ä¹ç”¨æˆ·", 
                            "userLink": "https://www.zhihu.com/people/0", 
                            "content": "ä¸å¥½æ„æ€ï¼Œæ‚¨çš„é—®é¢˜å¯èƒ½è¶…å‡ºæˆ‘çš„è§£ç­”èƒ½åŠ›èŒƒç•´ã€‚å¯ä»¥åŠ å¥½å‹äº¤æµä¸€ä¸‹", 
                            "likes": 0, 
                            "replyToAuthor": "é™ˆå®‡"
                        }, 
                        {
                            "userName": "é‚“æ–‡å¥‡", 
                            "userLink": "https://www.zhihu.com/people/2c7874f438ae9ee5c676bb5502a173e3", 
                            "content": "<p>å¯ä»¥åŠ ä¸ªå¾®ä¿¡å—ï¼Œæˆ‘ä¹Ÿåœ¨ç ”ç©¶Cosmoså¼€å‘å…¬é“¾</p>", 
                            "likes": 0, 
                            "replyToAuthor": "çŸ¥ä¹ç”¨æˆ·"
                        }
                    ]
                }, 
                {
                    "userName": "siyee", 
                    "userLink": "https://www.zhihu.com/people/f88883a4c88b7a7421ae4ed66a6093e4", 
                    "content": "<p>æœ‰åˆ›ä¸šæƒ³æ³•å—ï¼Ÿå¦‚æœæœ‰å¯ä»¥æ²Ÿé€šä¸‹ã€‚</p>", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "çŸ¥ä¹ç”¨æˆ·", 
                    "userLink": "https://www.zhihu.com/people/0", 
                    "content": "<p>é€‰æ‹©åŸºäºtendermintæ˜¯å‡ºäºä»€ä¹ˆè€ƒè™‘å‘¢ï¼Ÿå¦‚æœä¸æ˜¯çœ‹è·¨é“¾å°±çœ‹ä¸åˆ°cosmosï¼Œçœ‹ä¸åˆ°cosmoså°±çœ‹ä¸åˆ°tendermintã€‚ã€‚</p>", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "ç‹å…­çº§", 
                    "userLink": "https://www.zhihu.com/people/6284ab2d67d80bf090dc28e5160b1356", 
                    "content": "<p>å­¦ä¹ äº† ä¸é”™çš„æ–‡ç« </p>", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "å°éœ–å­", 
                    "userLink": "https://www.zhihu.com/people/497e55ea8f667cd393dc722da5bd6417", 
                    "content": "<p>ä½ è¿™æ˜¯åªå¼€å¯ä¸€ä¸ªtendermintèŠ‚ç‚¹çš„å—ï¼Ÿ</p>", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "è€é¡½ç«¥", 
                    "userLink": "https://www.zhihu.com/people/376820652c95ba8b483b66ed711553b8", 
                    "content": "æ–‡ç« å¾ˆæ£’ï¼ä»€ä¹ˆæ—¶å€™å‡ºä¸‹ä¸€ç¯‡ï¼Ÿ<br>å¦‚æœæƒ³æŸ¥ç¬¦åˆç‰¹å®šæ¡ä»¶çš„è®°å½•æ€ä¹ˆåšï¼Ÿæ¯”å¦‚Leiçš„æ‰€æœ‰äº¤æ˜“ï¼Œæˆ–è€…æŸä¸ªæ—¶é—´æ®µå†…çš„è®°å½•ã€‚", 
                    "likes": 0, 
                    "childComments": [
                        {
                            "userName": "çŸ¥ä¹ç”¨æˆ·", 
                            "userLink": "https://www.zhihu.com/people/0", 
                            "content": "<p>æˆ‘ä¹Ÿåœ¨åšæ•°æ®æ£€ç´¢æ–¹é¢çš„ç ”ç©¶ï¼Œå¤šå¤šäº¤æµ</p>", 
                            "likes": 0, 
                            "replyToAuthor": "è€é¡½ç«¥"
                        }
                    ]
                }, 
                {
                    "userName": "å…‹æ´›è¿ªäºšäºšç‰¹é²", 
                    "userLink": "https://www.zhihu.com/people/b08fbe0f7f1d01a3ee2800c3f26f1e1a", 
                    "content": "å¾ˆå¥½çš„å…¥é—¨æ–‡ç« ï¼Œæˆ‘å…ˆå»å­¦ä¹ ä¸‹goè¯­è¨€ï¼ŒæœŸå¾…ä½œè€…çš„åç»­æ–‡ç« ", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "å°å°æ™º", 
                    "userLink": "https://www.zhihu.com/people/143bac9b21816579e9d66aa6d3c61213", 
                    "content": "<p>æ¨èä¸€ä¸ªé€‚åˆåŒºå—é“¾æ–°æ‰‹çš„ä»¥å¤ªåŠDAppå¼€å‘æ•™ç¨‹ï¼š<a href=\"http://link.zhihu.com/?target=http%3A//xc.hubwiz.com/course/5a952991adb3847553d205d1%3Faffid%3D20180329zhihu\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">http://</span><span class=\"visible\">xc.hubwiz.com/course/5a</span><span class=\"invisible\">952991adb3847553d205d1?affid=20180329zhihu</span><span class=\"ellipsis\"></span></a></p>", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "ZCXiong", 
                    "userLink": "https://www.zhihu.com/people/e686761ca3fa7113f9c64bbd1d490dc5", 
                    "content": "<p>ä½ å¥½ï¼Œ<br>go get <a href=\"http://link.zhihu.com/?target=http%3A//github.com/tendermint/tendermint/cmd/tendermint\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">http://</span><span class=\"visible\">github.com/tendermint/t</span><span class=\"invisible\">endermint/cmd/tendermint</span><span class=\"ellipsis\"></span></a><br>é…ç½®ç¯å¢ƒæ—¶å€™ç»ˆç«¯è¾“å…¥ä¸Šé¢å†…å®¹ä¼šå‡ºç°éƒ¨åˆ†ç½‘å€è¶…æ—¶ï¼Œè¯·é—®ä¸‹ä½ æœ‰é¢å¤–é…ç½®å…¶ä»–ä¸œè¥¿ä¹ˆï¼Ÿ</p>", 
                    "likes": 0, 
                    "childComments": [
                        {
                            "userName": "çŸ¥ä¹ç”¨æˆ·", 
                            "userLink": "https://www.zhihu.com/people/0", 
                            "content": "<p>æˆ‘æ˜¯æŒ‰ç…§å®˜æ–¹æ–‡æ¡£é…ç½®æˆåŠŸçš„ï¼Œç§‘å­¦ä¸Šç½‘å†è¯•è¯•çœ‹</p>", 
                            "likes": 0, 
                            "replyToAuthor": "ZCXiong"
                        }
                    ]
                }, 
                {
                    "userName": "é™ˆå®‡", 
                    "userLink": "https://www.zhihu.com/people/a0cd3133ef34fba134f084a3ab30dfc2", 
                    "content": "<p>æ‚¨å¥½ï¼Œè¯·æ•™ä¸ªé—®é¢˜ æˆ‘ç°åœ¨ä½¿ç”¨Tendermint+Ethermintï¼Œå‘ç°èŠ‚ç‚¹å’Œè´¦æˆ·æ˜¯æ²¡æœ‰ç»‘å®šçš„ï¼Œæ‰€ä»¥åŒºå—å¥–åŠ±å®ƒç»™åˆ°äº†0x0000000000000000000000000000000000000000ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰å®ç°èŠ‚ç‚¹å¥–åŠ±ï¼ŒTendermintä¸ºä»€ä¹ˆæ²¡æœ‰è®¾è®¡èŠ‚ç‚¹å¥–åŠ±å‘¢ï¼Ÿå¦‚æœæˆ‘ä»¬è¦å®ç°èŠ‚ç‚¹å¥–åŠ±ï¼Œæ˜¯ä¸æ˜¯éœ€è¦åˆå§‹åŒ–æ—¶ï¼Œå…ˆåˆ›å»ºè´¦å·ï¼Œç„¶åä¿®æ”¹ç¨‹åºå°†èŠ‚ç‚¹å’Œè´¦å·ç»‘å®šï¼Œç„¶ååœ¨ç¡®è®¤åŒºå—æ‰“åŒ…å®Œæˆæ—¶ï¼Œè¿›è¡Œå¯¹åº”çš„å¥–åŠ±ï¼Ÿå³éªŒè¯èŠ‚ç‚¹å’Œè´¦å·æ˜¯å¦‚ä½•ç»‘å®šçš„ï¼Ÿå¦‚ä½•å°†å¥–åŠ±ç»™åˆ°èŠ‚ç‚¹è´¦æˆ·ï¼Ÿå¸Œæœ›å¾—åˆ°æ‚¨çš„å¸®åŠ©ï¼Œè°¢è°¢</p>", 
                    "likes": 0, 
                    "childComments": [
                        {
                            "userName": "çŸ¥ä¹ç”¨æˆ·", 
                            "userLink": "https://www.zhihu.com/people/0", 
                            "content": "ä¸å¥½æ„æ€ï¼Œæ‚¨çš„é—®é¢˜å¯èƒ½è¶…å‡ºæˆ‘çš„è§£ç­”èƒ½åŠ›èŒƒç•´ã€‚å¯ä»¥åŠ å¥½å‹äº¤æµä¸€ä¸‹", 
                            "likes": 0, 
                            "replyToAuthor": "é™ˆå®‡"
                        }, 
                        {
                            "userName": "é‚“æ–‡å¥‡", 
                            "userLink": "https://www.zhihu.com/people/2c7874f438ae9ee5c676bb5502a173e3", 
                            "content": "<p>å¯ä»¥åŠ ä¸ªå¾®ä¿¡å—ï¼Œæˆ‘ä¹Ÿåœ¨ç ”ç©¶Cosmoså¼€å‘å…¬é“¾</p>", 
                            "likes": 0, 
                            "replyToAuthor": "çŸ¥ä¹ç”¨æˆ·"
                        }
                    ]
                }, 
                {
                    "userName": "siyee", 
                    "userLink": "https://www.zhihu.com/people/f88883a4c88b7a7421ae4ed66a6093e4", 
                    "content": "<p>æœ‰åˆ›ä¸šæƒ³æ³•å—ï¼Ÿå¦‚æœæœ‰å¯ä»¥æ²Ÿé€šä¸‹ã€‚</p>", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "çŸ¥ä¹ç”¨æˆ·", 
                    "userLink": "https://www.zhihu.com/people/0", 
                    "content": "<p>é€‰æ‹©åŸºäºtendermintæ˜¯å‡ºäºä»€ä¹ˆè€ƒè™‘å‘¢ï¼Ÿå¦‚æœä¸æ˜¯çœ‹è·¨é“¾å°±çœ‹ä¸åˆ°cosmosï¼Œçœ‹ä¸åˆ°cosmoså°±çœ‹ä¸åˆ°tendermintã€‚ã€‚</p>", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "ç‹å…­çº§", 
                    "userLink": "https://www.zhihu.com/people/6284ab2d67d80bf090dc28e5160b1356", 
                    "content": "<p>å­¦ä¹ äº† ä¸é”™çš„æ–‡ç« </p>", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "å°éœ–å­", 
                    "userLink": "https://www.zhihu.com/people/497e55ea8f667cd393dc722da5bd6417", 
                    "content": "<p>ä½ è¿™æ˜¯åªå¼€å¯ä¸€ä¸ªtendermintèŠ‚ç‚¹çš„å—ï¼Ÿ</p>", 
                    "likes": 0, 
                    "childComments": []
                }
            ]
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/33081515", 
            "userName": "é•¿è„š", 
            "userLink": "https://www.zhihu.com/people/59e31f1c355dd88f47fd61d2937b02aa", 
            "upvote": 21, 
            "title": "5åˆ†é’ŸGETåŒºå—é“¾ - å…³äºåŒºå—é“¾çš„ä¸€åˆ‡ All About Blockchain", 
            "content": "<p>æœ¬æ–‡æ”»ç•¥ï¼šè§£æƒ‘åŒºå—é“¾ï¼Œå¦‚ä½•å¼€å‘ä¸€ä¸ªåŒºå—é“¾é¡¹ç›®</p><p>å»ºè®®ç©å®¶ç­‰çº§ï¼šå¸åœˆï¼ŒæŠ€æœ¯å°ç™½ï¼Œå­¦ç”Ÿå…šï¼Œåˆçº§ç å†œ</p><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 1: åŒºå—é“¾æ˜¯ä»€ä¹ˆ What is Blockchain</b></h2><p>ä¸¾ä¸ªæ —å­ï¼šæ°å…‹é©¬ã€é›·å¸ƒæ–¯ã€å¡å°¼é©¬ã€å¼ºä¸œå“¥å››ä¸ªå¥½æœ‹å‹ç»å¸¸ä¸€èµ·æ‰“éº»å°†ï¼Œæ¯å±€ç»“æŸéƒ½ç”¨æ”¯ä»˜å®ç›¸äº’ç»“ç®—ã€‚æŸå¤©èªæ˜çš„é›·å¸ƒæ–¯æè®®ä»¥åæ¯å±€ç»“æŸç”±ä»–è®¡ç®—è¾“èµ¢é‡‘é¢å¹¶å‘Šè¯‰å¤§å®¶ï¼Œå¤§å®¶å„è‡ªéƒ½è®°åœ¨è‡ªå·±çš„è´¦æœ¬ä¸Šï¼Œæ¯è®°å®Œ 1024 æ¡å°±å‘èµ·ä¸€æ¬¡å®¡è®¡æŠ•ç¥¨ï¼Œåªè¦æœ‰ä¸‰ä¸ªäººåŒæ„è®¤å¯è¿™æ‰¹è®°å½•ï¼Œå°±æŠŠè¿™æ‰¹è®°å½•å½’æ¡£æˆä¸€é¡µå¹¶ä¸”ç¼–å·ç•™å­˜ï¼Œæœ€åå†æ ¹æ®è¿™æ‰¹è®°å½•ç»“æœä¸€æ¬¡æ€§ç»“ç®—ï¼Œäºæ˜¯å¤§å®¶éƒ½åŒæ„äº†è¿™ä¸ª good ideaã€‚</p><p>è®©æˆ‘ä»¬é€šè¿‡æ —å­æ¥é€šä¿—çš„ç†è§£åŒºå—é“¾èƒŒåé‚£äº›é«˜ä¸å¯æ”€çš„åè¯ï¼š</p><ul><li>Transactionï¼šäº‹åŠ¡ã€‚è´¦æœ¬ä¸Šçš„æ¯ä¸€ç¬”è®°å½•ï¼Œéƒ½ä»£è¡¨äº†ä¸€ä¸ªç³»ç»Ÿ Transactionã€‚</li><li>Blockï¼šåŒºå—ã€‚æ¯ 1024 ç¬”è®°å½•å½’æ¡£æˆä¸€é¡µï¼Œæ¯ä¸€é¡µéƒ½ä»£è¡¨äº†ä¸€ä¸ªç³»ç»Ÿ Blockï¼Œæ¯ä¸€ä¸ª Block éƒ½è®°å½•äº† 1024 ä¸ª Transactionã€‚ï¼ˆ1024åªæ˜¯æ —å­ä¸­çº¦å®šçš„ï¼Œè¿™ä¸ªæ•°å­—æ¯ä¸ªé¡¹ç›®è‡ªç”±å‘æŒ¥ï¼‰</li><li>Broadcastï¼šå¹¿æ’­ã€‚æ¯å±€ç»“æŸåï¼Œç”±é›·å¸ƒæ–¯å‘å¤§å®¶å®£å¸ƒè¾“èµ¢é‡‘é¢ï¼Œå¤§å®¶å¬åˆ°ä»¥åå„è‡ªè®°å½•ï¼Œè´¦æœ¬åªè®°å½•å››äººéº»å°†è¾“èµ¢æœ‰å…³çš„è®°å½•ï¼Œä¸è®°å½•å…¶å®ƒæ— å…³æ¶ˆæ¯ã€‚ä¸€ä¸ªèŠ‚ç‚¹æ”¶åˆ°æ¶ˆæ¯ä¼šè¿›è¡ŒéªŒè¯ï¼Œé€šè¿‡éªŒè¯åä¼šè¿›è¡Œå…¨ç½‘å¹¿æ’­ï¼Œå…¶å®ƒèŠ‚ç‚¹æ”¶åˆ°å¹¿æ’­åè¿›è¡ŒåŒæ ·çš„éªŒè¯ï¼Œå¹¶è®°å½•ä¸‹æ¥ã€‚</li><li>Consensusï¼šå…±è¯†æœºåˆ¶ã€‚æ¯æ¬¡å®¡è®¡ 1024 æ¡è®°å½•ï¼Œåªæœ‰è‡³å°‘ä¸‰ä¸ªäººéƒ½æŠ•è®¤å¯ç¥¨ï¼Œè¿™æ‰¹è®°å½•æ‰ä¼šè¢«è®¤ä¸ºæœ‰æ•ˆå¹¶æäº¤ã€‚ç³»ç»Ÿæ¯å†™ 1024 ä¸ª Transaction å°±å‘èµ·ä¸€æ¬¡å…¬æŠ•ï¼Œè¶…è¿‡ 2/3 æŠ•ç¥¨è®¤å¯åè¢«è®¤ä¸ºæœ‰æ•ˆï¼Œå¹¶æäº¤ä¸ºæ–°çš„ Blockï¼ˆè¿™éƒ¨åˆ†ä¼šåœ¨ PART 4 è¯¦è§£ï¼‰</li><li>Commitï¼šæäº¤ã€‚å››äººæ¯æ¬¡å®¡è®¡1024 æ¡è®°å½•è¾¾æˆå…±è¯†åï¼Œå°±æŠŠè¯¥é¡µä¿å­˜å½’æ¡£ï¼Œç„¶åæ¢æ–°çš„ä¸€é¡µç»§ç»­è®°å½•ã€‚ç³»ç»Ÿæ¯å†™ 1024 ä¸ª Transaction å°± Commit ä¸€æ¬¡ï¼ŒCommit æˆåŠŸåä¼šäº§ç”Ÿä¸€ä¸ªç³»ç»Ÿ Blockã€‚</li><li>Hashï¼šå“ˆå¸Œå€¼ï¼Œå…·æœ‰å…¨å±€å”¯ä¸€æ€§ã€‚è´¦æœ¬æ¯è®°å½•å®Œä¸€é¡µï¼Œä¼šè®¡ç®—å‡ºä¸€ä¸ªå…¨å±€å”¯ä¸€ç¼–å·ï¼Œä½œä¸ºè¯¥é¡µçš„å½’æ¡£ç¼–å·ï¼ŒåŒæ—¶ä¹Ÿå°†è¯¥é¡µç è®°å½•åœ¨æ–°ä¸€é¡µçš„ç¬¬ä¸€è¡Œã€‚æ¯æ¬¡ Commit ä¼šè®¡ç®—å‡ºä¸€ä¸ªå…¨å±€å”¯ä¸€ Hash å€¼ä½œä¸ºè¯¥ Block ç­¾åï¼ŒåŒæ—¶ä¹Ÿè®°å½•åœ¨ä¸‹ä¸ª Block åˆå§‹ä½ç½®ã€‚</li><li>Chainï¼šé“¾ã€‚è´¦æœ¬è®°å½•çš„æ¯ä¸€é¡µéƒ½æ ‡æœ‰å½’æ¡£ç¼–å·å’Œä¸Šä¸€é¡µçš„å½’æ¡£ç¼–å·ï¼Œè¿™æ ·æ‰€æœ‰çš„é¡µéƒ½æŒ‰å½’æ¡£ç¼–å·çš„å…ˆåé¡ºåºè£…è®¢åœ¨ä¸€èµ·å½¢æˆäº†ä¸€ä¸ªå®Œæ•´çš„è´¦æœ¬ï¼Œä¸€ç›´å¯ä»¥ä»å½“å‰é¡µè¿½æº¯åˆ°ç¬¬ä¸€é¡µï¼Œåªè¦å¤§å®¶æ„¿æ„ï¼Œè¿™ä¸ªè´¦æœ¬å¯ä»¥è®°å½•ä¸‰ç”Ÿä¸‰ä¸–ï¼Œæ²¡æœ‰é•¿åº¦é™åˆ¶ã€‚ç³»ç»Ÿçš„æ¯ä¸€ä¸ª Block éƒ½æœ‰å„è‡ªå”¯ä¸€çš„ Hash å€¼ï¼ŒåŒæ—¶ä¹Ÿè®°å½•äº†ä¸Šä¸€ä¸ª Block çš„ Hash å€¼ï¼Œå½¢æˆäº†ä¸€ä¸ªå®Œæ•´æœ‰é¡ºåºçš„ BlockChainï¼Œè¿™ä¹Ÿæ˜¯åŒºå—é“¾åç§°çš„ç”±æ¥ã€‚</li><li>Queryï¼šæŸ¥è¯¢ã€‚å››ä¸ªäººéƒ½èƒ½æŸ¥è¯¢è´¦æœ¬é‡Œçš„æ¯ä¸€ç¬”è®°å½•ã€‚</li></ul><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 2: åŒºå—é“¾é©å‘½ Blockchain Revolution</b></h2><p>ç†è§£äº†åŒºå—é“¾ï¼Œå†é¡ºä¾¿ç†è§£ä¸€ä¸‹ä¸ºä»€ä¹ˆåŒºå—é“¾è¢«èˆ†è®ºè®¤ä¸ºæ˜¯ä¸€åœºé©å‘½ï¼Œä¸€åœºå»ä¸­å¿ƒåŒ–çš„é©å‘½ã€‚</p><p>â€œä¸­å¿ƒåŒ–â€æ˜¯ä»€ä¹ˆï¼Ÿæ —å­ä¸­ï¼Œå››ä¸ªäººåŸæœ¬ç›¸ä¿¡çš„è½¬è´¦è®°å½•æ˜¯æ¥è‡ªæ”¯ä»˜å®ï¼Œè½¬è´¦è®°å½•ç”±æ”¯ä»˜å®ç»Ÿä¸€ç®¡ç†ï¼Œå››ä¸ªäººéƒ½åªå¯¹æ”¯ä»˜å®çš„è½¬è´¦è®°å½•è¾¾æˆå…±è¯†ã€‚â€œä¸­å¿ƒåŒ–â€å°±æ˜¯æ‰€æœ‰è®°å½•éƒ½åœ¨æ”¯ä»˜å®æ‰‹ä¸Šï¼Œå®ƒè¿œåœ¨äº‘ç«¯ã€‚</p><p>â€œå»ä¸­å¿ƒåŒ–â€åˆæ˜¯ä»€ä¹ˆï¼Ÿæ —å­ä¸­ï¼Œè‡ªä»æœ‰äº†é›·å¸ƒæ–¯çš„æè®®ä»¥åï¼Œå››ä¸ªäººäººæ‰‹ä¸€æœ¬è´¦æœ¬ï¼Œå¤§å®¶å¯¹è½¬è´¦è®°å½•çš„å…±è¯†ä»åŸæ¥çš„æ”¯ä»˜å®é‚£é‡Œè½¬ç§»åˆ°äº†è‡ªå·±æ‰‹ä¸Šçš„è´¦æœ¬ï¼Œè¿™æ˜¯ä¸€æœ¬ç»è¿‡å¤§å®¶å®¡æ ¸å®Œå…¨å¯ä¿¡ä»»çš„è´¦æœ¬ã€‚â€œå»ä¸­å¿ƒåŒ–â€å°±æ˜¯æ‰€æœ‰è®°å½•éƒ½åœ¨è‡ªå·±çš„è´¦æœ¬ä¸Šï¼Œå°±åœ¨è‡ªå·±èº«è¾¹ï¼Œé‚£è¿™ä¸ªæ—¶å€™æ”¯ä»˜å®è½¬è´¦è®°å½•åˆæ˜¯ä»€ä¹ˆï¼ŸWho caresï¼Ÿ</p><p class=\"ztext-empty-paragraph\"><br/></p><p>å†é¡ºä¾¿ç†è§£ä¸€ä¸‹åŒºå—é“¾é¼»ç¥–ï¼Œæ¯”ç‰¹å¸ã€‚</p><p>â€œä¸­å¿ƒåŒ–â€æ˜¯ä»€ä¹ˆï¼Ÿæ‰€æœ‰çš„æµé€šè´§å¸éƒ½æ˜¯ç”±é‡‘èæˆ–è€…æ”¿åºœæœºæ„å‘è¡Œæ§åˆ¶ç®¡ç†çš„ï¼Œå‡ ç™¾å¹´æ¥äº˜å¤ä¸å˜ï¼Œè´§å¸ä½¿ç”¨è€…éƒ½å¿…é¡»å¯¹å‘è¡Œæœºæ„çš„æƒå¨æ€§è¾¾æˆå…±è¯†ï¼Œæ‰ä¼šå»å…‘æ¢å’Œä½¿ç”¨å‘è¡Œçš„è´§å¸ã€‚</p><p>â€œå»ä¸­å¿ƒåŒ–â€åˆæ˜¯ä»€ä¹ˆï¼Ÿæ¯”ç‰¹å¸æ˜¯è™šæ‹Ÿè´§å¸ï¼Œå¦‚æœåªæ˜¯æŸæŸè®ºå›é‡Œçš„è™šæ‹Ÿè´§å¸é‚£å‡ ä¹ä¸ä¼šæœ‰äººç›¸ä¿¡ä»–æ˜¯å¯ä»¥æµé€šä¸”æœ‰ä»·å€¼çš„ã€‚ä½†å› ä¸ºåŒºå—é“¾çš„å…±è¯†æœºåˆ¶ç‰¹æ€§ï¼Œæ —å­ä¸­çš„è´¦æœ¬å’Œç°å®ä¸­çš„æ¯”ç‰¹å¸éƒ½å…·æœ‰è¢«ä½¿ç”¨è€…å…±è¯†çš„ç‰¹æ€§ï¼Œæ¯ä¸€æšæ¯”ç‰¹å¸ä»è¯ç”Ÿåˆ°æ¶ˆè´¹ï¼Œä»ä¸€ä¸ªè´¦å·è½¬ç§»åˆ°ä»»æ„ä¸€ä¸ªå…¶ä»–è´¦å·ï¼Œè¿™äº›è®°å½•éƒ½è¢«æ‰€æœ‰å‚ä¸ç”¨æˆ·å…±åŒè®°å½•å¹¶ä¸”é€šè¿‡å®¡è®¡ã€‚é‚£ä¹ˆæƒ³è±¡ä¸€ä¸‹ï¼Œå…¨ä¸–ç•Œäººå¦‚æœéƒ½åœ¨ç”¨æ¯”ç‰¹å¸ï¼Œé‚£ä¹ˆç¾å…ƒæ˜¯ä»€ä¹ˆï¼Ÿç¾è”å‚¨åˆæ˜¯è°ï¼ŸWho caresï¼Ÿ</p><p>å½“ç„¶POä¸»è¿˜æ˜¯å¸Œæœ›åŒºå—é“¾æŠ€æœ¯ç”¨äºå„ä¸ªé¢†åŸŸï¼Œç»™å„ä¸ªé¢†åŸŸå¸¦æ¥å¥½çš„å‘å±•ï¼Œè€Œä¸æ˜¯å»åšä¸€äº›è¿èƒŒç¤¾ä¼šç§©åºå’Œå‘å±•çš„é¡¹ç›®ï¼Œåšäº†ä¹Ÿæœªå¿…èƒ½æˆåŠŸã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 3: åŒºå—é“¾å®‰å…¨å— Blockchain Security</b></h2><p>æˆ‘ä»¬å†æŠŠæ —å­ä¸¾èµ·æ¥ï¼š</p><p>å‡è®¾æ°å…‹é©¬ã€é›·å¸ƒæ–¯ã€å¡å°¼é©¬ã€å¼ºä¸œå“¥å››ä¸ªå¥½æœ‹å‹éƒ½æ˜¯å›å­ï¼Œä¸ä¼šæœ‰äººä½œå¼Šï¼Œé‚£ä¹ˆè´¦æœ¬è‚¯å®šæ˜¯éå¸¸å¯é å®‰å…¨çš„ã€‚ä½†äººä¸äººä¹‹é—´çš„ä¿¡ä»»æ€»æ˜¯é‚£ä¹ˆè„†å¼±ï¼ŒæŸå¤©å¼ºä¸œå“¥è¶å¤§å®¶ä¸æ³¨æ„ï¼Œå·å·æ”¹å†™äº†è‡ªå·±çš„è´¦æœ¬ï¼Œç”šè‡³è¿˜å·æ”¹äº†æ°å…‹é©¬å’Œå¡å°¼é©¬çš„è´¦æœ¬ï¼Œä¼å›¾åœ¨å®¡è®¡æŠ•ç¥¨æ—¶è®©è‡ªå·±çš„å‡è´¦é€šè¿‡å¤§å®¶çš„å…±è¯†ï¼Œå½“ç„¶æœ€åè¢«æ°å…‹é©¬å’Œå¡å°¼é©¬éƒ½è¯†ç ´äº†ï¼Œå› ä¸ºç­¾åå’Œå­—è¿¹ä¸ä¸€æ ·ã€‚å¼ºä¸œå“¥è¿™ç§è¡Œä¸ºæˆ‘ä»¬æœ‰ä¸ªå¾ˆæ´‹æ°”çš„åè¯ç§°ä¹‹ä¸º <b>æ‹œå åº­ï¼ˆByzantineï¼‰</b>ã€‚</p><p>å†å‡è®¾æŸå¤©å› ä¸ºå¼ºä¸œå“¥è´¦æœ¬å¿˜è®°åœ¨å®¶é‡Œäº†æ²¡å¸¦ï¼Œæ‰€ä»¥é‚£å¤©ä»–åªèƒ½æ‰“éº»å°†ä¸èƒ½å’Œå¤§å®¶ä¸€èµ·æ­£å¸¸è®°è´¦ã€‚è¿™ç§è¡Œä¸ºæˆ‘ä»¬ä¹Ÿæœ‰ä¸ªå¾ˆæ´‹æ°”çš„åè¯ç§°ä¹‹ä¸º <b>éæ‹œå åº­</b>ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><p>é‚£ä¹ˆï¼ŒåŒºå—é“¾çœ‹ä¼¼é è°±çš„å…±è¯†æœºåˆ¶ï¼Œåœ¨è¿™ä¸¤ç§æƒ…å†µå‘ç”Ÿæ—¶æ˜¯å¦çœŸçš„å®‰å…¨ï¼Ÿ</p><p>æƒ…å†µä¸€ï¼šä¸€ç¾¤äººåœ¨åšåŒä¸€ä»¶äº‹ï¼Œé‡åˆ°å…¶ä¸­æŸäº›äººå› å„ç§åŸå› æ— æ³•æ­£å¸¸å‚ä¸å·¥ä½œï¼Œä½†è¿™ä»¶äº‹æƒ…ä»ç„¶å¯ä»¥ç»§ç»­è¿›è¡Œä¸”ç»“æœä¸å—åˆ°ä»»ä½•å½±å“ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º <b>éæ‹œå åº­å®¹é”™</b></p><p>æƒ…å†µäºŒï¼šä¸€ç¾¤äººåœ¨åšåŒä¸€ä»¶äº‹ï¼Œé‡åˆ°å…¶ä¸­æŸäº›äººéä½†ä¸æ­£å¸¸å‚ä¸å·¥ä½œï¼Œè¿˜èƒŒå›äº†å¤§å®¶ï¼Œè“„æ„åšå‡ºæœ‰æŸå¤§å®¶åˆ©ç›Šçš„äº‹æƒ…ï¼Œå¥½åœ¨å¤§å®¶èƒ½æœ‰æ•ˆéåˆ¶åäººçš„ç ´åè¡Œä¸ºï¼Œè¿™ä»¶äº‹æƒ…ä»ç„¶å¯ä»¥ç»§ç»­è¿›è¡Œä¸”ç»“æœä¸å—åˆ°ä»»ä½•å½±å“ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º <b>æ‹œå åº­å®¹é”™ï¼ˆByzantine Fault Toleranceï¼‰</b></p><p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬é€šè¿‡ PART 4 æ¥æ€è€ƒåŒºå—é“¾æ˜¯å¦çœŸçš„å®‰å…¨ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 4: åŒºå—é“¾å…±è¯†æœºåˆ¶ Blockchain Consensus</b></h2><p>ä»å­—é¢æ„æ€ç†è§£ï¼Œå…±è¯†æœºåˆ¶å°±æ˜¯å¤§å®¶å…±åŒè®¤å¯ä¸€å¥—å®‰å…¨å¯é çš„å®¡è®¡è§„åˆ™ï¼Œåªæœ‰é€šè¿‡è¿™å¥—å®¡è®¡è§„åˆ™çš„æ•°æ®å¤§å®¶æ‰ä¼šä¸€èµ·è®¤å¯å¹¶è®°å½•å½’æ¡£ã€‚é‚£ä¹ˆè¿™æ ·å®‰å…¨åˆå¯é çš„å®¡è®¡è§„åˆ™æœ‰å“ªäº›å‘¢ï¼Ÿ</p><ol><li>æ‹œå åº­å®¹é”™ï¼ˆByzantine Fault Toleranceï¼‰ï¼šæ —å­ä¸­å››äººå…±åŒè®¤åŒè´¦æœ¬çš„è§„åˆ™æ˜¯åŸºäºå››äººæŠ•ç¥¨ï¼Œåªæœ‰ä¸‰äººè®¤åŒå°±å®¡è®¡é€šè¿‡ï¼Œè¿™ä¸ªè§„åˆ™å°±æ˜¯åŸºäºæ‹œå åº­å®¹é”™è®¾è®¡çš„ã€‚æ‹œå åº­å®¹é”™è§„å®šè‡³å°‘æœ‰2/3çš„æŠ•ç¥¨é€šè¿‡ï¼Œæ•°æ®æ‰ä¼šè¢«æäº¤ï¼Œå¹¶ä¸”å¯ä»¥å…è®¸å°‘äº1/3çš„åè›‹åœ¨æ•…æ„æç ´åã€‚è‡³äº1/3å’Œ2/3è¿™ä¸¤ä¸ªæ•°å­—æ˜¯æ€ä¹ˆå¾—æ¥çš„ï¼Œè¯·ç©¿è¶Šå» <a href=\"https://link.zhihu.com/?target=https%3A//www.jianshu.com/p/5fea30b25f0a\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">æ‹œå åº­</a></li><li>å·¥ä½œé‡è¯æ˜ï¼ˆProof of workï¼‰ï¼šè¿™å°±æ˜¯å¤§å®¶ç†Ÿæ‚‰çš„æ¯”ç‰¹å¸æŒ–çŸ¿ï¼Œé€šè¿‡ä¸æˆ–è¿ç®—ï¼Œè®¡ç®—å‡ºä¸€ä¸ªæ»¡è¶³è§„åˆ™çš„éšæœºæ•°ï¼Œå³è·å¾—æœ¬æ¬¡åŒºå—è®°è´¦æƒï¼Œå‘å‡ºæœ¬è½®éœ€è¦è®°å½•çš„æ•°æ®ï¼Œå…¨ç½‘å…¶å®ƒèŠ‚ç‚¹éªŒè¯åä¸€èµ·å­˜å‚¨</li></ol><p>è¿™é‡ŒPOä¸»åªåˆ—å‡ºäº†å…¶ä¸­2ç§å…±è¯†æœºåˆ¶ï¼Œè¿˜æœ‰å¥½å‡ ç§æœºåˆ¶POä¸»ä¹Ÿåœ¨å­¦ä¹ ä¸­ï¼Œæœ‰å…´è¶£çš„ç©å®¶å¯ä»¥è‡ªè¡Œæ‰¾åº¦å¨˜å­¦ä¹ ã€‚</p><p>è¿˜æ˜¯å›åˆ°åŒºå—é“¾æ˜¯å¦å®‰å…¨çš„é—®é¢˜ï¼Œç»“è®ºæ˜¯åªè¦ä½äºæ‰€ä½¿ç”¨å…±è¯†æœºåˆ¶çš„å®¹é”™ç‡ï¼Œä»–å°±æ˜¯å®‰å…¨å¯é çš„ï¼Œè¿™ä¸ªå¥½åƒæ˜¯åºŸè¯ã€‚</p><p>é‚£å®¹é”™ç‡é«˜äº†æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬æ‹¿å·¥ä½œé‡è¯æ˜æ¥è¯´ï¼Œä¸€ä¸ªåè›‹å¦‚æœè¦å¯¹åŒºå—è¿›è¡Œé€ å‡ï¼Œä»–å°±å¿…é¡»æ»¡è¶³ä¸€ä¸ªæ¡ä»¶ï¼Œæ¯æ¬¡éƒ½å¾—æ¯”å…¨ä¸–ç•Œæ‰€æœ‰äººéƒ½å…ˆè®¡ç®—å‡ºæ»¡è¶³è§„åˆ™çš„éšæœºæ•°ï¼Œè¿™ä¹Ÿæ„å‘³ç€åè›‹çš„è®¡ç®—èƒ½åŠ›è¦è‡³å°‘å æ®å…¨ä¸–ç•Œè®¡ç®—æ€»èƒ½åŠ›çš„50%ï¼Œä»€ä¹ˆæ¦‚å¿µï¼Ÿå°±æ˜¯å…¨ä¸–ç•Œå¦‚æœæœ‰100ä¸‡å°ç”µè„‘åœ¨è®¡ç®—åŒºå—éšæœºæ•°ï¼ˆæŒ–çŸ¿ï¼‰ï¼Œè¿™ä¸ªåè›‹å¿…é¡»æœ‰å…¶ä¸­çš„50ä¸‡å°æ‰èƒ½è‡³å°‘ä¿è¯æœ‰å¯èƒ½æ¯æ¬¡éƒ½ç¬¬ä¸€ä¸ªè®¡ç®—å‡ºæ–°çš„åŒºå—éšæœºæ•°ï¼ˆæŒ–çŸ¿ï¼‰ã€‚å¥½äº†ï¼Œç°åœ¨çš„ä½ æ˜¯å¦å¯ä»¥æ”¾å¿ƒå®‰å¿ƒçš„å»è´­ä¹°æ¯”ç‰¹å¸äº†ï¼Œå¸Œæœ›æœºæ™ºçš„ä½ å¯ä»¥æŠ„åˆ°åº•ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>PART 5: åŒºå—é“¾é¡¹ç›®å¼€å‘å‡†å¤‡ Prepare for Blackchain Develop</b></h2><p>é“ºå«äº†é‚£ä¹ˆå¤šï¼Œæ€»ç®—è¯¥åˆ°äº†POä¸»æœ€æ“…é•¿çš„æ’¸ä»£ç éƒ¨åˆ†äº†ã€‚POä¸»ä¼šå…ˆç»™å„ä½æœ‰å¿—äºåšåŒºå—é“¾é¡¹ç›®çš„ç©å®¶å¸ƒç½®ä¸€äº›å¼€å·¥å‰çš„å‡†å¤‡å·¥ä½œï¼š</p><ol><li>å­¦ä¼šGOè¯­è¨€ï¼šå¦‚æœä½ æ˜¯ä¸€åç¨‹åºçŒ¿ï¼Œä¸ç®¡æ˜¯å“ªå®¶è¯­è¨€çš„ï¼Œå­¦ä¹ GOè¯­è¨€å¯¹ä½ æ¥è¯´ç®€å•çš„å¾ˆï¼Œè®¤çœŸèŠ±ä¸‰å¤©æ—¶é—´åŒ…ä¼šã€‚å¦‚æœä½ æ˜¯ä¸€åé›¶åŸºç¡€ï¼Œè¯·æ‰¾ä¸€åç¨‹åºçŒ¿æ¥è®©ä»–å­¦ï¼Œç„¶åå‘Šè¯‰ä»–ä½ æƒ³å®ç°ä»€ä¹ˆã€‚</li><li>ç†è§£åŒºå—é“¾ï¼šPOä¸»åªæ˜¯æ ¹æ®ä¸ªäººç†è§£æŠŠåŒºå—é“¾é€šä¿—çš„åšäº†è§£é‡Šï¼Œå¸Œæœ›å„ä½ç©å®¶è¿˜èŠ±ç‚¹æ—¶é—´åœ¨åŒºå—é“¾ç†è®ºçš„æµ·æ´‹é‡Œè‡ªå·±é¨æ¸¸ä¸€ä¸‹ï¼Œå¦‚æœPOä¸»æœ‰ç†è§£é”™è¯¯ä¹‹å¤„ï¼Œä¹Ÿå¸Œæœ›å„ä½æ¥æŒ‡æ­£å’Œè¡¥å……ï¼Œè·ªè°¢ã€‚</li><li>äº²è‡ªçœ‹åˆ° GO ä»£ç è¾“å‡º Hello Worldï¼Œå¹¶ä¸”çŸ¥é“ go get æ˜¯ä»€ä¹ˆå‘½ä»¤</li><li>å†æ¨èå‡ æ¬¾IDEç»™å„ä½ç©å®¶ï¼ŒVS Code, Atom, Sublimeï¼Œæ€»æœ‰ä¸€æ¬¾é€‚åˆä½ </li><li>æœ€åï¼Œå½“ä½ éƒ½æŒæ¡äº†ä»¥ä¸Šå†…å®¹ï¼Œå¯ä»¥å¼€å§‹é¢„ä¹  Tendermint æ¡†æ¶ï¼Œæˆ‘ä»¬å°†ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šè¿›è¡ŒåŒºå—é“¾é¡¹ç›®å¼€å‘ã€‚</li></ol><p>å…³äºåŒºå—é“¾çš„ä¸€åˆ‡ï¼ŒPOä¸»ç†è§£å®Œäº†ã€‚å…³äºå¼€å‘çš„ä¸€åˆ‡ï¼Œæˆ‘ä»¬<a href=\"https://zhuanlan.zhihu.com/p/33154604\" class=\"internal\">ä¸‹ç¯‡æ–‡ç« </a>è§ã€‚</p><hr/><p><i>å¦‚éœ€åˆä½œæˆ–è½¬è½½è¯·è”ç³»æœ¬æ–‡ä½œè€…ï¼Œè·ªè°¢</i></p>", 
            "topic": [
                {
                    "tag": "åŒºå—é“¾(Blockchain)", 
                    "tagLink": "https://api.zhihu.com/topics/19901773"
                }
            ], 
            "comments": [
                {
                    "userName": "å…‹æ´›è¿ªäºšäºšç‰¹é²", 
                    "userLink": "https://www.zhihu.com/people/b08fbe0f7f1d01a3ee2800c3f26f1e1a", 
                    "content": "ä¸‹ä¸€ç¯‡æ–‡ç« æ˜¯ä»€ä¹ˆæ—¶å€™", 
                    "likes": 0, 
                    "childComments": [
                        {
                            "userName": "çŸ¥ä¹ç”¨æˆ·", 
                            "userLink": "https://www.zhihu.com/people/0", 
                            "content": "<p>ä¸¤ä¸‰å¤©å†…æ›´æ–°</p>", 
                            "likes": 1, 
                            "replyToAuthor": "å…‹æ´›è¿ªäºšäºšç‰¹é²"
                        }
                    ]
                }, 
                {
                    "userName": "ä½™ä½™", 
                    "userLink": "https://www.zhihu.com/people/613a2be70b747346bd66e4838cb4157e", 
                    "content": "éå¸¸æ£’ï¼Œè¯·æ”¶ä¸‹æˆ‘çš„èµï¼Œè°¢è°¢ï¼", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "æœ‰çˆ±çš„å¤§ç¾šç¾Š", 
                    "userLink": "https://www.zhihu.com/people/7adcb80869511b9bc6f1e7c8033b399b", 
                    "content": "ä»»ä½•ä¸€ç§æ¯”ç‰¹å¸éƒ½å±€é™åœ¨äº§ç”Ÿå®ƒçš„ç‰¹å®šåŒºå—é“¾ä¸­ã€‚æ—¢ç„¶æœ‰è¿™ç§å±€é™æ€§ï¼Œæ¯”ç‰¹å¸æ€ä¹ˆèƒ½ä¸çœŸå®è´§å¸ç›¸æå¹¶è®ºï¼Ÿ", 
                    "likes": 0, 
                    "childComments": []
                }
            ]
        }
    ], 
    "url": "https://zhuanlan.zhihu.com/GeekFive"
}
