{
    "title": "计算神经科学与人工智能", 
    "description": "", 
    "followers": [
        "https://www.zhihu.com/people/yu-zhi-bo-54-73", 
        "https://www.zhihu.com/people/lan-yang-yang-e-liao-zz", 
        "https://www.zhihu.com/people/zhang-huang-48-59", 
        "https://www.zhihu.com/people/hang-tu-87", 
        "https://www.zhihu.com/people/bin-bin-30", 
        "https://www.zhihu.com/people/fan-fan-87-24-95", 
        "https://www.zhihu.com/people/eric-3-92", 
        "https://www.zhihu.com/people/hong-shao-peng-32", 
        "https://www.zhihu.com/people/li-ji-yuan-92", 
        "https://www.zhihu.com/people/xiao-wan-jia-18", 
        "https://www.zhihu.com/people/leck-29", 
        "https://www.zhihu.com/people/das-universum", 
        "https://www.zhihu.com/people/kong-xiao-fei-14", 
        "https://www.zhihu.com/people/dingyi1018", 
        "https://www.zhihu.com/people/shuang-kong-xiao-hun-dun", 
        "https://www.zhihu.com/people/freeman-96-88", 
        "https://www.zhihu.com/people/kof-94", 
        "https://www.zhihu.com/people/spacefan", 
        "https://www.zhihu.com/people/wan-dou-71-49", 
        "https://www.zhihu.com/people/yuan-15-74", 
        "https://www.zhihu.com/people/hook-sun", 
        "https://www.zhihu.com/people/jing-tiao-79", 
        "https://www.zhihu.com/people/sun-li-1-89", 
        "https://www.zhihu.com/people/he-zheng-e", 
        "https://www.zhihu.com/people/zhang-yong-qing-40", 
        "https://www.zhihu.com/people/zhang-jia-peng-3-34", 
        "https://www.zhihu.com/people/shi-tou-46-35", 
        "https://www.zhihu.com/people/goddog", 
        "https://www.zhihu.com/people/rui-jia-33-6", 
        "https://www.zhihu.com/people/li-hai-rui-24", 
        "https://www.zhihu.com/people/lontenwen", 
        "https://www.zhihu.com/people/MechCD", 
        "https://www.zhihu.com/people/soaringsk", 
        "https://www.zhihu.com/people/lang-run-29", 
        "https://www.zhihu.com/people/wan-er-ji-jin-de-hao-ran-ge", 
        "https://www.zhihu.com/people/Turiny", 
        "https://www.zhihu.com/people/xue-wu-li-de-cai-ji", 
        "https://www.zhihu.com/people/hu-hao-jie-17", 
        "https://www.zhihu.com/people/zhu-yike-neng", 
        "https://www.zhihu.com/people/qi-qi-31-14", 
        "https://www.zhihu.com/people/0x7f454c46", 
        "https://www.zhihu.com/people/he-meng-long-24", 
        "https://www.zhihu.com/people/gushan", 
        "https://www.zhihu.com/people/ye-jin-71", 
        "https://www.zhihu.com/people/yang-ye-79", 
        "https://www.zhihu.com/people/WXB506", 
        "https://www.zhihu.com/people/fei-de-geng-gao-2", 
        "https://www.zhihu.com/people/pengchengma"
    ], 
    "article": [
        {
            "url": "https://zhuanlan.zhihu.com/p/71552379", 
            "userName": "sh001", 
            "userLink": "https://www.zhihu.com/people/5cec7bfa5beb91dc78f3e3b2f1edd1ab", 
            "upvote": 6, 
            "title": "强化学习01：马尔科夫决策过程", 
            "content": "<h2>强化学习解决什么问题？</h2><p>监督学习解决感知问题，典型的应用有手写字符识别，当给出手写数字时，监督学习需要判别出相应的数字。</p><p>强化学习解决的是决策问题，关注的是在当前输入下应该采取什么动作才能实现最终目标。</p><p>监督学习是通过大量多样化带标签数据进行学习。</p><p>强化学习是智能体通过与环境的交互进行学习。</p><p>强化学习解决决策问题，更准确的说是序贯决策问题。</p><h2>马尔科夫决策过程</h2><p>马尔科夫决策过程是序贯决策的数学模型。</p><ol><li><b>马尔科夫性</b></li></ol><p>马尔科夫性是指下一个状态 <img src=\"https://www.zhihu.com/equation?tex=S_%7Bt%2B1%7D\" alt=\"S_{t+1}\" eeimg=\"1\"/> 仅与当前状态 <img src=\"https://www.zhihu.com/equation?tex=S_%7Bt%7D\" alt=\"S_{t}\" eeimg=\"1\"/> 有关，而与过往状态无关。</p><p>状态 <img src=\"https://www.zhihu.com/equation?tex=S_%7Bt%7D\" alt=\"S_{t}\" eeimg=\"1\"/> 是马尔科夫的，当且仅当 <img src=\"https://www.zhihu.com/equation?tex=P%5Cleft%5B+S_%7Bt%2B1%7D%7CS_%7Bt%7D%5Cright%5D%3DP%5Cleft%5B+S_%7Bt%2B1%7D%7CS_%7B1%7D%2C...%2CS_%7Bt%7D%5Cright%5D\" alt=\"P\\left[ S_{t+1}|S_{t}\\right]=P\\left[ S_{t+1}|S_{1},...,S_{t}\\right]\" eeimg=\"1\"/> 。</p><p>马尔科夫性说明状态 <img src=\"https://www.zhihu.com/equation?tex=S_%7Bt%7D\" alt=\"S_{t}\" eeimg=\"1\"/> 中包含了所有的历史信息。一旦 <img src=\"https://www.zhihu.com/equation?tex=S_%7Bt%7D\" alt=\"S_{t}\" eeimg=\"1\"/> 已知，可以忽略过往信息。</p><p>2.<b> 马尔科夫过程</b></p><p>马尔科夫过程即具有马尔科夫性的随机过程，由一些具有马尔科夫性质的随机状态序列构成。</p><p>马尔科夫过程由一个二元组 <img src=\"https://www.zhihu.com/equation?tex=%5Cleft%28+S%2CP+%5Cright%29\" alt=\"\\left( S,P \\right)\" eeimg=\"1\"/> 表示。</p><ul><li><img src=\"https://www.zhihu.com/equation?tex=S\" alt=\"S\" eeimg=\"1\"/> 是（有限的）状态集合；</li><li><img src=\"https://www.zhihu.com/equation?tex=P\" alt=\"P\" eeimg=\"1\"/> 是状态转移概率（矩阵）， <img src=\"https://www.zhihu.com/equation?tex=P_%7Bss%27%7D%3DP%5Cleft%5B+S_%7Bt%2B1%7D%3Ds%27%7C+S_%7Bt%7D%3Ds%5Cright%5D\" alt=\"P_{ss&#39;}=P\\left[ S_{t+1}=s&#39;| S_{t}=s\\right]\" eeimg=\"1\"/> ， <img src=\"https://www.zhihu.com/equation?tex=s%27\" alt=\"s&#39;\" eeimg=\"1\"/> 表示 <img src=\"https://www.zhihu.com/equation?tex=s\" alt=\"s\" eeimg=\"1\"/> 状态下遗失可任一可能的状态。</li></ul><p><b>3. 马尔科夫奖赏过程</b></p><p>马尔科夫奖赏过程是在马尔科夫过程基础上增加了奖励函数和折扣因子。</p><p>马尔科夫奖赏过程由一个四元组 <img src=\"https://www.zhihu.com/equation?tex=%5Cleft%28+S%2CP%2CR%2C%5Cgamma+%5Cright%29\" alt=\"\\left( S,P,R,\\gamma \\right)\" eeimg=\"1\"/> 表示。</p><ul><li><img src=\"https://www.zhihu.com/equation?tex=R_%7Bs%7D%3DE%5Cleft%5B+R_%7Bt%2B1%7D%7CS_%7Bt%7D%3Ds+%5Cright%5D\" alt=\"R_{s}=E\\left[ R_{t+1}|S_{t}=s \\right]\" eeimg=\"1\"/> ， <img src=\"https://www.zhihu.com/equation?tex=s\" alt=\"s\" eeimg=\"1\"/> 状态下的奖赏是 <img src=\"https://www.zhihu.com/equation?tex=t\" alt=\"t\" eeimg=\"1\"/> 时刻状态 <img src=\"https://www.zhihu.com/equation?tex=s\" alt=\"s\" eeimg=\"1\"/> 在 <img src=\"https://www.zhihu.com/equation?tex=t%2B1\" alt=\"t+1\" eeimg=\"1\"/> 时刻获得的期望奖赏。（说明：这里用 <img src=\"https://www.zhihu.com/equation?tex=R_%7Bt%2B1%7D\" alt=\"R_{t+1}\" eeimg=\"1\"/> 而非 <img src=\"https://www.zhihu.com/equation?tex=R_%7Bt%7D\" alt=\"R_{t}\" eeimg=\"1\"/> ，可以理解为离开当前状态才获得奖赏，而非进入状态即得到奖赏。只要约定好，用 <img src=\"https://www.zhihu.com/equation?tex=R_%7Bt%7D\" alt=\"R_{t}\" eeimg=\"1\"/> 也可以。）</li><li><img src=\"https://www.zhihu.com/equation?tex=G_%7Bt%7D%3DR_%7Bt%2B1%7D%2B%5Cgamma+R_%7Bt%2B2%7D%2B%5Cgamma%5E%7B2%7DR_%7Bt%2B3%7D%2B...%3D%5Csum_%7Bk%3D0%7D%5E%7B%5Cinfty%7D%7B%5Cgamma%5E%7Bk%7DR_%7Bt%2Bk%2B1%7D%7D\" alt=\"G_{t}=R_{t+1}+\\gamma R_{t+2}+\\gamma^{2}R_{t+3}+...=\\sum_{k=0}^{\\infty}{\\gamma^{k}R_{t+k+1}}\" eeimg=\"1\"/> ，回报 <img src=\"https://www.zhihu.com/equation?tex=G_%7Bt%7D\" alt=\"G_{t}\" eeimg=\"1\"/> 是从 <img src=\"https://www.zhihu.com/equation?tex=t\" alt=\"t\" eeimg=\"1\"/> 时刻开始往后所有的折扣奖赏之和，也称累计奖赏。</li><li><img src=\"https://www.zhihu.com/equation?tex=%5Cgamma%5Cin%5Cleft%5B+0%2C1+%5Cright%5D\" alt=\"\\gamma\\in\\left[ 0,1 \\right]\" eeimg=\"1\"/> ，折扣因子体现了未来奖赏在当前的价值比例。 <img src=\"https://www.zhihu.com/equation?tex=%5Cgamma\" alt=\"\\gamma\" eeimg=\"1\"/> 趋近于0，更关注近期利益； <img src=\"https://www.zhihu.com/equation?tex=%5Cgamma\" alt=\"\\gamma\" eeimg=\"1\"/> 趋近于1，更关注长远利益。</li></ul><p><b>4. 价值函数及其贝尔曼方程</b></p><p>马尔科夫奖赏过程中某一状态的价值函数定义为从该状态开始的马尔科夫链回报的期望。价值函数给出了某一状态的长期价值。（说明：为什么要求期望？因为从 <img src=\"https://www.zhihu.com/equation?tex=t\" alt=\"t\" eeimg=\"1\"/> 时刻到终止状态的马尔科夫链不止一条，每一条都有对应的概率和回报，所以相应的概率乘以回报就是期望。）</p><p><img src=\"https://www.zhihu.com/equation?tex=v%28s%29%3DE%5BG_%7Bt%7D%7CS_%7Bt%7D%3Ds%5D+++++++\" alt=\"v(s)=E[G_{t}|S_{t}=s]       \" eeimg=\"1\"/> </p><p>贝尔曼方程推到如下：</p><p><img src=\"https://www.zhihu.com/equation?tex=v%28s%29%3DE%5BR_%7Bt%2B1%7D%2B%5Cgamma+R_%7Bt%2B2%7D%2B%5Cgamma%5E%7B2%7DR_%7Bt%2B3%7D%2B...%7CS_%7Bt%7D%3Ds%5D\" alt=\"v(s)=E[R_{t+1}+\\gamma R_{t+2}+\\gamma^{2}R_{t+3}+...|S_{t}=s]\" eeimg=\"1\"/> </p><p><img src=\"https://www.zhihu.com/equation?tex=v%28s%29%3DE%5BR_%7Bt%2B1%7D%2B%5Cgamma+%5Cleft%28+R_%7Bt%2B2%7D%2B%5Cgamma+R_%7Bt%2B3%7D%2B...+%5Cright%29%7CS_%7Bt%7D%3Ds%5D\" alt=\"v(s)=E[R_{t+1}+\\gamma \\left( R_{t+2}+\\gamma R_{t+3}+... \\right)|S_{t}=s]\" eeimg=\"1\"/> </p><p><img src=\"https://www.zhihu.com/equation?tex=v%28s%29%3DE%5BR_%7Bt%2B1%7D%2B%5Cgamma+G_%7Bt%2B1%7D%7CS_%7Bt%7D%3Ds%5D\" alt=\"v(s)=E[R_{t+1}+\\gamma G_{t+1}|S_{t}=s]\" eeimg=\"1\"/> </p><p><img src=\"https://www.zhihu.com/equation?tex=v%28s%29%3DE%5BR_%7Bt%2B1%7D%2B%5Cgamma+v%28S_%7Bt%2B1%7D%29%7CS_%7Bt%7D%3Ds%5D+\" alt=\"v(s)=E[R_{t+1}+\\gamma v(S_{t+1})|S_{t}=s] \" eeimg=\"1\"/> </p><p>最后一行将 <img src=\"https://www.zhihu.com/equation?tex=G_%7Bt%2B1%7D\" alt=\"G_{t+1}\" eeimg=\"1\"/> 变成了 <img src=\"https://www.zhihu.com/equation?tex=v%28S_%7Bt%2B1%7D%29\" alt=\"v(S_{t+1})\" eeimg=\"1\"/> ，理由是回报的期望等于回报的期望的期望。</p><p>贝尔曼方程由两个部分组成，一部分是当前状态的即时回报（参见奖赏的定义）；另一部分是下一时刻状态的折扣价值函数的期望，可以根绝下一时刻状态的概率分布得到。由此，值函数的另一种写法为：</p><p><img src=\"https://www.zhihu.com/equation?tex=v%28s%29%3DR_%7Bs%7D%2B%5Cgamma%5Csum_%7Bs%27%5Cin+S%7D%5E%7B%7D%7Bv%28s%27%29%7D\" alt=\"v(s)=R_{s}+\\gamma\\sum_{s&#39;\\in S}^{}{v(s&#39;)}\" eeimg=\"1\"/> </p><p><b>5. 贝尔曼方程矩阵形式与求解（1）</b></p><p>矩阵形式的贝尔曼方程为：</p><p><img src=\"https://www.zhihu.com/equation?tex=v%3DR%2B%5Cgamma+Pv\" alt=\"v=R+\\gamma Pv\" eeimg=\"1\"/> </p><p>贝尔曼方程式线性方程，可以直接求解：</p><p><img src=\"https://www.zhihu.com/equation?tex=v%3D%281-%5Cgamma+P%29%5E%7B-1%7D+R\" alt=\"v=(1-\\gamma P)^{-1} R\" eeimg=\"1\"/> </p><p>对于 <img src=\"https://www.zhihu.com/equation?tex=n\" alt=\"n\" eeimg=\"1\"/> 个状态的贝尔曼方程，计算复杂度为 <img src=\"https://www.zhihu.com/equation?tex=O%28n%5E%7B3%7D%29\" alt=\"O(n^{3})\" eeimg=\"1\"/> ；对于小规模马尔科夫奖赏过程可以直接求解；对于大规模的马尔科夫奖赏过程需要迭代求解。</p><p><b>6. 马尔科夫决策过程</b></p><p>马尔科夫决策过程是带有动作（策略）的马尔科夫奖赏过程，由一个五元组 <img src=\"https://www.zhihu.com/equation?tex=%5Cleft%28+S%2CA%2CP%2CR%2C%5Cgamma+%5Cright%29\" alt=\"\\left( S,A,P,R,\\gamma \\right)\" eeimg=\"1\"/> 表示。</p><ul><li><img src=\"https://www.zhihu.com/equation?tex=S\" alt=\"S\" eeimg=\"1\"/> 是（有限的）状态集</li><li><img src=\"https://www.zhihu.com/equation?tex=A\" alt=\"A\" eeimg=\"1\"/> 是（有限的）动作集</li><li><img src=\"https://www.zhihu.com/equation?tex=P\" alt=\"P\" eeimg=\"1\"/> 是状态转移概率（矩阵）， <img src=\"https://www.zhihu.com/equation?tex=P_%7Bss%27%7D%5E%7Ba%7D%3DP%5BS_%7Bt%2B1%7D%3Ds%27%7CS_%7Bt%7D%3Ds%2CA_%7Bt%7D%3Da%5D\" alt=\"P_{ss&#39;}^{a}=P[S_{t+1}=s&#39;|S_{t}=s,A_{t}=a]\" eeimg=\"1\"/> </li><li><img src=\"https://www.zhihu.com/equation?tex=R\" alt=\"R\" eeimg=\"1\"/> 是奖赏值或者奖赏函数， <img src=\"https://www.zhihu.com/equation?tex=R_%7Bs%7D%5E%7Ba%7D%3DE%5BR_%7Bt%2B1%7D%7CS_%7Bt%7D%3Ds%2CA_%7Bt%7D%3Da%5D\" alt=\"R_{s}^{a}=E[R_{t+1}|S_{t}=s,A_{t}=a]\" eeimg=\"1\"/> </li><li><img src=\"https://www.zhihu.com/equation?tex=%5Cgamma\" alt=\"\\gamma\" eeimg=\"1\"/> 为折扣因子，用来计算累计奖赏/回报</li></ul><p><b>7. 策略</b></p><p>策略是从状态到动作的映射，是给定状态下动作的概率分布。对强化学习来说策略描述智能体的行为。</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cpi%28a%7Cs%29%3DP%5BA_%7Bt%7D%3Da%7CS_%7Bt%7D%3Ds%5D\" alt=\"\\pi(a|s)=P[A_{t}=a|S_{t}=s]\" eeimg=\"1\"/> ， <img src=\"https://www.zhihu.com/equation?tex=%5Csum_%7Ba%7D%5E%7B%7D%7B%5Cpi%28a%7Cs%29%7D%3D1\" alt=\"\\sum_{a}^{}{\\pi(a|s)}=1\" eeimg=\"1\"/> </p><p>给定一个马尔科夫决策过程 <img src=\"https://www.zhihu.com/equation?tex=M%3D%28S%2CA%2CP%2CR%2C%5Cgamma%29\" alt=\"M=(S,A,P,R,\\gamma)\" eeimg=\"1\"/> 和一个策略 <img src=\"https://www.zhihu.com/equation?tex=%5Cpi\" alt=\"\\pi\" eeimg=\"1\"/> </p><p>状态序列 <img src=\"https://www.zhihu.com/equation?tex=S_%7B1%7D%2CS_%7B2%7D%2C...\" alt=\"S_{1},S_{2},...\" eeimg=\"1\"/> 是马尔科夫过程 <img src=\"https://www.zhihu.com/equation?tex=%28S%2CP%5E%7B%5Cpi%7D%29\" alt=\"(S,P^{\\pi})\" eeimg=\"1\"/> </p><p>状态和奖赏序列 <img src=\"https://www.zhihu.com/equation?tex=S_%7B1%7D%2CR_%7B2%7D%2CS_%7B2%7D%2CR_%7B3%7D%2C...\" alt=\"S_{1},R_{2},S_{2},R_{3},...\" eeimg=\"1\"/> 是一个马尔科夫奖赏过程 <img src=\"https://www.zhihu.com/equation?tex=%28S%2CP%5E%7B%5Cpi%7D%2CR%5E%7B%5Cpi%7D%2C%5Cgamma%29\" alt=\"(S,P^{\\pi},R^{\\pi},\\gamma)\" eeimg=\"1\"/> </p><p>其中： <img src=\"https://www.zhihu.com/equation?tex=P_%7Bss%27%7D%5E%7B%5Cpi%7D%3D%5Csum_%7Ba%5Cin+A%7D%5E%7B%7D%7B%5Cpi%28a%7Cs%29P_%7Bss%27%7D%5E%7Ba%7D%7D\" alt=\"P_{ss&#39;}^{\\pi}=\\sum_{a\\in A}^{}{\\pi(a|s)P_{ss&#39;}^{a}}\" eeimg=\"1\"/> ， <img src=\"https://www.zhihu.com/equation?tex=R_%7Bs%7D%5E%7B%5Cpi%7D%3D%5Csum_%7Ba%5Cin+A%7D%5E%7B%7D%7B%5Cpi%28a%7Cs%29R_%7Bs%7D%5E%7Ba%7D%7D\" alt=\"R_{s}^{\\pi}=\\sum_{a\\in A}^{}{\\pi(a|s)R_{s}^{a}}\" eeimg=\"1\"/> </p><p><b>8. 状态价值函数</b></p><p>状态价值函数是给定策略 <img src=\"https://www.zhihu.com/equation?tex=%5Cpi\" alt=\"\\pi\" eeimg=\"1\"/> 从状态 <img src=\"https://www.zhihu.com/equation?tex=s\" alt=\"s\" eeimg=\"1\"/> 开始的回报的期望：</p><p><img src=\"https://www.zhihu.com/equation?tex=v_%7B%5Cpi%7D%28s%29%3DE_%7B%5Cpi%7D%5BG_%7Bt%7D%7CS_%7Bt%7D%3Ds%5D\" alt=\"v_{\\pi}(s)=E_{\\pi}[G_{t}|S_{t}=s]\" eeimg=\"1\"/> </p><p><b>9. 状态价值函数的贝尔曼方程(1)</b></p><p><img src=\"https://www.zhihu.com/equation?tex=v_%7B%5Cpi%7D%28s%29%3DE_%7B%5Cpi%7D%5BR_%7Bt%2B1%7D%2B%5Cgamma+R_%7Bt%2B2%7D%2B%5Cgamma%5E%7B2%7DR_%7Bt%2B3%7D%2B...%7CS_%7Bt%7D%3Ds%5D\" alt=\"v_{\\pi}(s)=E_{\\pi}[R_{t+1}+\\gamma R_{t+2}+\\gamma^{2}R_{t+3}+...|S_{t}=s]\" eeimg=\"1\"/></p><p><img src=\"https://www.zhihu.com/equation?tex=v_%7B%5Cpi%7D%28s%29%3DE_%7B%5Cpi%7D%5BR_%7Bt%2B1%7D%2B%5Cgamma+%5Cleft%28+R_%7Bt%2B2%7D%2B%5Cgamma+R_%7Bt%2B3%7D%2B...+%5Cright%29%7CS_%7Bt%7D%3Ds%5D\" alt=\"v_{\\pi}(s)=E_{\\pi}[R_{t+1}+\\gamma \\left( R_{t+2}+\\gamma R_{t+3}+... \\right)|S_{t}=s]\" eeimg=\"1\"/> </p><p><img src=\"https://www.zhihu.com/equation?tex=v_%7B%5Cpi%7D%28s%29%3DE_%7B%5Cpi%7D%5BR_%7Bt%2B1%7D%2B%5Cgamma+G_%7Bt%2B1%7D%7CS_%7Bt%7D%3Ds%5D\" alt=\"v_{\\pi}(s)=E_{\\pi}[R_{t+1}+\\gamma G_{t+1}|S_{t}=s]\" eeimg=\"1\"/> </p><p><img src=\"https://www.zhihu.com/equation?tex=v_%7B%5Cpi%7D%28s%29%3DE_%7B%5Cpi%7D%5BR_%7Bt%2B1%7D%2B%5Cgamma+v%28S_%7Bt%2B1%7D%29%7CS_%7Bt%7D%3Ds%5D+\" alt=\"v_{\\pi}(s)=E_{\\pi}[R_{t+1}+\\gamma v(S_{t+1})|S_{t}=s] \" eeimg=\"1\"/> </p><p><b>10. 状态价值函数的贝尔曼方程(2)</b></p><p>将 <img src=\"https://www.zhihu.com/equation?tex=P_%7Bss%27%7D%5E%7B%5Cpi%7D%3D%5Csum_%7Ba%5Cin+A%7D%5E%7B%7D%7B%5Cpi%28a%7Cs%29P_%7Bss%27%7D%5E%7Ba%7D%7D\" alt=\"P_{ss&#39;}^{\\pi}=\\sum_{a\\in A}^{}{\\pi(a|s)P_{ss&#39;}^{a}}\" eeimg=\"1\"/> ， <img src=\"https://www.zhihu.com/equation?tex=R_%7Bs%7D%5E%7B%5Cpi%7D%3D%5Csum_%7Ba%5Cin+A%7D%5E%7B%7D%7B%5Cpi%28a%7Cs%29R_%7Bs%7D%5E%7Ba%7D%7D\" alt=\"R_{s}^{\\pi}=\\sum_{a\\in A}^{}{\\pi(a|s)R_{s}^{a}}\" eeimg=\"1\"/>带入<img src=\"https://www.zhihu.com/equation?tex=v%28s%29%3DR_%7Bs%7D%2B%5Cgamma%5Csum_%7Bs%27%5Cin+S%7D%5E%7B%7D%7Bv%28s%27%29%7D\" alt=\"v(s)=R_{s}+\\gamma\\sum_{s&#39;\\in S}^{}{v(s&#39;)}\" eeimg=\"1\"/>得：</p><p><img src=\"https://www.zhihu.com/equation?tex=v_%7B%5Cpi%7D%28s%29%3D%5Csum_%7Ba%5Cin+A%7D%5E%7B%7D%7B%5Cpi%28a%7Cs%29R_%7Bs%7D%5E%7Ba%7D%7D%2B%5Cgamma%5Csum_%7Bs%27%5Cin+S%7D%5E%7B%7D%7B%7D%5Csum_%7Ba%5Cin+A%7D%5E%7B%7D%7B%5Cpi%28a%7Cs%29P_%7Bss%27%7D%5E%7Ba%7D%7Dv%28s%27%29\" alt=\"v_{\\pi}(s)=\\sum_{a\\in A}^{}{\\pi(a|s)R_{s}^{a}}+\\gamma\\sum_{s&#39;\\in S}^{}{}\\sum_{a\\in A}^{}{\\pi(a|s)P_{ss&#39;}^{a}}v(s&#39;)\" eeimg=\"1\"/> </p><p><img src=\"https://www.zhihu.com/equation?tex=v_%7B%5Cpi%7D%28s%29%3D%5Csum_%7Ba%5Cin+A%7D%5E%7B%7D%7B%5Cpi%28a%7Cs%29%28R_%7Bs%7D%5E%7Ba%7D%7D%2B%5Cgamma+%5Csum_%7Bs%27%5Cin+S%7DP_%7Bss%27%7D%5E%7Ba%7Dv%28s%27%29%29+\" alt=\"v_{\\pi}(s)=\\sum_{a\\in A}^{}{\\pi(a|s)(R_{s}^{a}}+\\gamma \\sum_{s&#39;\\in S}P_{ss&#39;}^{a}v(s&#39;)) \" eeimg=\"1\"/> </p><p><b>11. 动作值函数</b></p><p>给定策略 <img src=\"https://www.zhihu.com/equation?tex=%5Cpi\" alt=\"\\pi\" eeimg=\"1\"/> 状态 <img src=\"https://www.zhihu.com/equation?tex=s\" alt=\"s\" eeimg=\"1\"/> ，采取动作 <img src=\"https://www.zhihu.com/equation?tex=a\" alt=\"a\" eeimg=\"1\"/> 的动作价值函数：</p><p><img src=\"https://www.zhihu.com/equation?tex=q_%7B%5Cpi%7D%28s%2Ca%29%3DE_%7B%5Cpi%7D%5BG_%7Bt%7D%7CS_%7Bt%7D%3Ds%2CA_%7Bt%7D%3Da%5D\" alt=\"q_{\\pi}(s,a)=E_{\\pi}[G_{t}|S_{t}=s,A_{t}=a]\" eeimg=\"1\"/> </p><p><b>12. 动作价值函数的贝尔曼方程</b></p><p><img src=\"https://www.zhihu.com/equation?tex=q_%7B%5Cpi%7D%28s%2Ca%29%3DE_%7B%5Cpi%7D%5BR_%7Bt%2B1%7D%2B%5Cgamma+q_%7B%5Cpi%7D%28S_%7Bt%2B1%7D%2CA_%7Bt%2B1%7D%29%7CS_%7Bt%7D%3Ds%2CA_%7Bt%7D%3Da%5D+\" alt=\"q_{\\pi}(s,a)=E_{\\pi}[R_{t+1}+\\gamma q_{\\pi}(S_{t+1},A_{t+1})|S_{t}=s,A_{t}=a] \" eeimg=\"1\"/> </p><p><b>13. 状态价值函数与动作价值函数的关系</b></p><p> 状态价值函数：<img src=\"https://www.zhihu.com/equation?tex=v%28s%29%3D%5Csum_%7Ba%5Cin+A%7D%5Cpi%28a%7Cs%29q_%7B%5Cpi%7D%28s%2Ca%29\" alt=\"v(s)=\\sum_{a\\in A}\\pi(a|s)q_{\\pi}(s,a)\" eeimg=\"1\"/> </p><p>状态价值函数： <img src=\"https://www.zhihu.com/equation?tex=q_%7B%5Cpi%7D%28s%2Ca%29%3DR_%7Bs%7D%5E%7Ba%7D%2B%5Cgamma+%5Csum_%7Bs%27%5Cin+S%7DP_%7Bss%27%7D%5E%7Bs%7Dv_%7B%5Cpi%7D%28s%27%29\" alt=\"q_{\\pi}(s,a)=R_{s}^{a}+\\gamma \\sum_{s&#39;\\in S}P_{ss&#39;}^{s}v_{\\pi}(s&#39;)\" eeimg=\"1\"/> </p><p>优势函数： <img src=\"https://www.zhihu.com/equation?tex=A_%7B%5Cpi%7D%28s%2Ca%29%3Dq_%7B%5Cpi%7D%28s%2Ca%29-v_%7B%5Cpi%7D%28s%29\" alt=\"A_{\\pi}(s,a)=q_{\\pi}(s,a)-v_{\\pi}(s)\" eeimg=\"1\"/> </p><p><b>14. 动作价值函数的贝尔曼方程（2）</b></p><p><img src=\"https://www.zhihu.com/equation?tex=q_%7B%5Cpi%7D%28s%2Ca%29%3DR_%7Bs%7D%5E%7Ba%7D%2B%5Cgamma+%5Csum_%7Bs%27%5Cin+S%7DP_%7Bss%27%7D%5E%7Ba%7D%28%5Csum_%7Ba%5Cin+A%7D%5Cpi%28a%7Cs%27%29q_%7B%5Cpi%7D%28s%27%2Ca%27%29%29\" alt=\"q_{\\pi}(s,a)=R_{s}^{a}+\\gamma \\sum_{s&#39;\\in S}P_{ss&#39;}^{a}(\\sum_{a\\in A}\\pi(a|s&#39;)q_{\\pi}(s&#39;,a&#39;))\" eeimg=\"1\"/> </p><p><b>15. 贝尔曼方程的矩阵形式与求解（2）</b></p><p><img src=\"https://www.zhihu.com/equation?tex=v_%7B%5Cpi%7D%3DR%5E%7B%5Cpi%7D%2B%5Cgamma+P%5E%7B%5Cpi%7Dv_%7B%5Cpi%7D\" alt=\"v_{\\pi}=R^{\\pi}+\\gamma P^{\\pi}v_{\\pi}\" eeimg=\"1\"/> </p><p><img src=\"https://www.zhihu.com/equation?tex=v_%7B%5Cpi%7D%3D%281-%5Cgamma+P%5E%7B%5Cpi%7D%29%5E%7B-1%7DR%5E%7B%5Cpi%7D\" alt=\"v_{\\pi}=(1-\\gamma P^{\\pi})^{-1}R^{\\pi}\" eeimg=\"1\"/> </p><p><b>16. 最优状态/动作价值函数</b></p><p>最优状态值函数是所有策略中值最大的值函数</p><p>状态 <img src=\"https://www.zhihu.com/equation?tex=s\" alt=\"s\" eeimg=\"1\"/> 的最有状态价值函数为： <img src=\"https://www.zhihu.com/equation?tex=v_%7B%2A%7D%28s%29%3D%5Cmax_%7B%5Cpi%7Dv_%7B%5Cpi%7D%28s%29\" alt=\"v_{*}(s)=\\max_{\\pi}v_{\\pi}(s)\" eeimg=\"1\"/> </p><p>状态 <img src=\"https://www.zhihu.com/equation?tex=s\" alt=\"s\" eeimg=\"1\"/> 下采取动作 <img src=\"https://www.zhihu.com/equation?tex=a\" alt=\"a\" eeimg=\"1\"/> 的最有动作价值函数为： <img src=\"https://www.zhihu.com/equation?tex=q_%7B%2A%7D%28s%2Ca%29%3D%5Cmax_%7B%5Cpi%7Dq_%7B%5Cpi%7D%28s%2Ca%29\" alt=\"q_{*}(s,a)=\\max_{\\pi}q_{\\pi}(s,a)\" eeimg=\"1\"/> </p><p><b>17.  贝尔曼最优方程</b></p><p><img src=\"https://www.zhihu.com/equation?tex=v_%7B%2A%7D%28s%29%3D%5Cmax_%7B%5Cpi%7Dv_%7B%5Cpi%7D%28s%29%3D%5Cmax_%7Ba%7D%28R_%7Bs%7D%5E%7Ba%7D%2B%5Cgamma+%5Csum_%7Bs%27%5Cin+S%7DP_%7Bss%27%7D%5E%7Ba%7Dv_%7B%2A%7D%28s%27%29%29\" alt=\"v_{*}(s)=\\max_{\\pi}v_{\\pi}(s)=\\max_{a}(R_{s}^{a}+\\gamma \\sum_{s&#39;\\in S}P_{ss&#39;}^{a}v_{*}(s&#39;))\" eeimg=\"1\"/> </p><p><img src=\"https://www.zhihu.com/equation?tex=q_%7B%2A%7D%28s%2Ca%29%3D%5Cmax_%7B%5Cpi%7Dq_%7B%5Cpi%7D%28s%2Ca%29%3DR_%7Bs%7D%5E%7Ba%7D%2B%5Cgamma+%5Csum_%7Bs%27%5Cin+S%7DP_%7Bss%27%7D%5E%7Ba%7D%5Cmax_%7Ba%7Dq_%7B%2A%7D%28s%27%2Ca%27%29\" alt=\"q_{*}(s,a)=\\max_{\\pi}q_{\\pi}(s,a)=R_{s}^{a}+\\gamma \\sum_{s&#39;\\in S}P_{ss&#39;}^{a}\\max_{a}q_{*}(s&#39;,a&#39;)\" eeimg=\"1\"/></p><p>贝尔曼最优方程是非线性的，通常没有解析解，需要迭代求解。</p><p>贝尔曼最优方程的（迭代）解法就是强化学习算法。</p><p><b>18. 最优策略</b></p><p>如果策略 <img src=\"https://www.zhihu.com/equation?tex=%5Cpi\" alt=\"\\pi\" eeimg=\"1\"/> 优于策略 <img src=\"https://www.zhihu.com/equation?tex=%5Cpi%27\" alt=\"\\pi&#39;\" eeimg=\"1\"/>：</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cpi%5Cgeq+%5Cpi%27+%2C+if+++v_%7B%5Cpi%7D%28s%29%5Cgeq++v_%7B%5Cpi%27%7D%28s%29\" alt=\"\\pi\\geq \\pi&#39; , if   v_{\\pi}(s)\\geq  v_{\\pi&#39;}(s)\" eeimg=\"1\"/> </p><p>最优策略 <img src=\"https://www.zhihu.com/equation?tex=%5Cpi_%7B%2A%7D\" alt=\"\\pi_{*}\" eeimg=\"1\"/> 满足：</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cpi_%7B%2A%7D%5Cgeq+%5Cpi%2C%5Cforall+%5Cpi\" alt=\"\\pi_{*}\\geq \\pi,\\forall \\pi\" eeimg=\"1\"/> </p><p><img src=\"https://www.zhihu.com/equation?tex=v_%7B%5Cpi%2A%7D%28s%29%3D+v_%7B%2A%7D%28s%29\" alt=\"v_{\\pi*}(s)= v_{*}(s)\" eeimg=\"1\"/> </p><p><img src=\"https://www.zhihu.com/equation?tex=q_%7B%5Cpi%2A%7D%28s%2Ca%29%3D+q_%7B%2A%7D%28s%2Ca%29\" alt=\"q_{\\pi*}(s,a)= q_{*}(s,a)\" eeimg=\"1\"/> </p><p><b>19. 如何找到最优策略？</b></p><p>通过最大化 <img src=\"https://www.zhihu.com/equation?tex=q_%7B%2A%7D%28s%2Ca%29\" alt=\"q_{*}(s,a)\" eeimg=\"1\"/> 找到最优策略</p><p>（1）贪婪策略：只有<img src=\"https://www.zhihu.com/equation?tex=q_%7B%2A%7D%28s%2Ca%29\" alt=\"q_{*}(s,a)\" eeimg=\"1\"/>最大的动作处取1，其他动作概率为0。</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cpi_%7B%2A%7D%28a%7Cs%29%3D1%2Cifa%3D%5Cargmax_%7Ba%5Cin+A%7Dq_%7B%2A%7D%28s%2Ca%29\" alt=\"\\pi_{*}(a|s)=1,ifa=\\argmax_{a\\in A}q_{*}(s,a)\" eeimg=\"1\"/> </p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cpi_%7B%2A%7D%28a%7Cs%29%3D0%2Cotherwise\" alt=\"\\pi_{*}(a|s)=0,otherwise\" eeimg=\"1\"/> </p><p>贪婪策略是一个确定性策略。</p><p> （2）<img src=\"https://www.zhihu.com/equation?tex=%5Cvarepsilon\" alt=\"\\varepsilon\" eeimg=\"1\"/> -greedy策略：动作值函数最大的动作概率为，其他的动作等概率。</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cpi_%7B%2A%7D%28a%7Cs%29%3D1-%5Cvarepsilon%2B%5Cfrac%7B%5Cvarepsilon%7D%7B%7CA%28s%29%7C%7D%2Cif+a%3D%5Cargmax_%7Ba%5Cin+A%7Dq_%7B%2A%7D%28s%2Ca%29\" alt=\"\\pi_{*}(a|s)=1-\\varepsilon+\\frac{\\varepsilon}{|A(s)|},if a=\\argmax_{a\\in A}q_{*}(s,a)\" eeimg=\"1\"/> </p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cpi_%7B%2A%7D%28a%7Cs%29%3D%5Cfrac%7B%5Cvarepsilon%7D%7B%7CA%28s%29%7C%7D%2Cif+a%5Cne%5Cargmax_%7Ba%5Cin+A%7Dq_%7B%2A%7D%28s%2Ca%29\" alt=\"\\pi_{*}(a|s)=\\frac{\\varepsilon}{|A(s)|},if a\\ne\\argmax_{a\\in A}q_{*}(s,a)\" eeimg=\"1\"/> </p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cvarepsilon\" alt=\"\\varepsilon\" eeimg=\"1\"/> -greedy策略是强化学习中最基本最常用的随机策略。平衡了探索与利用。</p><p><b>20. 总结</b></p><p>强化学习解决序贯决策问题；</p><p>马尔科夫决策过程是序贯决策问题的数学模型；</p><p>强化学习方法的基本步骤是先评估值函数，再利用值函数改善策略。</p><p></p>", 
            "topic": [
                {
                    "tag": "强化学习 (Reinforcement Learning)", 
                    "tagLink": "https://api.zhihu.com/topics/20039099"
                }
            ], 
            "comments": []
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/42387880", 
            "userName": "sh001", 
            "userLink": "https://www.zhihu.com/people/5cec7bfa5beb91dc78f3e3b2f1edd1ab", 
            "upvote": 27, 
            "title": "从贝叶斯估计到卡尔曼滤波", 
            "content": "<blockquote>本文许多内容摘自《贝叶斯估计与跟踪实用指南》，国防工业出版社，2014</blockquote><h2><b>3.1.1 贝叶斯估计</b></h2><p><b>3.1.1.1 贝叶斯估计</b></p><p>估计过程是，通过实验得到一组观测样本（通常是某种形式的数据），根据这些观测数据，对一些无法直接观测到的量进行估计，如图3-1。贝叶斯估计假设待估计量和观测数据都是随机的。观测数据与待估计量之间的解析关系（一种变换）为估计过程提供了一个统一的框架，我们假设观测数据与待估计量之间的解析关系已知。</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-6cee76304fae2413ae9d2975b41bfea2_b.jpg\" data-size=\"normal\" data-rawwidth=\"368\" data-rawheight=\"132\" class=\"content_image\" width=\"368\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;368&#39; height=&#39;132&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"368\" data-rawheight=\"132\" class=\"content_image lazy\" width=\"368\" data-actualsrc=\"https://pic3.zhimg.com/v2-6cee76304fae2413ae9d2975b41bfea2_b.jpg\"/><figcaption>图3-1 通过观测量y_n估计不可观测的状态x_n</figcaption></figure><p>一般的概率状态空间模型通常表示如下</p><p><img src=\"https://www.zhihu.com/equation?tex=x_0%5Csim+p%28x_0%29\" alt=\"x_0\\sim p(x_0)\" eeimg=\"1\"/> </p><p><img src=\"https://www.zhihu.com/equation?tex=x_n%5Csim+p%28x_n%7Cx_%7Bn-1%7D%29\" alt=\"x_n\\sim p(x_n|x_{n-1})\" eeimg=\"1\"/>......(3-1)</p><p><img src=\"https://www.zhihu.com/equation?tex=y_n%5Csim+p%28y_n%7Cx_%7Bn%7D%29\" alt=\"y_n\\sim p(y_n|x_{n})\" eeimg=\"1\"/> </p><p>式中 <img src=\"https://www.zhihu.com/equation?tex=n%3D1%2C2%2C...\" alt=\"n=1,2,...\" eeimg=\"1\"/> ； <img src=\"https://www.zhihu.com/equation?tex=x_n%5Cin+R%5En\" alt=\"x_n\\in R^n\" eeimg=\"1\"/> 是 <img src=\"https://www.zhihu.com/equation?tex=t_n\" alt=\"t_n\" eeimg=\"1\"/> 时刻系统的状态； <img src=\"https://www.zhihu.com/equation?tex=y_n%5Cin+R%5En\" alt=\"y_n\\in R^n\" eeimg=\"1\"/> 是 <img src=\"https://www.zhihu.com/equation?tex=t_n\" alt=\"t_n\" eeimg=\"1\"/> 时刻系统的测量值；</p><p><img src=\"https://www.zhihu.com/equation?tex=p%28x_0%29\" alt=\"p(x_0)\" eeimg=\"1\"/> ——初始分布，在初始 <img src=\"https://www.zhihu.com/equation?tex=t_0\" alt=\"t_0\" eeimg=\"1\"/> 时刻，未知状态 <img src=\"https://www.zhihu.com/equation?tex=x_0\" alt=\"x_0\" eeimg=\"1\"/> 的先验概率分布；</p><p><img src=\"https://www.zhihu.com/equation?tex=p%28x_n%7Cx_%7Bn-1%7D%29\" alt=\"p(x_n|x_{n-1})\" eeimg=\"1\"/> ——转移概率分布，用于描述系统随机动态的系统动态模型；</p><p><img src=\"https://www.zhihu.com/equation?tex=+p%28y_n%7Cx_%7Bn%7D%29\" alt=\" p(y_n|x_{n})\" eeimg=\"1\"/> ——已知状态条件下的条件概率分布或似然函数模型，是描述测量值 <img src=\"https://www.zhihu.com/equation?tex=y_n\" alt=\"y_n\" eeimg=\"1\"/> 与当前状态 <img src=\"https://www.zhihu.com/equation?tex=x_n\" alt=\"x_n\" eeimg=\"1\"/> 关系的测量模型。</p><p>假设该模型近似为马尔科夫模型，即具有以下两个特性：</p><p>(1) 状态量的马尔科夫特性</p><p>状态 <img src=\"https://www.zhihu.com/equation?tex=+%5Cleft%5C%7B+x_1%2Cx_2%2C...%2Cx_n+%5Cright%5C%7D\" alt=\" \\left\\{ x_1,x_2,...,x_n \\right\\}\" eeimg=\"1\"/> 形成一个马尔科夫序列（若状态是离散的，则形成马尔科夫链），状态量的马尔科夫特性是指已知 <img src=\"https://www.zhihu.com/equation?tex=t_%7Bn-1%7D\" alt=\"t_{n-1}\" eeimg=\"1\"/> 时刻的状态 <img src=\"https://www.zhihu.com/equation?tex=x_%7Bn-1%7D\" alt=\"x_{n-1}\" eeimg=\"1\"/> ， <img src=\"https://www.zhihu.com/equation?tex=t_n\" alt=\"t_n\" eeimg=\"1\"/> 时刻的状态 <img src=\"https://www.zhihu.com/equation?tex=x_n\" alt=\"x_n\" eeimg=\"1\"/> 与 <img src=\"https://www.zhihu.com/equation?tex=x_%7Bn-1%7D\" alt=\"x_{n-1}\" eeimg=\"1\"/> 相互独立，且与 <img src=\"https://www.zhihu.com/equation?tex=t_%7Bn-1%7D\" alt=\"t_{n-1}\" eeimg=\"1\"/> 之前的状态以及 <img src=\"https://www.zhihu.com/equation?tex=t_n\" alt=\"t_n\" eeimg=\"1\"/> 之后的状态都相互独立。</p><p><img src=\"https://www.zhihu.com/equation?tex=p%28x_n%7Cx_%7Bn-1%7D%2Cy_%7B1%3An-1%7D%29%3Dp%28x_n%7Cx_%7Bn-1%7D%29\" alt=\"p(x_n|x_{n-1},y_{1:n-1})=p(x_n|x_{n-1})\" eeimg=\"1\"/> ...... (3-2)</p><p>(2) 状态量的条件独立</p><p>已知当前状态 <img src=\"https://www.zhihu.com/equation?tex=x_n\" alt=\"x_n\" eeimg=\"1\"/> 时，当前测量值 <img src=\"https://www.zhihu.com/equation?tex=y_n\" alt=\"y_n\" eeimg=\"1\"/> 与此前的所有状态量和测量值均为条件独立。</p><p><img src=\"https://www.zhihu.com/equation?tex=p%28y_n%7Cy_%7B1%3An-1%7D%2Cx_n%29%3Dp%28y_n%7Cx_n%29\" alt=\"p(y_n|y_{1:n-1},x_n)=p(y_n|x_n)\" eeimg=\"1\"/> ...... (3-3)</p><p>贝叶斯滤波为估计问题提供了一种基于概率分布形式的解决方案。贝叶斯滤波视估计过程为概率推理过程，即将估计问题——已知所有测量量 <img src=\"https://www.zhihu.com/equation?tex=y_%7B1%3An%7D%3D%5Cleft%5C%7B+y_1%2Cy_1%2C...%2Cy_n+%5Cright%5C%7D\" alt=\"y_{1:n}=\\left\\{ y_1,y_1,...,y_n \\right\\}\" eeimg=\"1\"/> 去计算未知状态 <img src=\"https://www.zhihu.com/equation?tex=x_n\" alt=\"x_n\" eeimg=\"1\"/> 的问题——转换为利用贝叶斯公式求解后验概率密度 <img src=\"https://www.zhihu.com/equation?tex=p%28x_n%7Cy_%7B1%3An%7D%29\" alt=\"p(x_n|y_{1:n})\" eeimg=\"1\"/> 。对于后验分布，理论上可以直接用贝叶斯公式得到，即</p><p><img src=\"https://www.zhihu.com/equation?tex=p%28x_n%7Cy_%7B1%3An%7D%29%3D%5Cfrac%7Bp%28y_%7B1%3An%7D%7Cx_n%29p%28x_n%29%7D%7Bp%28y_%7B1%3An%7D%29%7D\" alt=\"p(x_n|y_{1:n})=\\frac{p(y_{1:n}|x_n)p(x_n)}{p(y_{1:n})}\" eeimg=\"1\"/> ...... (3-4)</p><p>因为观测结果 <img src=\"https://www.zhihu.com/equation?tex=y\" alt=\"y\" eeimg=\"1\"/> 已知，所以分布 <img src=\"https://www.zhihu.com/equation?tex=p%28y_%7B1%3An%7D%29\" alt=\"p(y_{1:n})\" eeimg=\"1\"/> 是一个归一化常数，定义为</p><p><img src=\"https://www.zhihu.com/equation?tex=p%28y_%7B1%3An%7D%29%3D%5Cint_%7B%7Dp%28y_%7B1%3An%7D%7Cx_%7B1%3An%7D%29p%28x_%7B1%3An%7D%29dx_%7B1%3An%7D\" alt=\"p(y_{1:n})=\\int_{}p(y_{1:n}|x_{1:n})p(x_{1:n})dx_{1:n}\" eeimg=\"1\"/> ...... (3-5)</p><p>其中参数和观测矢量的联合密度定义为</p><p><img src=\"https://www.zhihu.com/equation?tex=p%28x_%7B1%3An%7D%2Cy_%7B1%3An%7D%29%3Dp%28x_%7B1%3An%7D%7Cy_%7B1%3An%7D%29p%28y_%7B1%3An%7D%29\" alt=\"p(x_{1:n},y_{1:n})=p(x_{1:n}|y_{1:n})p(y_{1:n})\" eeimg=\"1\"/> ...... (3-6)</p><p>后验概率密度函数 <img src=\"https://www.zhihu.com/equation?tex=p%28x_n%7Cy_%7B1%3An%7D%29\" alt=\"p(x_n|y_{1:n})\" eeimg=\"1\"/> ，是 <img src=\"https://www.zhihu.com/equation?tex=x_n\" alt=\"x_n\" eeimg=\"1\"/> 的概率密度函数，条件是所有的观测值，包括当前的观测。因为集合 <img src=\"https://www.zhihu.com/equation?tex=%5Cleft%5C%7B+y_%7B1%3An%7D+%5Cright%5C%7D\" alt=\"\\left\\{ y_{1:n} \\right\\}\" eeimg=\"1\"/> 可以写为 <img src=\"https://www.zhihu.com/equation?tex=%5Cleft%5C%7B+y_n%2Cy_%7B1%3An-1%7D+%5Cright%5C%7D\" alt=\"\\left\\{ y_n,y_{1:n-1} \\right\\}\" eeimg=\"1\"/> ，式(3-4)可以扩展和分解为以下形式，即</p><p><img src=\"https://www.zhihu.com/equation?tex=p%28x_n%7Cy_%7B1%3An%7D%29%3D%5Cfrac%7Bp%28y_n%2Cy_%7B1%3An-1%7D%7Cx_n%29p%28x_n%29%7D%7Bp%28y_n%2Cy_%7B1%3An-1%7D%29%7D\" alt=\"p(x_n|y_{1:n})=\\frac{p(y_n,y_{1:n-1}|x_n)p(x_n)}{p(y_n,y_{1:n-1})}\" eeimg=\"1\"/> ...... (3-7)</p><p>将(3-6)带入分子和分母，得</p><p><img src=\"https://www.zhihu.com/equation?tex=p%28x_n%7Cy_%7B1%3An%7D%29%3D%5Cfrac%7Bp%28y_n%7Cy_%7B1%3An-1%7D%2Cx_n%29p%28y_%7B1%3An-1%7D%7Cx_n%29p%28x_n%29%7D%7Bp%28y_n%7Cy_%7B1%3An-1%7D%29p%28y_%7B1%3An-1%7D%29%7D\" alt=\"p(x_n|y_{1:n})=\\frac{p(y_n|y_{1:n-1},x_n)p(y_{1:n-1}|x_n)p(x_n)}{p(y_n|y_{1:n-1})p(y_{1:n-1})}\" eeimg=\"1\"/> ...... (3-8)</p><p>将贝叶斯公式带入上式，化简得</p><p><img src=\"https://www.zhihu.com/equation?tex=p%28x_n%7Cy_%7B1%3An%7D%29%3D%5Cfrac%7Bp%28y_n%7Cy_%7B1%3An-1%7D%2Cx_n%29p%28x_n%7Cy_%7B1%3An-1%7D%29p%28y_%7B1%3An-1%7D%29p%28x_n%29%7D%7Bp%28y_n%7Cy_%7B1%3An-1%7D%29p%28y_%7B1%3An-1%7D%29p%28x_n%29%7D+%3D%5Cfrac%7Bp%28y_n%7Cy_%7B1%3An-1%7D%2Cx_n%29p%28x_n%7Cy_%7B1%3An-1%7D%29%7D%7Bp%28y_n%7Cy_%7B1%3An-1%7D%29%7D\" alt=\"p(x_n|y_{1:n})=\\frac{p(y_n|y_{1:n-1},x_n)p(x_n|y_{1:n-1})p(y_{1:n-1})p(x_n)}{p(y_n|y_{1:n-1})p(y_{1:n-1})p(x_n)} =\\frac{p(y_n|y_{1:n-1},x_n)p(x_n|y_{1:n-1})}{p(y_n|y_{1:n-1})}\" eeimg=\"1\"/> </p><p>...... (3-9)</p><p>因为 <img src=\"https://www.zhihu.com/equation?tex=t_n\" alt=\"t_n\" eeimg=\"1\"/> 时刻的观测值不依赖于 <img src=\"https://www.zhihu.com/equation?tex=t_%7B1%3An-1%7D\" alt=\"t_{1:n-1}\" eeimg=\"1\"/> 时刻的观测值，上式中的 <img src=\"https://www.zhihu.com/equation?tex=p%28y_n%7Cy_%7B1%3An-1%7D%2Cx_n%29\" alt=\"p(y_n|y_{1:n-1},x_n)\" eeimg=\"1\"/> 可以写为 <img src=\"https://www.zhihu.com/equation?tex=p%28y_n%7Cx_n%29\" alt=\"p(y_n|x_n)\" eeimg=\"1\"/> ，得到下式</p><p><img src=\"https://www.zhihu.com/equation?tex=p%28x_n%7Cy_%7B1%3An%7D%29%3D%5Cfrac%7Bp%28y_n%7Cx_n%29p%28x_n%7Cy_%7B1%3An-1%7D%29%7D%7Bp%28y_n%7Cy_%7B1%3An-1%7D%29%7D\" alt=\"p(x_n|y_{1:n})=\\frac{p(y_n|x_n)p(x_n|y_{1:n-1})}{p(y_n|y_{1:n-1})}\" eeimg=\"1\"/> ...... (3-10)</p><p>已知动态模型，在解算 <img src=\"https://www.zhihu.com/equation?tex=t_n\" alt=\"t_n\" eeimg=\"1\"/> 时刻的情况下，状态 <img src=\"https://www.zhihu.com/equation?tex=x_n\" alt=\"x_n\" eeimg=\"1\"/> 的预测分布可以通过Chapman-Kolmogorov方程计算得到，即建立了先验概率密度 <img src=\"https://www.zhihu.com/equation?tex=p%28x_n%7Cy_%7B1%3An-1%7D%29\" alt=\"p(x_n|y_{1:n-1})\" eeimg=\"1\"/> 与后验密度之间的联系，表达式如下</p><p><img src=\"https://www.zhihu.com/equation?tex=p%28x_n%7Cy_%7B1%3An%7D%29%3D%5Cint_%7B%7D%5E%7B%7Dp%28x_n%7Cx_%7Bn-1%7D%2Cy_%7B1%3An-1%7D%29p%28x_%7Bn-1%7D%7Cy_%7B1%3An-1%7D%29dx_%7Bn-1%7D\" alt=\"p(x_n|y_{1:n})=\\int_{}^{}p(x_n|x_{n-1},y_{1:n-1})p(x_{n-1}|y_{1:n-1})dx_{n-1}\" eeimg=\"1\"/> ...... (3-11)</p><p>因为 <img src=\"https://www.zhihu.com/equation?tex=x_n\" alt=\"x_n\" eeimg=\"1\"/> 的密度不依赖于 <img src=\"https://www.zhihu.com/equation?tex=y_%7B1%3An-1%7D\" alt=\"y_{1:n-1}\" eeimg=\"1\"/> ，所以用 <img src=\"https://www.zhihu.com/equation?tex=p%28x_n%7Cx_%7Bn-1%7D%29\" alt=\"p(x_n|x_{n-1})\" eeimg=\"1\"/> 替换上式中的 <img src=\"https://www.zhihu.com/equation?tex=p%28x_n%7Cx_%7Bn-1%7D%2Cy_%7B1%3An-1%7D%29\" alt=\"p(x_n|x_{n-1},y_{1:n-1})\" eeimg=\"1\"/> ，得到下式</p><p><img src=\"https://www.zhihu.com/equation?tex=p%28x_n%7Cy_%7B1%3An%7D%29%3D%5Cint_%7B%7D%5E%7B%7Dp%28x_n%7Cx_%7Bn-1%7D%29p%28x_%7Bn-1%7D%7Cy_%7B1%3An-1%7D%29dx_%7Bn-1%7D\" alt=\"p(x_n|y_{1:n})=\\int_{}^{}p(x_n|x_{n-1})p(x_{n-1}|y_{1:n-1})dx_{n-1}\" eeimg=\"1\"/> ...... (3-12)</p><p>综上所述，在给定预测密度 <img src=\"https://www.zhihu.com/equation?tex=p%28x_n%7Cx_%7B1%3An-1%7D%29\" alt=\"p(x_n|x_{1:n-1})\" eeimg=\"1\"/> 和似然函数 <img src=\"https://www.zhihu.com/equation?tex=p%28y_n%7Cx_n%29\" alt=\"p(y_n|x_n)\" eeimg=\"1\"/> 的情况下，公式(3-12)和(3-10)建立了前一个后验概率 <img src=\"https://www.zhihu.com/equation?tex=p%28x_%7Bn-1%7D%7Cy_%7B1%3An-1%7D%29\" alt=\"p(x_{n-1}|y_{1:n-1})\" eeimg=\"1\"/> 和当前后验概率 <img src=\"https://www.zhihu.com/equation?tex=p%28x_%7Bn-1%7D%7Cy_%7B1%3An%7D%29\" alt=\"p(x_{n-1}|y_{1:n})\" eeimg=\"1\"/> 之间的递推关系。贝叶斯滤波过程总结如下：</p><p>(1) 初始化：递推解算由先验分布 <img src=\"https://www.zhihu.com/equation?tex=p%28x_0%29\" alt=\"p(x_0)\" eeimg=\"1\"/> 开始。</p><p>(2) 预测过程：已知动态模型，在解算 <img src=\"https://www.zhihu.com/equation?tex=t_n\" alt=\"t_n\" eeimg=\"1\"/> 的情况下，状态 <img src=\"https://www.zhihu.com/equation?tex=x_n\" alt=\"x_n\" eeimg=\"1\"/> 的预测分布可以通过Chapman-Kolmogorov方程计算得到，为公式(3-12)。</p><p>(3) 更新过程：已知 <img src=\"https://www.zhihu.com/equation?tex=t_n\" alt=\"t_n\" eeimg=\"1\"/> 时刻的测量量 <img src=\"https://www.zhihu.com/equation?tex=y_n\" alt=\"y_n\" eeimg=\"1\"/> ，状态 <img src=\"https://www.zhihu.com/equation?tex=x_n\" alt=\"x_n\" eeimg=\"1\"/> 的后验分布通过贝叶斯公式得到，如公式(3-10)。</p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-a44fbbd9123d0886b7a7d93fedeafb8f_b.jpg\" data-size=\"normal\" data-rawwidth=\"920\" data-rawheight=\"386\" class=\"origin_image zh-lightbox-thumb\" width=\"920\" data-original=\"https://pic4.zhimg.com/v2-a44fbbd9123d0886b7a7d93fedeafb8f_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;920&#39; height=&#39;386&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"920\" data-rawheight=\"386\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"920\" data-original=\"https://pic4.zhimg.com/v2-a44fbbd9123d0886b7a7d93fedeafb8f_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-a44fbbd9123d0886b7a7d93fedeafb8f_b.jpg\"/><figcaption>图3-2 递推贝叶斯后验密度估计过程</figcaption></figure><p><b>3.1.1.2 贝叶斯点估计</b></p><p>后验密度的评价是一个非常困难的问题，是多维推理的复杂解。点估计 <img src=\"https://www.zhihu.com/equation?tex=x%5E%7Bhat%7D\" alt=\"x^{hat}\" eeimg=\"1\"/> 是在给定观测值情况下，对参数值进行有根据的推测。基于所有观测值，生成点估计 <img src=\"https://www.zhihu.com/equation?tex=x%5E%7Bhat%7D\" alt=\"x^{hat}\" eeimg=\"1\"/> 的解析方法称为 <img src=\"https://www.zhihu.com/equation?tex=x\" alt=\"x\" eeimg=\"1\"/> 的估计器。使用的估计其不同，得的 <img src=\"https://www.zhihu.com/equation?tex=x%5E%7Bhat%7D\" alt=\"x^{hat}\" eeimg=\"1\"/> 的实际值也不同。即使使用相同的估计器，每次试验得的值也不同。因此，点估计本身被当作一个随机变量。</p><p>为找到合适的估计器，定义一个代价函数 <img src=\"https://www.zhihu.com/equation?tex=L%28x%5E%7Bhat%7D%2Cx%29\" alt=\"L(x^{hat},x)\" eeimg=\"1\"/> ，对错误的估计 <img src=\"https://www.zhihu.com/equation?tex=x%5E%7Bhat%7D%5Cne+x\" alt=\"x^{hat}\\ne x\" eeimg=\"1\"/> 进行惩罚。通常，代价函数的惩罚是根据误差的大小 <img src=\"https://www.zhihu.com/equation?tex=%5Cvarepsilon%5E%7Bx%7D%3Dx-x%5E%7Bhat%7D\" alt=\"\\varepsilon^{x}=x-x^{hat}\" eeimg=\"1\"/> 确定的。</p><p>对于点估计 <img src=\"https://www.zhihu.com/equation?tex=x%5E%7Bhat%7D\" alt=\"x^{hat}\" eeimg=\"1\"/> ，贝叶斯风险 <img src=\"https://www.zhihu.com/equation?tex=R\" alt=\"R\" eeimg=\"1\"/> 为代价函数的期望值</p><p><img src=\"https://www.zhihu.com/equation?tex=R%5Cequiv+E+%5Cleft%5C%7B+L%28x%5E%7Bhat%7D%2Cx%29%5Cright%5C%7D\" alt=\"R\\equiv E \\left\\{ L(x^{hat},x)\\right\\}\" eeimg=\"1\"/> ...... (3-13)</p><p>我们用 <img src=\"https://www.zhihu.com/equation?tex=x%5E%7Bhat%7D%28y%29\" alt=\"x^{hat}(y)\" eeimg=\"1\"/> 表示使用 <img src=\"https://www.zhihu.com/equation?tex=y\" alt=\"y\" eeimg=\"1\"/> 来估计 <img src=\"https://www.zhihu.com/equation?tex=x%5E%7Bhat%7D\" alt=\"x^{hat}\" eeimg=\"1\"/> 。 <img src=\"https://www.zhihu.com/equation?tex=x%5E%7Bhat%7D%28y%29\" alt=\"x^{hat}(y)\" eeimg=\"1\"/> 的最优解 <img src=\"https://www.zhihu.com/equation?tex=x%5E%7B%2A%7D%28y%29\" alt=\"x^{*}(y)\" eeimg=\"1\"/> 是使贝叶斯风险最小的值</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-86d7f88c6ad4037307cb49dbfe26a214_b.jpg\" data-size=\"normal\" data-rawwidth=\"282\" data-rawheight=\"42\" class=\"content_image\" width=\"282\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;282&#39; height=&#39;42&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"282\" data-rawheight=\"42\" class=\"content_image lazy\" width=\"282\" data-actualsrc=\"https://pic1.zhimg.com/v2-86d7f88c6ad4037307cb49dbfe26a214_b.jpg\"/><figcaption>(3-14)</figcaption></figure><p><img src=\"https://www.zhihu.com/equation?tex=n_y\" alt=\"n_y\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=n_x\" alt=\"n_x\" eeimg=\"1\"/> 分别是 <img src=\"https://www.zhihu.com/equation?tex=y\" alt=\"y\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=x\" alt=\"x\" eeimg=\"1\"/> 的维数。将联合密度公式带入上式，得</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-e5d896a952c3364e36a954591644e17a_b.jpg\" data-size=\"normal\" data-rawwidth=\"339\" data-rawheight=\"56\" class=\"content_image\" width=\"339\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;339&#39; height=&#39;56&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"339\" data-rawheight=\"56\" class=\"content_image lazy\" width=\"339\" data-actualsrc=\"https://pic3.zhimg.com/v2-e5d896a952c3364e36a954591644e17a_b.jpg\"/><figcaption> (3-15)</figcaption></figure><p>由于 <img src=\"https://www.zhihu.com/equation?tex=L%28x%5E%7B%2A%7D%2Cx%29\" alt=\"L(x^{*},x)\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=p%28x%7Cy%29\" alt=\"p(x|y)\" eeimg=\"1\"/> 都是正数，给定任何 <img src=\"https://www.zhihu.com/equation?tex=y\" alt=\"y\" eeimg=\"1\"/> 值，内积分均为正。对于每一个 <img src=\"https://www.zhihu.com/equation?tex=y\" alt=\"y\" eeimg=\"1\"/> ，因为 <img src=\"https://www.zhihu.com/equation?tex=p%28y%29\" alt=\"p(y)\" eeimg=\"1\"/> 也是正数，使风险最小 <img src=\"https://www.zhihu.com/equation?tex=x%5E%2A%28y%29\" alt=\"x^*(y)\" eeimg=\"1\"/> 值也是内积分最小，即</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-69c0496720046b0a0b5e290f3220dcca_b.jpg\" data-size=\"normal\" data-rawwidth=\"268\" data-rawheight=\"40\" class=\"content_image\" width=\"268\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;268&#39; height=&#39;40&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"268\" data-rawheight=\"40\" class=\"content_image lazy\" width=\"268\" data-actualsrc=\"https://pic3.zhimg.com/v2-69c0496720046b0a0b5e290f3220dcca_b.jpg\"/><figcaption> (3-16)</figcaption></figure><p>上式定义的贝叶斯估计问题中，代价函数不同，产生的估计器也各不相同。考虑一种有代表性的代价函数是加权平方误差代价函数</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-b8f2b2cac0a188cccdc0d7063140ff20_b.jpg\" data-size=\"normal\" data-rawwidth=\"167\" data-rawheight=\"30\" class=\"content_image\" width=\"167\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;167&#39; height=&#39;30&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"167\" data-rawheight=\"30\" class=\"content_image lazy\" width=\"167\" data-actualsrc=\"https://pic1.zhimg.com/v2-b8f2b2cac0a188cccdc0d7063140ff20_b.jpg\"/><figcaption>(3-17)</figcaption></figure><p>并且用 <img src=\"https://www.zhihu.com/equation?tex=x%5E%2A\" alt=\"x^*\" eeimg=\"1\"/> 代替 <img src=\"https://www.zhihu.com/equation?tex=x%5E%7Bhat%7D\" alt=\"x^{hat}\" eeimg=\"1\"/> 带入上上式，得</p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-ccac6fbe349ca379b2a1a57c931bf547_b.jpg\" data-size=\"normal\" data-rawwidth=\"313\" data-rawheight=\"40\" class=\"content_image\" width=\"313\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;313&#39; height=&#39;40&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"313\" data-rawheight=\"40\" class=\"content_image lazy\" width=\"313\" data-actualsrc=\"https://pic4.zhimg.com/v2-ccac6fbe349ca379b2a1a57c931bf547_b.jpg\"/><figcaption>(3-18)</figcaption></figure><p>为得到参数的最小值，对 <img src=\"https://www.zhihu.com/equation?tex=x%5E%2A\" alt=\"x^*\" eeimg=\"1\"/> 求导，并另导数等于0，则可以得</p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-521c0ee951cd4eb77277f119966f4017_b.jpg\" data-size=\"normal\" data-rawwidth=\"293\" data-rawheight=\"91\" class=\"content_image\" width=\"293\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;293&#39; height=&#39;91&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"293\" data-rawheight=\"91\" class=\"content_image lazy\" width=\"293\" data-actualsrc=\"https://pic4.zhimg.com/v2-521c0ee951cd4eb77277f119966f4017_b.jpg\"/><figcaption>(3-19)</figcaption></figure><p>令上式等于0，并将第二个积分项置为1，得</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-2aa6fc6f31165c5835f05cacb304a5c6_b.jpg\" data-size=\"normal\" data-rawwidth=\"197\" data-rawheight=\"40\" class=\"content_image\" width=\"197\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;197&#39; height=&#39;40&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"197\" data-rawheight=\"40\" class=\"content_image lazy\" width=\"197\" data-actualsrc=\"https://pic3.zhimg.com/v2-2aa6fc6f31165c5835f05cacb304a5c6_b.jpg\"/><figcaption> (3-20)</figcaption></figure><p>因此，均方误差代价函数最小化的结果是与后验密度（或条件均值）相关的平均值。</p><p>由于均方估计其得到的估计是随机变量，要量化这些估计的不确定性，一种简便的不确定性测度是条件协方差矩阵，即</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-156a4fcdc46fd27b25fecdc3cfaceefc_b.jpg\" data-size=\"normal\" data-rawwidth=\"293\" data-rawheight=\"40\" class=\"content_image\" width=\"293\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;293&#39; height=&#39;40&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"293\" data-rawheight=\"40\" class=\"content_image lazy\" width=\"293\" data-actualsrc=\"https://pic1.zhimg.com/v2-156a4fcdc46fd27b25fecdc3cfaceefc_b.jpg\"/><figcaption> (3-21)</figcaption></figure><p>这里引入一个符号 <img src=\"https://www.zhihu.com/equation?tex=x%5E%7Bhat%7D_%7Bn%7Ck%7D\" alt=\"x^{hat}_{n|k}\" eeimg=\"1\"/> ，表示已知 <img src=\"https://www.zhihu.com/equation?tex=t_k\" alt=\"t_k\" eeimg=\"1\"/> 时刻之前的所有观测值为条件，对 <img src=\"https://www.zhihu.com/equation?tex=x_n\" alt=\"x_n\" eeimg=\"1\"/> 进行估计， <img src=\"https://www.zhihu.com/equation?tex=x%5E%7Bhat%7D_%7Bn%7Ck%7D\" alt=\"x^{hat}_{n|k}\" eeimg=\"1\"/> 的定义为</p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-e41c601ef46a3546c2f1492618bcffff_b.jpg\" data-size=\"normal\" data-rawwidth=\"238\" data-rawheight=\"40\" class=\"content_image\" width=\"238\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;238&#39; height=&#39;40&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"238\" data-rawheight=\"40\" class=\"content_image lazy\" width=\"238\" data-actualsrc=\"https://pic4.zhimg.com/v2-e41c601ef46a3546c2f1492618bcffff_b.jpg\"/><figcaption> (3-22)</figcaption></figure><p>这样， <img src=\"https://www.zhihu.com/equation?tex=x_n\" alt=\"x_n\" eeimg=\"1\"/> 的估计使用包括当前时刻在内的所有观测值，那么</p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-90a2bf3d593468fcae51475aff368d03_b.jpg\" data-size=\"normal\" data-rawwidth=\"238\" data-rawheight=\"40\" class=\"content_image\" width=\"238\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;238&#39; height=&#39;40&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"238\" data-rawheight=\"40\" class=\"content_image lazy\" width=\"238\" data-actualsrc=\"https://pic4.zhimg.com/v2-90a2bf3d593468fcae51475aff368d03_b.jpg\"/><figcaption> (3-23)</figcaption></figure><p>对 <img src=\"https://www.zhihu.com/equation?tex=x_n\" alt=\"x_n\" eeimg=\"1\"/> 的预测是基于除当前观测之外的所有观测，即</p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-6b1cbfb317db8e197ea134478582db13_b.jpg\" data-size=\"normal\" data-rawwidth=\"268\" data-rawheight=\"40\" class=\"content_image\" width=\"268\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;268&#39; height=&#39;40&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"268\" data-rawheight=\"40\" class=\"content_image lazy\" width=\"268\" data-actualsrc=\"https://pic4.zhimg.com/v2-6b1cbfb317db8e197ea134478582db13_b.jpg\"/><figcaption> (3-24)</figcaption></figure><p>对协方差矩阵做同样的运算，得</p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-514bd0ec7641c0c1be3d1629c7decd1f_b.jpg\" data-size=\"normal\" data-rawwidth=\"283\" data-rawheight=\"81\" class=\"content_image\" width=\"283\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;283&#39; height=&#39;81&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"283\" data-rawheight=\"81\" class=\"content_image lazy\" width=\"283\" data-actualsrc=\"https://pic4.zhimg.com/v2-514bd0ec7641c0c1be3d1629c7decd1f_b.jpg\"/><figcaption> (3-25)</figcaption></figure><p>协方差矩阵的预测形式如下</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-f4ecb7c05c4bddc97aa3bb33489bf16a_b.jpg\" data-size=\"normal\" data-rawwidth=\"308\" data-rawheight=\"81\" class=\"content_image\" width=\"308\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;308&#39; height=&#39;81&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"308\" data-rawheight=\"81\" class=\"content_image lazy\" width=\"308\" data-actualsrc=\"https://pic3.zhimg.com/v2-f4ecb7c05c4bddc97aa3bb33489bf16a_b.jpg\"/><figcaption> (3-26)</figcaption></figure><h2><b>3.1.2 卡尔曼滤波器</b></h2><p>1960年，Kalman发表了他著名的用递归方法解决离散数据线性滤波问题的论文(Kalman 1960)，开创了基于状态空间模型的最优滤波和最优控制理论(Gevers 2006)。卡尔曼滤波器应用广泛且功能强大：它可以估计信号的过去和当前状态，甚至能估计将来的状态，即使并不知道模型的确切性质。卡尔曼滤波器由一系列递归数学公式描述。可分为两个部分：预测方程和更新方程。预测方程负责及时向前推算当前状态变量和误差协方差估计的值，以便为下一个时间状态构造先验估计。更新方程负责反馈，也就是说，它将先验估计和新的测量变量结合以构造改进的后验估计。卡尔曼滤波器提供了一种高效可计算的方法来估计过程的状态，并且使估计的均方误差最小。</p><p>无迹卡尔曼滤波器（Unscented Kalman Filter，UKF）(Julier and Uhlmann 1997)是以无迹（Unscented Transformation，UT）变换为基础，采用卡尔曼线性滤波框架的一类用采样策略逼近非线性分布的方法。UKF采样的粒子点(一般称为Sigma点)的个数很少，具体个数根据所选择的采样策略而定。本文中将采用 2n个Sigma点。UKF对滤波参数不敏感，鲁棒性强，对复杂的非线性系统也有很大的优越性。</p><p>一阶马尔科夫过程中，状态只取决于上一个状态。因此，可将离散随机马尔科夫过程表示为</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-18efa87f926daaaadbdd9fb15624d0b9_b.jpg\" data-size=\"normal\" data-rawwidth=\"273\" data-rawheight=\"25\" class=\"content_image\" width=\"273\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;273&#39; height=&#39;25&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"273\" data-rawheight=\"25\" class=\"content_image lazy\" width=\"273\" data-actualsrc=\"https://pic2.zhimg.com/v2-18efa87f926daaaadbdd9fb15624d0b9_b.jpg\"/><figcaption> (3-27)</figcaption></figure><p>式中， <img src=\"https://www.zhihu.com/equation?tex=x_n\" alt=\"x_n\" eeimg=\"1\"/> 为 <img src=\"https://www.zhihu.com/equation?tex=t_n\" alt=\"t_n\" eeimg=\"1\"/> 时刻的系统状态； <img src=\"https://www.zhihu.com/equation?tex=f_%7Bn-1%7D\" alt=\"f_{n-1}\" eeimg=\"1\"/> 为确定性转移函数（矩阵），实现从 <img src=\"https://www.zhihu.com/equation?tex=t_%7Bn-1%7D\" alt=\"t_{n-1}\" eeimg=\"1\"/> 时刻到 <img src=\"https://www.zhihu.com/equation?tex=t_n\" alt=\"t_n\" eeimg=\"1\"/> 时刻状态 <img src=\"https://www.zhihu.com/equation?tex=x\" alt=\"x\" eeimg=\"1\"/> 的改变； <img src=\"https://www.zhihu.com/equation?tex=u_n\" alt=\"u_n\" eeimg=\"1\"/> 为已知的（通常为确定性的）控制，构成驱动动态系统的外部输入。尽管白噪声 <img src=\"https://www.zhihu.com/equation?tex=%5Ceta\" alt=\"\\eta\" eeimg=\"1\"/> （不一定是高斯的）可以在输入时开始出现，并通过转移函数变换，但通常假设噪声是加性的，用来表示真实转移函数中未建模部分。</p><p>对不可观测的状态矢量 <img src=\"https://www.zhihu.com/equation?tex=x_n\" alt=\"x_n\" eeimg=\"1\"/> 的估计是给予所有试验观测矢量 <img src=\"https://www.zhihu.com/equation?tex=y_%7B1%3An%7D%5Cequiv+%5Cleft%5C%7B+y_1%2Cy_2%2C...%2Cy_n+%5Cright%5C%7D\" alt=\"y_{1:n}\\equiv \\left\\{ y_1,y_2,...,y_n \\right\\}\" eeimg=\"1\"/> 的集合。假定 <img src=\"https://www.zhihu.com/equation?tex=t_n\" alt=\"t_n\" eeimg=\"1\"/> 时刻的观测矢量和 <img src=\"https://www.zhihu.com/equation?tex=t_n\" alt=\"t_n\" eeimg=\"1\"/> 时刻的状态矢量之间的解析关系已知，表示为</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-f073aa1dd9d3e25998b7526944e97a11_b.jpg\" data-size=\"normal\" data-rawwidth=\"182\" data-rawheight=\"25\" class=\"content_image\" width=\"182\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;182&#39; height=&#39;25&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"182\" data-rawheight=\"25\" class=\"content_image lazy\" width=\"182\" data-actualsrc=\"https://pic2.zhimg.com/v2-f073aa1dd9d3e25998b7526944e97a11_b.jpg\"/><figcaption> (3-28)</figcaption></figure><p>式中， <img src=\"https://www.zhihu.com/equation?tex=y_n\" alt=\"y_n\" eeimg=\"1\"/> 为观测矢量； <img src=\"https://www.zhihu.com/equation?tex=h_n\" alt=\"h_n\" eeimg=\"1\"/> 为确定性观测函数，给出状态矢量和观测矢量的关系。白噪声 <img src=\"https://www.zhihu.com/equation?tex=%5Cmu_n\" alt=\"\\mu_n\" eeimg=\"1\"/> （不一定为高斯噪声）可以通过转移函数变化，但通常假设观测噪声是加性的。</p><p>对于多数问题， <img src=\"https://www.zhihu.com/equation?tex=f_%7Bn-1%7D\" alt=\"f_{n-1}\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=h_%7Bn%7D\" alt=\"h_{n}\" eeimg=\"1\"/> 是缓变的，随时间的变化非常缓慢。因此，可以认为它们是与时间无关的，即 <img src=\"https://www.zhihu.com/equation?tex=f_%7Bn-1%7D%5Crightarrow+f\" alt=\"f_{n-1}\\rightarrow f\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=h_%7Bn%7D%5Crightarrow+h\" alt=\"h_{n}\\rightarrow h\" eeimg=\"1\"/> 。</p><p><b>3.1.2.1 状态矢量预测</b></p><p>将Chapman-Kolmogorov方程(3-12)和系统动态方程(3-27)带入式(3-25)和(3-26)得</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-ff3906a336945e15e6cc4d4277e68f52_b.jpg\" data-size=\"normal\" data-rawwidth=\"434\" data-rawheight=\"177\" class=\"origin_image zh-lightbox-thumb\" width=\"434\" data-original=\"https://pic3.zhimg.com/v2-ff3906a336945e15e6cc4d4277e68f52_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;434&#39; height=&#39;177&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"434\" data-rawheight=\"177\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"434\" data-original=\"https://pic3.zhimg.com/v2-ff3906a336945e15e6cc4d4277e68f52_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-ff3906a336945e15e6cc4d4277e68f52_b.jpg\"/><figcaption>(3-29)</figcaption></figure><p>其中概率密度的积分 <img src=\"https://www.zhihu.com/equation?tex=%5Cint_%7B%7D%5E%7B%7Dp%28x_n%7Cx_%7Bn-1%7D%29dx_n%3D1\" alt=\"\\int_{}^{}p(x_n|x_{n-1})dx_n=1\" eeimg=\"1\"/> 。上式中包含两个密度加权积分，除非在特殊情况下，否则无法用解析方法求解。如果噪声 <img src=\"https://www.zhihu.com/equation?tex=v_%7Bn-1%7D\" alt=\"v_{n-1}\" eeimg=\"1\"/> 均值为0，需要一个无偏估计器，第二个积分项简化为0。</p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-118ab4524b6d3ec9d2d553aae10a3b03_b.jpg\" data-size=\"normal\" data-rawwidth=\"475\" data-rawheight=\"222\" class=\"origin_image zh-lightbox-thumb\" width=\"475\" data-original=\"https://pic4.zhimg.com/v2-118ab4524b6d3ec9d2d553aae10a3b03_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;475&#39; height=&#39;222&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"475\" data-rawheight=\"222\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"475\" data-original=\"https://pic4.zhimg.com/v2-118ab4524b6d3ec9d2d553aae10a3b03_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-118ab4524b6d3ec9d2d553aae10a3b03_b.jpg\"/><figcaption> (3-30)</figcaption></figure><p>定义噪声协方差为</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-41b3c44bd367306f8d83e5dfc3ea80d0_b.jpg\" data-size=\"normal\" data-rawwidth=\"217\" data-rawheight=\"40\" class=\"content_image\" width=\"217\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;217&#39; height=&#39;40&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"217\" data-rawheight=\"40\" class=\"content_image lazy\" width=\"217\" data-actualsrc=\"https://pic1.zhimg.com/v2-41b3c44bd367306f8d83e5dfc3ea80d0_b.jpg\"/><figcaption> (3-31)</figcaption></figure><p>假设 <img src=\"https://www.zhihu.com/equation?tex=f_%7Bn-1%7D%28x_%7Bn-1%7D%2Cu_n%29\" alt=\"f_{n-1}(x_{n-1},u_n)\" eeimg=\"1\"/> 与 <img src=\"https://www.zhihu.com/equation?tex=v_%7Bn-1%7D\" alt=\"v_{n-1}\" eeimg=\"1\"/> 不相关，式(3-30)中间两个积分化简为0，密度加权预测方差变成</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-cdc60093f19bc67a523cc81b203c23ac_b.jpg\" data-size=\"normal\" data-rawwidth=\"500\" data-rawheight=\"45\" class=\"origin_image zh-lightbox-thumb\" width=\"500\" data-original=\"https://pic1.zhimg.com/v2-cdc60093f19bc67a523cc81b203c23ac_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;500&#39; height=&#39;45&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"500\" data-rawheight=\"45\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"500\" data-original=\"https://pic1.zhimg.com/v2-cdc60093f19bc67a523cc81b203c23ac_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-cdc60093f19bc67a523cc81b203c23ac_b.jpg\"/><figcaption>(3-32)</figcaption></figure><p>式(3-29)和(3-32)状态矢量的一阶和二阶矩的预测估计是基于除最近一次观测外的所有观测值的。下面将给出给定当前观测值 <img src=\"https://www.zhihu.com/equation?tex=y_n\" alt=\"y_n\" eeimg=\"1\"/> 条件下，更新这些预测矩的方法。</p><p><b>3.1.2.2 状态矢量更新</b></p><p>对于所有一般的密度，卡尔曼滤波器提出一种不采用贝叶斯法则的滤波器。假定状态 <img src=\"https://www.zhihu.com/equation?tex=x_n\" alt=\"x_n\" eeimg=\"1\"/> 可以按次序得估计，仅更新一阶和二阶预测矩。具体而言，假定一阶矩的更新估计是线性依赖于当前观测值，即</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-15e0513ae721ef4a8533f0c73a0af25d_b.jpg\" data-size=\"normal\" data-rawwidth=\"86\" data-rawheight=\"25\" class=\"content_image\" width=\"86\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;86&#39; height=&#39;25&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"86\" data-rawheight=\"25\" class=\"content_image lazy\" width=\"86\" data-actualsrc=\"https://pic2.zhimg.com/v2-15e0513ae721ef4a8533f0c73a0af25d_b.jpg\"/><figcaption>(3-33)</figcaption></figure><p>式中， <img src=\"https://www.zhihu.com/equation?tex=y%5E0_n\" alt=\"y^0_n\" eeimg=\"1\"/> 为最新的含噪声观测值； <img src=\"https://www.zhihu.com/equation?tex=A\" alt=\"A\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=b\" alt=\"b\" eeimg=\"1\"/> 是待确定的未知数。</p><p>根据当前观测值 <img src=\"https://www.zhihu.com/equation?tex=y%5E0_n\" alt=\"y^0_n\" eeimg=\"1\"/> （ <img src=\"https://www.zhihu.com/equation?tex=y%5E0_n\" alt=\"y^0_n\" eeimg=\"1\"/> 为随机变量），随机变量 <img src=\"https://www.zhihu.com/equation?tex=x_n\" alt=\"x_n\" eeimg=\"1\"/> 最佳的线性估计（从最小剧方误差意义上说）需要满足以下条件：</p><p>(1) 条件估计具有无偏性，即每个元素的估计误差均为0，例如 <img src=\"https://www.zhihu.com/equation?tex=E%5Cleft%5C%7B+%5Cvarepsilon%5Ex_n%7Cy_%7B1%3An-1%7D+%5Cright%5C%7D+%3D0%5Cin+R%5E%7Bn_x%7D\" alt=\"E\\left\\{ \\varepsilon^x_n|y_{1:n-1} \\right\\} =0\\in R^{n_x}\" eeimg=\"1\"/> ；</p><p>(2) 每个元素的估计误差与所有元素的观测值不相关，即 <img src=\"https://www.zhihu.com/equation?tex=E%5Cleft%5C%7B+%5Cvarepsilon%5Ex_ny%5E%7B0T%7D_n+%7Cy_%7B1%3An-1%7D+%5Cright%5C%7D+%3D0%5Cin+R%5E%7Bn_x%5Ctimes+n_x%7D\" alt=\"E\\left\\{ \\varepsilon^x_ny^{0T}_n |y_{1:n-1} \\right\\} =0\\in R^{n_x\\times n_x}\" eeimg=\"1\"/> 。</p><p>注意，上述两个条件都建立在估计误差之上，而不是在状态矢量或观测矢量之上。同时，后一个条件要求估计误差是与观测值正交。</p><p>根据估计误差的定义和方程(3-33)，运用条件(1)，得</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-fafea4933ba45dbed9abe2af394e8bcc_b.jpg\" data-size=\"normal\" data-rawwidth=\"308\" data-rawheight=\"101\" class=\"content_image\" width=\"308\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;308&#39; height=&#39;101&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"308\" data-rawheight=\"101\" class=\"content_image lazy\" width=\"308\" data-actualsrc=\"https://pic1.zhimg.com/v2-fafea4933ba45dbed9abe2af394e8bcc_b.jpg\"/><figcaption>(3-34)</figcaption></figure><p>因此</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-68acd28e1793d3d2797c0fb97f7d0574_b.jpg\" data-size=\"normal\" data-rawwidth=\"111\" data-rawheight=\"25\" class=\"content_image\" width=\"111\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;111&#39; height=&#39;25&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"111\" data-rawheight=\"25\" class=\"content_image lazy\" width=\"111\" data-actualsrc=\"https://pic1.zhimg.com/v2-68acd28e1793d3d2797c0fb97f7d0574_b.jpg\"/><figcaption> (3-35)</figcaption></figure><p>由式(3-34)得</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-15aec862e683844bea41388588761b2c_b.jpg\" data-size=\"normal\" data-rawwidth=\"167\" data-rawheight=\"30\" class=\"content_image\" width=\"167\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;167&#39; height=&#39;30&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"167\" data-rawheight=\"30\" class=\"content_image lazy\" width=\"167\" data-actualsrc=\"https://pic1.zhimg.com/v2-15aec862e683844bea41388588761b2c_b.jpg\"/><figcaption> (3-36)</figcaption></figure><p>条件(2)是正交性条件，需要</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-05c8f02a097d08130dfa7a334494ad74_b.jpg\" data-size=\"normal\" data-rawwidth=\"329\" data-rawheight=\"35\" class=\"content_image\" width=\"329\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;329&#39; height=&#39;35&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"329\" data-rawheight=\"35\" class=\"content_image lazy\" width=\"329\" data-actualsrc=\"https://pic1.zhimg.com/v2-05c8f02a097d08130dfa7a334494ad74_b.jpg\"/><figcaption> (3-37)</figcaption></figure><p>注意， <img src=\"https://www.zhihu.com/equation?tex=x%5E%7Bhat%7D_%7Bn%7Cn-1%7D\" alt=\"x^{hat}_{n|n-1}\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=y%5E%7Bhat%7D_%7Bn%7Cn-1%7D\" alt=\"y^{hat}_{n|n-1}\" eeimg=\"1\"/> 是以 <img src=\"https://www.zhihu.com/equation?tex=y%5E%7Bhat%7D_%7B1%7Cn-1%7D\" alt=\"y^{hat}_{1|n-1}\" eeimg=\"1\"/> 为条件。因为 <img src=\"https://www.zhihu.com/equation?tex=E%5Cleft%5C%7B+%5Cvarepsilon+%5Ex_n+%5Cright%5C%7D%3D0\" alt=\"E\\left\\{ \\varepsilon ^x_n \\right\\}=0\" eeimg=\"1\"/> ， <img src=\"https://www.zhihu.com/equation?tex=E%5Cleft%5C%7B+%5Cvarepsilon+%5Ex_ny%5E%7B0T%7D_n+%5Cright%5C%7D%3DE%5Cleft%5C%7B+%5Cvarepsilon%5Ex_n+%28y%5E0_n-y%5E%7Bhat%7D_%7Bn%7Cn-1%7D%29%5ET+%5Cright%5C%7D\" alt=\"E\\left\\{ \\varepsilon ^x_ny^{0T}_n \\right\\}=E\\left\\{ \\varepsilon^x_n (y^0_n-y^{hat}_{n|n-1})^T \\right\\}\" eeimg=\"1\"/> ，因此，上式可以改写为</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-f192d10317df4a8f7f739887fc1dd44d_b.jpg\" data-size=\"normal\" data-rawwidth=\"389\" data-rawheight=\"76\" class=\"content_image\" width=\"389\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;389&#39; height=&#39;76&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"389\" data-rawheight=\"76\" class=\"content_image lazy\" width=\"389\" data-actualsrc=\"https://pic2.zhimg.com/v2-f192d10317df4a8f7f739887fc1dd44d_b.jpg\"/><figcaption>(3-38)</figcaption></figure><p>求解方程后得</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-18aba911851fad42c289a271ea2e7a35_b.jpg\" data-size=\"normal\" data-rawwidth=\"152\" data-rawheight=\"30\" class=\"content_image\" width=\"152\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;152&#39; height=&#39;30&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"152\" data-rawheight=\"30\" class=\"content_image lazy\" width=\"152\" data-actualsrc=\"https://pic2.zhimg.com/v2-18aba911851fad42c289a271ea2e7a35_b.jpg\"/><figcaption>(3-39)</figcaption></figure><p>综上得到最小均方误差（Minimum Mean Square Error，MMSE）估计器，即</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-c7f9d0f2b217360364e4de884b357db2_b.jpg\" data-size=\"normal\" data-rawwidth=\"172\" data-rawheight=\"30\" class=\"content_image\" width=\"172\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;172&#39; height=&#39;30&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"172\" data-rawheight=\"30\" class=\"content_image lazy\" width=\"172\" data-actualsrc=\"https://pic3.zhimg.com/v2-c7f9d0f2b217360364e4de884b357db2_b.jpg\"/><figcaption>(3-40)</figcaption></figure><p>这里观测值的预测误差被称为新息（innovations），即</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-a50e7bf6612e7da1da5f96d6d7f82c25_b.jpg\" data-size=\"normal\" data-rawwidth=\"96\" data-rawheight=\"25\" class=\"content_image\" width=\"96\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;96&#39; height=&#39;25&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"96\" data-rawheight=\"25\" class=\"content_image lazy\" width=\"96\" data-actualsrc=\"https://pic2.zhimg.com/v2-a50e7bf6612e7da1da5f96d6d7f82c25_b.jpg\"/><figcaption> (3-41)</figcaption></figure><p>更新后的协方差可以由下式得到</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-e4d75739fa5df39b096cfa4546694566_b.jpg\" data-size=\"normal\" data-rawwidth=\"475\" data-rawheight=\"111\" class=\"origin_image zh-lightbox-thumb\" width=\"475\" data-original=\"https://pic3.zhimg.com/v2-e4d75739fa5df39b096cfa4546694566_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;475&#39; height=&#39;111&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"475\" data-rawheight=\"111\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"475\" data-original=\"https://pic3.zhimg.com/v2-e4d75739fa5df39b096cfa4546694566_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-e4d75739fa5df39b096cfa4546694566_b.jpg\"/><figcaption> (3-41)</figcaption></figure><p>经过一些代数运算，上式可变成</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-bc31ba246fa6297fbf1a27b05489ec99_b.jpg\" data-size=\"normal\" data-rawwidth=\"157\" data-rawheight=\"25\" class=\"content_image\" width=\"157\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;157&#39; height=&#39;25&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"157\" data-rawheight=\"25\" class=\"content_image lazy\" width=\"157\" data-actualsrc=\"https://pic2.zhimg.com/v2-bc31ba246fa6297fbf1a27b05489ec99_b.jpg\"/><figcaption> (3-42)</figcaption></figure><p>综上所述，式(3-40)和(3-41)以及卡尔曼增益(3-39)，都是用最新的观测值来更新式(3-29)和式(3-32)得的预测估计的卡尔曼更新方程。上述方程中需要额外的预测密度加权积分 <img src=\"https://www.zhihu.com/equation?tex=y%5E%7Bhat%7D_%7Bn%7Cn-1%7D\" alt=\"y^{hat}_{n|n-1}\" eeimg=\"1\"/> </p><p>、 <img src=\"https://www.zhihu.com/equation?tex=P%5E%7Byy%7D_%7Bn%7Cn-1%7D\" alt=\"P^{yy}_{n|n-1}\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=P%5E%7Bxz%7D_%7Bn%7Cn-1%7D\" alt=\"P^{xz}_{n|n-1}\" eeimg=\"1\"/> 的计算。这些预测估计的定义如下，即</p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-4932e04e6beb67f5b0bfb30adcb3577f_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"152\" data-rawheight=\"25\" class=\"content_image\" width=\"152\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;152&#39; height=&#39;25&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"152\" data-rawheight=\"25\" class=\"content_image lazy\" width=\"152\" data-actualsrc=\"https://pic4.zhimg.com/v2-4932e04e6beb67f5b0bfb30adcb3577f_b.jpg\"/></figure><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-0daa2e167a277771739f3bccf440c68a_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"293\" data-rawheight=\"35\" class=\"content_image\" width=\"293\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;293&#39; height=&#39;35&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"293\" data-rawheight=\"35\" class=\"content_image lazy\" width=\"293\" data-actualsrc=\"https://pic3.zhimg.com/v2-0daa2e167a277771739f3bccf440c68a_b.jpg\"/></figure><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-1fcf1bd807b2d8eedccdfe8e465e508a_b.jpg\" data-size=\"normal\" data-rawwidth=\"268\" data-rawheight=\"35\" class=\"content_image\" width=\"268\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;268&#39; height=&#39;35&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"268\" data-rawheight=\"35\" class=\"content_image lazy\" width=\"268\" data-actualsrc=\"https://pic3.zhimg.com/v2-1fcf1bd807b2d8eedccdfe8e465e508a_b.jpg\"/><figcaption> (3-43)</figcaption></figure><p>代入系统的方程后有</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-7ca9d608e0d2766835ca19d0a9cddcb9_b.jpg\" data-size=\"normal\" data-rawwidth=\"364\" data-rawheight=\"40\" class=\"content_image\" width=\"364\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;364&#39; height=&#39;40&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"364\" data-rawheight=\"40\" class=\"content_image lazy\" width=\"364\" data-actualsrc=\"https://pic2.zhimg.com/v2-7ca9d608e0d2766835ca19d0a9cddcb9_b.jpg\"/><figcaption>(3-44)</figcaption></figure><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-49657794e93ee544bd8446dd67f4bed6_b.jpg\" data-size=\"normal\" data-rawwidth=\"409\" data-rawheight=\"40\" class=\"content_image\" width=\"409\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;409&#39; height=&#39;40&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"409\" data-rawheight=\"40\" class=\"content_image lazy\" width=\"409\" data-actualsrc=\"https://pic3.zhimg.com/v2-49657794e93ee544bd8446dd67f4bed6_b.jpg\"/><figcaption> (3-45)</figcaption></figure><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-ea9e5e5af755363d098e110d7a68f2e8_b.jpg\" data-size=\"normal\" data-rawwidth=\"354\" data-rawheight=\"40\" class=\"content_image\" width=\"354\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;354&#39; height=&#39;40&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"354\" data-rawheight=\"40\" class=\"content_image lazy\" width=\"354\" data-actualsrc=\"https://pic1.zhimg.com/v2-ea9e5e5af755363d098e110d7a68f2e8_b.jpg\"/><figcaption> (3-46)</figcaption></figure><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-cc0527aa0025db8b7f86f72cfebb4c9a_b.jpg\" data-size=\"normal\" data-rawwidth=\"187\" data-rawheight=\"40\" class=\"content_image\" width=\"187\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;187&#39; height=&#39;40&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"187\" data-rawheight=\"40\" class=\"content_image lazy\" width=\"187\" data-actualsrc=\"https://pic3.zhimg.com/v2-cc0527aa0025db8b7f86f72cfebb4c9a_b.jpg\"/><figcaption> (3-47)</figcaption></figure><p><img src=\"https://www.zhihu.com/equation?tex=P%5E%7Bxz%7D_%7Bn%7Cn-1%7D\" alt=\"P^{xz}_{n|n-1}\" eeimg=\"1\"/> 的公式中， <img src=\"https://www.zhihu.com/equation?tex=h_n%28x_n%29\" alt=\"h_n(x_n)\" eeimg=\"1\"/> 独立于 <img src=\"https://www.zhihu.com/equation?tex=%5Comega_n\" alt=\"\\omega_n\" eeimg=\"1\"/> ，因此交叉项积分为0。通常假设 <img src=\"https://www.zhihu.com/equation?tex=%5Comega_n\" alt=\"\\omega_n\" eeimg=\"1\"/> 均值为0，因此 <img src=\"https://www.zhihu.com/equation?tex=y%5E%7Bhat%7D_%7Bn%7Cn-1%7D\" alt=\"y^{hat}_{n|n-1}\" eeimg=\"1\"/> 公式中第二个积分项积分为0。</p><p><b>3.1.2.3 卡尔曼滤波器</b></p><p>至此，对动态过程或者观测过程的形式和概率密度的形式都没有限制。在下图中给出了一般的估计过程流程图。</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-8b5143f6d2359a4d6f7f0a5aa3540344_b.jpg\" data-size=\"normal\" data-rawwidth=\"551\" data-rawheight=\"450\" class=\"origin_image zh-lightbox-thumb\" width=\"551\" data-original=\"https://pic1.zhimg.com/v2-8b5143f6d2359a4d6f7f0a5aa3540344_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;551&#39; height=&#39;450&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"551\" data-rawheight=\"450\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"551\" data-original=\"https://pic1.zhimg.com/v2-8b5143f6d2359a4d6f7f0a5aa3540344_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-8b5143f6d2359a4d6f7f0a5aa3540344_b.jpg\"/><figcaption>图3-3 卡尔曼滤波器流程图</figcaption></figure><p>下面，我们将假定动态方程和观测方程都是高斯过程。在这种假设下，点估计方程中包含的所有的分布都是高斯分布。高斯密度用其前两阶矩就可以完整表示。因此，对于高斯过程来说，前两阶矩的递归传播估计是最优的估计方法。值得注意的是，之前提出的卡尔曼更新方程，对过程是否为线性以及过程的密度没有特殊要求。但是针对各种假设以及不同的动态函数 <img src=\"https://www.zhihu.com/equation?tex=f_n%28x_n%29\" alt=\"f_n(x_n)\" eeimg=\"1\"/> 和观测函数 <img src=\"https://www.zhihu.com/equation?tex=h_n%28x_n%29\" alt=\"h_n(x_n)\" eeimg=\"1\"/> ，产生了各种数值方法来求解卡尔曼滤波器预测高斯加权分布。根据求解方法不同，将卡尔曼滤波器分为一下4类：</p><p>(1) 线性卡尔曼滤波器。当动态方程和观测方程均为线性，且所有密度均是高斯分布，积分可以直接求解，这就是线性卡尔曼滤波器（Linear Kalman Filter， LKF）。</p><p>(2) 解析线性化卡尔曼滤波器。将非线性函数展开为泰勒多项式，仅保留线性项，这样积分又可以直接求解。但是需要计算每个非线性函数的雅克比矩阵。这类滤波器包括扩展卡尔曼滤波器（Extended Kalman Filter，EKF）。</p><p>(3) Sigma点卡尔曼滤波器。将非线性函数展开为更一般的多项式，将积分简化为确定的矢量点集（称为Sigma点）的加权和。这类卡尔曼滤波器主要包括有限差分卡尔曼滤波器、无迹卡尔曼滤波器（Unscented Kalman Filter，UKF）、球面单形卡尔曼滤波器和高斯厄密特卡尔曼滤波器。</p><p>(4) 蒙特卡洛卡尔曼滤波器。如果从高斯密度得一组蒙塔卡洛采样点，生成离散密度，那么积分运算将简化为离散随机采样点求和运算。这类算法包括蒙特卡洛卡尔曼滤波器。</p><h2><b>3.1.3 线性卡尔曼滤波器</b></h2><p><b>3.1.3.1 线性动态模型</b></p><p>对于线性动态模型，系统状态空间表达式可以写成</p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-7da7dd01a6dc107fe1f0d586466c5d87_b.jpg\" data-size=\"normal\" data-rawwidth=\"126\" data-rawheight=\"25\" class=\"content_image\" width=\"126\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;126&#39; height=&#39;25&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"126\" data-rawheight=\"25\" class=\"content_image lazy\" width=\"126\" data-actualsrc=\"https://pic4.zhimg.com/v2-7da7dd01a6dc107fe1f0d586466c5d87_b.jpg\"/><figcaption> (3-48)</figcaption></figure><p>式中， <img src=\"https://www.zhihu.com/equation?tex=F\" alt=\"F\" eeimg=\"1\"/> 为独立于时间的确定性转移矩阵。</p><p>状态预测方程可以写为</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-6fe784e2dfd99d08a921277c19f0267c_b.jpg\" data-size=\"normal\" data-rawwidth=\"293\" data-rawheight=\"30\" class=\"content_image\" width=\"293\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;293&#39; height=&#39;30&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"293\" data-rawheight=\"30\" class=\"content_image lazy\" width=\"293\" data-actualsrc=\"https://pic1.zhimg.com/v2-6fe784e2dfd99d08a921277c19f0267c_b.jpg\"/><figcaption> (3-49)</figcaption></figure><p>进一步化简为</p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-fb5ae999420a7a6d89a83317831c9f37_b.jpg\" data-size=\"normal\" data-rawwidth=\"126\" data-rawheight=\"25\" class=\"content_image\" width=\"126\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;126&#39; height=&#39;25&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"126\" data-rawheight=\"25\" class=\"content_image lazy\" width=\"126\" data-actualsrc=\"https://pic4.zhimg.com/v2-fb5ae999420a7a6d89a83317831c9f37_b.jpg\"/><figcaption> (3-50)</figcaption></figure><p>协方差预测方程可以写为</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-a10719423ad762c3c77ddccb144a4bfc_b.jpg\" data-size=\"normal\" data-rawwidth=\"485\" data-rawheight=\"71\" class=\"origin_image zh-lightbox-thumb\" width=\"485\" data-original=\"https://pic1.zhimg.com/v2-a10719423ad762c3c77ddccb144a4bfc_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;485&#39; height=&#39;71&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"485\" data-rawheight=\"71\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"485\" data-original=\"https://pic1.zhimg.com/v2-a10719423ad762c3c77ddccb144a4bfc_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-a10719423ad762c3c77ddccb144a4bfc_b.jpg\"/><figcaption> (3-51)</figcaption></figure><p>由于</p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-5593399e8c514bdd162c141ba6ca5533_b.jpg\" data-size=\"normal\" data-rawwidth=\"414\" data-rawheight=\"30\" class=\"content_image\" width=\"414\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;414&#39; height=&#39;30&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"414\" data-rawheight=\"30\" class=\"content_image lazy\" width=\"414\" data-actualsrc=\"https://pic4.zhimg.com/v2-5593399e8c514bdd162c141ba6ca5533_b.jpg\"/><figcaption> (3-52)</figcaption></figure><p>所以，对于线性动态模型有</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-f627e00f84b7f9a4d772075576271a71_b.jpg\" data-size=\"normal\" data-rawwidth=\"147\" data-rawheight=\"61\" class=\"content_image\" width=\"147\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;147&#39; height=&#39;61&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"147\" data-rawheight=\"61\" class=\"content_image lazy\" width=\"147\" data-actualsrc=\"https://pic2.zhimg.com/v2-f627e00f84b7f9a4d772075576271a71_b.jpg\"/><figcaption> (3-53)</figcaption></figure><p>式中 <img src=\"https://www.zhihu.com/equation?tex=Q\" alt=\"Q\" eeimg=\"1\"/> 为动态噪声协方差矩阵。</p><p><b>3.1.3.2 线性观测模型</b></p><p>如果系统观测方程为线性，可将观测方程写成</p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-94e5996c1705e66942942b5e9e1fe103_b.jpg\" data-size=\"normal\" data-rawwidth=\"91\" data-rawheight=\"25\" class=\"content_image\" width=\"91\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;91&#39; height=&#39;25&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"91\" data-rawheight=\"25\" class=\"content_image lazy\" width=\"91\" data-actualsrc=\"https://pic4.zhimg.com/v2-94e5996c1705e66942942b5e9e1fe103_b.jpg\"/><figcaption> (3-54)</figcaption></figure><p>式中 <img src=\"https://www.zhihu.com/equation?tex=H\" alt=\"H\" eeimg=\"1\"/> 为 <img src=\"https://www.zhihu.com/equation?tex=n_y%5Ctimes+n_x\" alt=\"n_y\\times n_x\" eeimg=\"1\"/> 维，且与 <img src=\"https://www.zhihu.com/equation?tex=x_n\" alt=\"x_n\" eeimg=\"1\"/> 和时间无关的确定性转移矩阵。假定观测噪声 <img src=\"https://www.zhihu.com/equation?tex=%5Comega_n\" alt=\"\\omega_n\" eeimg=\"1\"/> 为零均值过程，则对观测状态的预测可以简化为</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-d43dc721405ae8b00e8e3e1a71496fa9_b.jpg\" data-size=\"normal\" data-rawwidth=\"91\" data-rawheight=\"25\" class=\"content_image\" width=\"91\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;91&#39; height=&#39;25&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"91\" data-rawheight=\"25\" class=\"content_image lazy\" width=\"91\" data-actualsrc=\"https://pic2.zhimg.com/v2-d43dc721405ae8b00e8e3e1a71496fa9_b.jpg\"/><figcaption> (3-55)</figcaption></figure><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-f71a8bb4ef5ddeced8b6246543e17e46_b.jpg\" data-size=\"normal\" data-rawwidth=\"136\" data-rawheight=\"61\" class=\"content_image\" width=\"136\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;136&#39; height=&#39;61&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"136\" data-rawheight=\"61\" class=\"content_image lazy\" width=\"136\" data-actualsrc=\"https://pic3.zhimg.com/v2-f71a8bb4ef5ddeced8b6246543e17e46_b.jpg\"/><figcaption> (3-56)</figcaption></figure><p>式中 <img src=\"https://www.zhihu.com/equation?tex=R\" alt=\"R\" eeimg=\"1\"/> 为观测噪声协方差矩阵。</p><p>最后，将上面两个公式带入()，得</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-03597aada01c490147c0b482eb40e9da_b.jpg\" data-size=\"normal\" data-rawwidth=\"435\" data-rawheight=\"136\" class=\"origin_image zh-lightbox-thumb\" width=\"435\" data-original=\"https://pic3.zhimg.com/v2-03597aada01c490147c0b482eb40e9da_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;435&#39; height=&#39;136&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"435\" data-rawheight=\"136\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"435\" data-original=\"https://pic3.zhimg.com/v2-03597aada01c490147c0b482eb40e9da_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-03597aada01c490147c0b482eb40e9da_b.jpg\"/><figcaption> (3-57)</figcaption></figure><p>可化简为</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-be344caeb746d7e6e838e8c5b95d4292_b.jpg\" data-size=\"normal\" data-rawwidth=\"101\" data-rawheight=\"25\" class=\"content_image\" width=\"101\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;101&#39; height=&#39;25&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"101\" data-rawheight=\"25\" class=\"content_image lazy\" width=\"101\" data-actualsrc=\"https://pic3.zhimg.com/v2-be344caeb746d7e6e838e8c5b95d4292_b.jpg\"/><figcaption> (3-58)</figcaption></figure><p><b>3.1.3.3 线性卡尔曼滤波器</b></p><p>当动态过程和观测过程皆为线性时，贝叶斯估计简化为线性卡尔曼滤波器。因为卡尔曼滤波器适用于各种密度分布，卡尔曼滤波的预测过程可以通过先验密度和后验密度直接求得。但是，只有密度函数为已知的解析形式，才能采用某种方法计算矩积分。当系统的动态过程和观测过程为线性高斯过程时，线性卡尔曼滤波器是贝叶斯估计的闭型解。下表中给出了完整的线性卡尔曼滤波器过程。</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-fd3eab73a99322cc2df3fed089925a01_b.jpg\" data-size=\"normal\" data-rawwidth=\"554\" data-rawheight=\"344\" class=\"origin_image zh-lightbox-thumb\" width=\"554\" data-original=\"https://pic2.zhimg.com/v2-fd3eab73a99322cc2df3fed089925a01_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;554&#39; height=&#39;344&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"554\" data-rawheight=\"344\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"554\" data-original=\"https://pic2.zhimg.com/v2-fd3eab73a99322cc2df3fed089925a01_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-fd3eab73a99322cc2df3fed089925a01_b.jpg\"/><figcaption>表3-1 线性卡尔曼滤波器过程</figcaption></figure><h2><b>3.1.4 无迹卡尔曼滤波器</b></h2><p>无迹卡尔曼滤波器（Unscented Kalman Filter，UKF）最初是由1995年华盛顿州西雅图美国控制会议的两篇论文(QuineUhlmann and Durrant-Whyte 1995, JulierUhlmann and Durrant-Whyte 1995)中首次提出的。这两篇论文提出了一种新的非线性状态估计线性化逼近方法，与EKF不同，它不需要计算雅克比矩阵。该方法能“有效的通过离散分布（矢量点）逼近高斯分布，允许对每个独立的点应用非线性变换。”。特别之处在于，制定一组关于多维高斯分布均值对称的矢量点，将这些选中的点集输入到非线性变换中，利用输出结果点的加权和，可以得到更好的变换后均值分布，优于EKF得的估计。</p><p>在文献(Julier and Uhlmann 1996, UhlmannJulier and Durrant-Whyte 2000, Julier 1997)中，Julier详尽地阐述了他的算法；在文献(Julier 1997)中，他将这种方法命名为“分布逼近滤波器”，并给出了与EKF的对比，该算法在处理高度非线性函数变换中的优势；在文献(Uhlmann et al. 2000)中，Julier提出“与任意非线性函数的逼近或转换相比，概率分布函数的逼近更为容易”。实践证明，Julier和Uhlmann所提出的Sigma点卡尔曼滤波器是状态矢量放射变换的必然结果，所的估计方法可用于规范化高斯密度的简单矩积分。</p><p><b>3.1.4.1 无迹变换（Unscented Transform，UT）</b></p><p>无迹变换是一种数值方法，可以用于对随机变量 <img src=\"https://www.zhihu.com/equation?tex=x\" alt=\"x\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=y\" alt=\"y\" eeimg=\"1\"/> 联合分布的逼近。但是，无迹变换的原理不同于线性化，它是对目标分布的均值和协方差直接逼近，而不是对非线性函数近似。所涉及的表达式如下</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-e32a987b16b9a1d43307f75101969e3e_b.jpg\" data-size=\"normal\" data-rawwidth=\"81\" data-rawheight=\"56\" class=\"content_image\" width=\"81\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;81&#39; height=&#39;56&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"81\" data-rawheight=\"56\" class=\"content_image lazy\" width=\"81\" data-actualsrc=\"https://pic3.zhimg.com/v2-e32a987b16b9a1d43307f75101969e3e_b.jpg\"/><figcaption> (3-59)</figcaption></figure><p>无迹变换的思想是有选择地选取固定数量的Sigma点，以准确地获得 <img src=\"https://www.zhihu.com/equation?tex=x\" alt=\"x\" eeimg=\"1\"/> 原始分布的均值和协方差。再将这些Sigma点代入非线性系统模型，就可以通过这些点估计出变量的均值和协方差。</p><p>无迹变换通过下面的步骤形成了高斯逼近（无迹变换也适用于非高斯假设，但是在高斯假设下，无迹变换的贝叶斯表述变得简单，因此通常采用高斯假设）。</p><p>(1) 构造 <img src=\"https://www.zhihu.com/equation?tex=2n_x%2B1\" alt=\"2n_x+1\" eeimg=\"1\"/> 个Sigma点</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-ec8b72458faf2565d22dfb30f9852c56_b.jpg\" data-size=\"normal\" data-rawwidth=\"268\" data-rawheight=\"96\" class=\"content_image\" width=\"268\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;268&#39; height=&#39;96&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"268\" data-rawheight=\"96\" class=\"content_image lazy\" width=\"268\" data-actualsrc=\"https://pic3.zhimg.com/v2-ec8b72458faf2565d22dfb30f9852c56_b.jpg\"/><figcaption> (3-60)</figcaption></figure><p>式中， <img src=\"https://www.zhihu.com/equation?tex=%5Cleft%5B+%5Ccdot+%5Cright%5D_i\" alt=\"\\left[ \\cdot \\right]_i\" eeimg=\"1\"/> 表示矩阵的第 <img src=\"https://www.zhihu.com/equation?tex=i\" alt=\"i\" eeimg=\"1\"/> 列； <img src=\"https://www.zhihu.com/equation?tex=%5Clambda\" alt=\"\\lambda\" eeimg=\"1\"/> 为比例系数且由算法系数 <img src=\"https://www.zhihu.com/equation?tex=%5Calpha\" alt=\"\\alpha\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=%5Ckappa\" alt=\"\\kappa\" eeimg=\"1\"/> 定义，其表达式为</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-e7122b4dfeea0e6a1a2c2b31c97af692_b.jpg\" data-size=\"normal\" data-rawwidth=\"131\" data-rawheight=\"25\" class=\"content_image\" width=\"131\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;131&#39; height=&#39;25&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"131\" data-rawheight=\"25\" class=\"content_image lazy\" width=\"131\" data-actualsrc=\"https://pic3.zhimg.com/v2-e7122b4dfeea0e6a1a2c2b31c97af692_b.jpg\"/><figcaption> (3-61)</figcaption></figure><p>参数 <img src=\"https://www.zhihu.com/equation?tex=%5Calpha\" alt=\"\\alpha\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=%5Ckappa\" alt=\"\\kappa\" eeimg=\"1\"/> 决定了Sigma点在均值附近的分布。矩阵的平方根为一个矩阵，且有 <img src=\"https://www.zhihu.com/equation?tex=%5Csqrt%7BP%7D%5Csqrt%7BP%7D%5ET%3DP\" alt=\"\\sqrt{P}\\sqrt{P}^T=P\" eeimg=\"1\"/> 。</p><p>(2) 将Sigma点代入非线性函数 <img src=\"https://www.zhihu.com/equation?tex=h%28%5Ccdot%29\" alt=\"h(\\cdot)\" eeimg=\"1\"/> </p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-bb81774eeff5ea28355856f1b73508b1_b.jpg\" data-size=\"normal\" data-rawwidth=\"187\" data-rawheight=\"35\" class=\"content_image\" width=\"187\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;187&#39; height=&#39;35&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"187\" data-rawheight=\"35\" class=\"content_image lazy\" width=\"187\" data-actualsrc=\"https://pic2.zhimg.com/v2-bb81774eeff5ea28355856f1b73508b1_b.jpg\"/><figcaption> (3-62)</figcaption></figure><p>得到变换后的Sigma点 <img src=\"https://www.zhihu.com/equation?tex=Y%5E%7B%28i%29%7D\" alt=\"Y^{(i)}\" eeimg=\"1\"/> 。</p><p>(3) 由变换后Sigma点估计出变量的均值和协方差</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-bd9d4e55452e3db471dfa81d0cde2b88_b.jpg\" data-size=\"normal\" data-rawwidth=\"333\" data-rawheight=\"91\" class=\"content_image\" width=\"333\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;333&#39; height=&#39;91&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"333\" data-rawheight=\"91\" class=\"content_image lazy\" width=\"333\" data-actualsrc=\"https://pic1.zhimg.com/v2-bd9d4e55452e3db471dfa81d0cde2b88_b.jpg\"/><figcaption> (3-63)</figcaption></figure><p>式中，常值权值 <img src=\"https://www.zhihu.com/equation?tex=W%5E%7B%28m%29%7D_i\" alt=\"W^{(m)}_i\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=W%5E%7B%28m%29%7D_c\" alt=\"W^{(m)}_c\" eeimg=\"1\"/> 计算如下</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-02992195ed509390a903ea56cbb92314_b.jpg\" data-size=\"normal\" data-rawwidth=\"212\" data-rawheight=\"187\" class=\"content_image\" width=\"212\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;212&#39; height=&#39;187&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"212\" data-rawheight=\"187\" class=\"content_image lazy\" width=\"212\" data-actualsrc=\"https://pic1.zhimg.com/v2-02992195ed509390a903ea56cbb92314_b.jpg\"/><figcaption> (3-64)</figcaption></figure><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbeta\" alt=\"\\beta\" eeimg=\"1\"/> 是算法中的另一个参数，用于引入 <img src=\"https://www.zhihu.com/equation?tex=x\" alt=\"x\" eeimg=\"1\"/> （非高斯）分布的先验信息。</p><p><b>3.1.4.2 无迹卡尔曼滤波器状态矢量预测</b></p><p>(1) 构造Sigma点</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-d5907bd783d7eb36cb22b90abcbe0716_b.jpg\" data-size=\"normal\" data-rawwidth=\"328\" data-rawheight=\"106\" class=\"content_image\" width=\"328\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;328&#39; height=&#39;106&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"328\" data-rawheight=\"106\" class=\"content_image lazy\" width=\"328\" data-actualsrc=\"https://pic3.zhimg.com/v2-d5907bd783d7eb36cb22b90abcbe0716_b.jpg\"/><figcaption> (3-65)</figcaption></figure><p>(2) 将Sigma点代入系统方程，计算状态矢量预测和观测矢量预测</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-08dcf9b79cc0861040bc7da8f82e9266_b.jpg\" data-size=\"normal\" data-rawwidth=\"485\" data-rawheight=\"91\" class=\"origin_image zh-lightbox-thumb\" width=\"485\" data-original=\"https://pic3.zhimg.com/v2-08dcf9b79cc0861040bc7da8f82e9266_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;485&#39; height=&#39;91&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"485\" data-rawheight=\"91\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"485\" data-original=\"https://pic3.zhimg.com/v2-08dcf9b79cc0861040bc7da8f82e9266_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-08dcf9b79cc0861040bc7da8f82e9266_b.jpg\"/><figcaption> (3-66)</figcaption></figure><p><b>3.1.4.3 无迹卡尔曼滤波器观测值预测</b></p><p>(1) 构造Sigma点</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-91dd5786594b3b5ba424ea06cd5f8aaa_b.jpg\" data-size=\"normal\" data-rawwidth=\"303\" data-rawheight=\"106\" class=\"content_image\" width=\"303\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;303&#39; height=&#39;106&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"303\" data-rawheight=\"106\" class=\"content_image lazy\" width=\"303\" data-actualsrc=\"https://pic3.zhimg.com/v2-91dd5786594b3b5ba424ea06cd5f8aaa_b.jpg\"/><figcaption> (3-67)</figcaption></figure><p>(2) 将Sigma点代入系统方程，计算状态矢量预测和观测矢量预测</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-42bf0a2617dd63b700a219bedee852a5_b.jpg\" data-size=\"normal\" data-rawwidth=\"450\" data-rawheight=\"142\" class=\"origin_image zh-lightbox-thumb\" width=\"450\" data-original=\"https://pic2.zhimg.com/v2-42bf0a2617dd63b700a219bedee852a5_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;450&#39; height=&#39;142&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"450\" data-rawheight=\"142\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"450\" data-original=\"https://pic2.zhimg.com/v2-42bf0a2617dd63b700a219bedee852a5_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-42bf0a2617dd63b700a219bedee852a5_b.jpg\"/><figcaption> (3-68)</figcaption></figure><p><b>3.1.4.4 无迹卡尔曼滤波器</b></p><p>上面推导的UKF估计过程包含了比现行更高阶的项，因此具有比线性卡尔曼或者扩展卡尔曼滤波器更高的精度。下表总结了UKF的估计过程。</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-330b0b72fe38ff985febf23e3eb79ce4_b.jpg\" data-size=\"normal\" data-rawwidth=\"766\" data-rawheight=\"1277\" class=\"origin_image zh-lightbox-thumb\" width=\"766\" data-original=\"https://pic1.zhimg.com/v2-330b0b72fe38ff985febf23e3eb79ce4_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;766&#39; height=&#39;1277&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"766\" data-rawheight=\"1277\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"766\" data-original=\"https://pic1.zhimg.com/v2-330b0b72fe38ff985febf23e3eb79ce4_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-330b0b72fe38ff985febf23e3eb79ce4_b.jpg\"/><figcaption>表3-2 无迹卡尔曼滤波器过程</figcaption></figure><p class=\"ztext-empty-paragraph\"><br/></p><p><b>3.1.4.5 2n</b>-<b>Sigma点SVD分解UKF</b></p><p>在无迹变换中生成的 <img src=\"https://www.zhihu.com/equation?tex=2n_x%2B1\" alt=\"2n_x+1\" eeimg=\"1\"/> 个Sigma点中，除了原点处的点之外，所有的点都分布在一个超球面上。取 <img src=\"https://www.zhihu.com/equation?tex=%5Comega_0%3D0\" alt=\"\\omega_0=0\" eeimg=\"1\"/> ，从UKF中去除原点的Sigma点，不会损失一般性。注意，位于原点处的Sigma点与 <img src=\"https://www.zhihu.com/equation?tex=x%5E%7Bhat%7D_%7Bn-1%7Cn-1%7D\" alt=\"x^{hat}_{n-1|n-1}\" eeimg=\"1\"/> 或 <img src=\"https://www.zhihu.com/equation?tex=x%5E%7Bhat%7D_%7Bn%7Cn-1%7D\" alt=\"x^{hat}_{n|n-1}\" eeimg=\"1\"/> 相同。这样可以简化UKF为 <img src=\"https://www.zhihu.com/equation?tex=2n_x\" alt=\"2n_x\" eeimg=\"1\"/> Sigma点， <img src=\"https://www.zhihu.com/equation?tex=%5Ckappa\" alt=\"\\kappa\" eeimg=\"1\"/> 参数通常设为0， <img src=\"https://www.zhihu.com/equation?tex=%5Calpha\" alt=\"\\alpha\" eeimg=\"1\"/> 设为1，对于 <img src=\"https://www.zhihu.com/equation?tex=i%3D1%2C2%2C...%2C2n_x\" alt=\"i=1,2,...,2n_x\" eeimg=\"1\"/> ，有 <img src=\"https://www.zhihu.com/equation?tex=%5Comega_i%3D1%2F2n_x\" alt=\"\\omega_i=1/2n_x\" eeimg=\"1\"/> 。</p><p>表3-2第二步求状态协方差矩阵平方根时会存在矩阵不正定问题，我们用奇异值分解解决此问题，因此引入2n-Sigma-SVD-UKF算法。</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-d46b9fe247e2e7d6698ee701bde64f88_b.jpg\" data-size=\"normal\" data-rawwidth=\"754\" data-rawheight=\"854\" class=\"origin_image zh-lightbox-thumb\" width=\"754\" data-original=\"https://pic1.zhimg.com/v2-d46b9fe247e2e7d6698ee701bde64f88_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;754&#39; height=&#39;854&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"754\" data-rawheight=\"854\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"754\" data-original=\"https://pic1.zhimg.com/v2-d46b9fe247e2e7d6698ee701bde64f88_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-d46b9fe247e2e7d6698ee701bde64f88_b.jpg\"/><figcaption>表3-3 2n-Sigma-SVD-UKF</figcaption></figure><p></p><p></p><p></p><p></p><p></p><p></p>", 
            "topic": [
                {
                    "tag": "卡尔曼滤波 Kalman Filter", 
                    "tagLink": "https://api.zhihu.com/topics/20016366"
                }
            ], 
            "comments": [
                {
                    "userName": "皮皮鲁", 
                    "userLink": "https://www.zhihu.com/people/ac72b61754d8aae3b38c251e9a2ff053", 
                    "content": "谢谢科普，辛苦辛苦", 
                    "likes": 0, 
                    "childComments": []
                }
            ]
        }
    ], 
    "url": "https://zhuanlan.zhihu.com/c_1013380472545452032"
}
