{
    "title": "墨炘阁", 
    "description": "", 
    "followers": [
        "https://www.zhihu.com/people/ya-li-shi-duo-she", 
        "https://www.zhihu.com/people/wu-ming-2-73-6", 
        "https://www.zhihu.com/people/liu-liu-86-48", 
        "https://www.zhihu.com/people/li-ling-12-18-63", 
        "https://www.zhihu.com/people/liao-jin-yun", 
        "https://www.zhihu.com/people/wang-qi-51", 
        "https://www.zhihu.com/people/donn-40", 
        "https://www.zhihu.com/people/jiangjian-53", 
        "https://www.zhihu.com/people/reed-84-49", 
        "https://www.zhihu.com/people/bigship-47", 
        "https://www.zhihu.com/people/liu-qiong-yu-52", 
        "https://www.zhihu.com/people/liehu-8", 
        "https://www.zhihu.com/people/ryan-29-68-90", 
        "https://www.zhihu.com/people/liuren-leo", 
        "https://www.zhihu.com/people/wj2014-59", 
        "https://www.zhihu.com/people/jack-ning-23", 
        "https://www.zhihu.com/people/yang-yang-75-12-10", 
        "https://www.zhihu.com/people/stackingrule", 
        "https://www.zhihu.com/people/zhjxy", 
        "https://www.zhihu.com/people/wjc1895", 
        "https://www.zhihu.com/people/qi-shan-94", 
        "https://www.zhihu.com/people/cai-jian-long-90", 
        "https://www.zhihu.com/people/dong-xing-24", 
        "https://www.zhihu.com/people/lrt-25-32", 
        "https://www.zhihu.com/people/lhh-84-70", 
        "https://www.zhihu.com/people/adam-46-88", 
        "https://www.zhihu.com/people/deng-wen-ding-96", 
        "https://www.zhihu.com/people/chen-yu-jie-37", 
        "https://www.zhihu.com/people/bo-yang-88-28", 
        "https://www.zhihu.com/people/tian-long-wei-86", 
        "https://www.zhihu.com/people/kuoping-huo", 
        "https://www.zhihu.com/people/golaced", 
        "https://www.zhihu.com/people/chan-shi-zhang-ju", 
        "https://www.zhihu.com/people/yandi-liu", 
        "https://www.zhihu.com/people/ikara-tasi", 
        "https://www.zhihu.com/people/hao-hao-xian-sheng-66-93", 
        "https://www.zhihu.com/people/xiong-meng-qi-8", 
        "https://www.zhihu.com/people/chen-zhi-fang-30", 
        "https://www.zhihu.com/people/zhanjun503", 
        "https://www.zhihu.com/people/lucifer-woo", 
        "https://www.zhihu.com/people/liu-xiao-liu-56", 
        "https://www.zhihu.com/people/yashcao", 
        "https://www.zhihu.com/people/wu-hong-qiang-64", 
        "https://www.zhihu.com/people/tom-lee-33-62", 
        "https://www.zhihu.com/people/a-tai-62-72", 
        "https://www.zhihu.com/people/jian-fu-16", 
        "https://www.zhihu.com/people/gotham", 
        "https://www.zhihu.com/people/octoberhaze", 
        "https://www.zhihu.com/people/li-wu-shi-44", 
        "https://www.zhihu.com/people/rao-zhu-fa", 
        "https://www.zhihu.com/people/zhang-shuai-shuai-39-34", 
        "https://www.zhihu.com/people/wzzggguuo", 
        "https://www.zhihu.com/people/0xaa", 
        "https://www.zhihu.com/people/ba-la-la-14-37", 
        "https://www.zhihu.com/people/hai-bin-39", 
        "https://www.zhihu.com/people/dong-dong-qiang-30", 
        "https://www.zhihu.com/people/you-you-bu-shi-dou-fu", 
        "https://www.zhihu.com/people/christ-10-41", 
        "https://www.zhihu.com/people/chenyushen", 
        "https://www.zhihu.com/people/chang-ling-91-61", 
        "https://www.zhihu.com/people/chi-fan-chi-fan", 
        "https://www.zhihu.com/people/dzh-85-52"
    ], 
    "article": [
        {
            "url": "https://zhuanlan.zhihu.com/p/45724613", 
            "userName": "融冰C", 
            "userLink": "https://www.zhihu.com/people/ae1df4b61f956bf551ad9e4d77aa2fd3", 
            "upvote": 0, 
            "title": "机器人：（6）树莓派自驾仪的开发备忘录——C语言实现基于EKF的导航解算", 
            "content": "<p>断断续续的折腾了很久，组装了飞机，完善了各个传感器的驱动，设计了基于FreeRTOS的飞控任务管理，终于可以折腾一下算法方面的工作。</p><figure data-size=\"small\"><noscript><img src=\"https://pic2.zhimg.com/v2-7deccc058ac8b493811849f974cb7e75_b.jpg\" data-size=\"small\" data-rawwidth=\"3072\" data-rawheight=\"4096\" class=\"origin_image zh-lightbox-thumb\" width=\"3072\" data-original=\"https://pic2.zhimg.com/v2-7deccc058ac8b493811849f974cb7e75_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;3072&#39; height=&#39;4096&#39;&gt;&lt;/svg&gt;\" data-size=\"small\" data-rawwidth=\"3072\" data-rawheight=\"4096\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"3072\" data-original=\"https://pic2.zhimg.com/v2-7deccc058ac8b493811849f974cb7e75_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-7deccc058ac8b493811849f974cb7e75_b.jpg\"/><figcaption>纯手工打造的实验平台真容，透露出一种原始性</figcaption></figure><p>本部分内容粗略记录一下基于EKF的导航解算。<i>(暑假回了下老家，家乡变化还真令人吃惊！！)</i></p><p>导航任务作为自驾仪最重要的任务，当然还是不放心放在非实时系统上执行，处于安全的考虑，决定将重要的导航和控制任务全部放在单片机上执行。最终算法实现效果良好，单姿态解算的结果就比之前实现的互补滤波好了太多。</p><p>熟悉下EKF的基本原理，剩下的任务就很简单了，思路：微分模型——线性化（求雅各比矩阵）——离散化——卡尔曼基本方程迭代。此处不再赘述详细的理论知识，理论归根结底还是在书本上比较接地气，博客只简要记录实现过程</p><p>用微分方程描述导航模型<br/></p><p>状态量16维：</p><div class=\"highlight\"><pre><code class=\"language-text\">X = [q0; q1; q2; q3; Pn; Pe; Alt; Vn; Ve; Vd; bwx; bwy;  bwz; bax; bay; baz];</code></pre></div><p>测量量9维：</p><div class=\"highlight\"><pre><code class=\"language-matlab\"><span class=\"n\">Zhat</span> <span class=\"p\">=</span> <span class=\"p\">[</span><span class=\"n\">magx</span><span class=\"p\">;</span> <span class=\"n\">magy</span><span class=\"p\">;</span> <span class=\"n\">mayz</span>；<span class=\"n\">Pn</span><span class=\"p\">;</span> <span class=\"n\">Pe</span><span class=\"p\">;</span> <span class=\"n\">Alt</span>；<span class=\"n\">Vn</span><span class=\"p\">;</span> <span class=\"n\">Ve</span><span class=\"p\">;</span> <span class=\"n\">Vd</span><span class=\"p\">];</span>\n</code></pre></div><p>由于在IAR8.22环境下使用了FreeRTOS，编译器不支持C++编程，于是便重新写了一份基于C语言的矩阵运算库，最终将算法在单片机上实现了。</p><p>EKF果然运算量较大，编译器优化开到最高，STM32F407的MCU在168M主频下运算，执行时间也在5ms左右。</p><p>为了给其他任务留时间，最终将导航解算置于125Hz的任务更新率，即每秒中更新125次导航数据。</p><p class=\"ztext-empty-paragraph\"><br/></p><p>仿真实现代码 : ~~轻拍，CSDN没分了:( </p><p>Matlab仿真程序：</p><a href=\"https://link.zhihu.com/?target=https%3A//download.csdn.net/download/tsuibeyond/10697661\" data-draft-node=\"block\" data-draft-type=\"link-card\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">download.csdn.net/downl</span><span class=\"invisible\">oad/tsuibeyond/10697661</span><span class=\"ellipsis\"></span></a><p>C语言工程实现：</p><a href=\"https://link.zhihu.com/?target=https%3A//download.csdn.net/download/tsuibeyond/10697651\" data-draft-node=\"block\" data-draft-type=\"link-card\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">download.csdn.net/downl</span><span class=\"invisible\">oad/tsuibeyond/10697651</span><span class=\"ellipsis\"></span></a><p>单片机工程代码：</p><a href=\"https://link.zhihu.com/?target=https%3A//github.com/tsuibeyond/SFOX_ZERO\" data-draft-node=\"block\" data-draft-type=\"link-card\" data-image=\"https://pic1.zhimg.com/v2-f4f0dae25d07a648e7a7d76e6f38b6d8_ipico.jpg\" data-image-width=\"420\" data-image-height=\"420\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">tsuibeyond/SFOX_ZERO</a><p>在实现的过程中，其实还发现了不少细节的地方需要留意，也还有很多需要继续完善的地方，新的单片机工程代码会不定期在github上更新。</p>", 
            "topic": [
                {
                    "tag": "导航", 
                    "tagLink": "https://api.zhihu.com/topics/19553199"
                }, 
                {
                    "tag": "无人机（UAV）", 
                    "tagLink": "https://api.zhihu.com/topics/19604166"
                }, 
                {
                    "tag": "算法", 
                    "tagLink": "https://api.zhihu.com/topics/19553510"
                }
            ], 
            "comments": []
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/37387504", 
            "userName": "融冰C", 
            "userLink": "https://www.zhihu.com/people/ae1df4b61f956bf551ad9e4d77aa2fd3", 
            "upvote": 4, 
            "title": "机器人：（5）树莓派自驾仪的开发备忘录——互补滤波实现姿态解算", 
            "content": "<p></p><p>姿态解算是自驾仪最基本的内容之一。实现它的算法非常多，这里先使用最简单的互补滤波。</p><hr/><p>航系为东-北-天，直接从word上截图下来第一步：我们约定基本的坐标系，旋转顺序X-Y-Z，机头为Y，右侧为X，符合右手坐标系，导航系为东北天。</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-66ea0da470271205fc367a094ec52616_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"630\" data-rawheight=\"820\" class=\"origin_image zh-lightbox-thumb\" width=\"630\" data-original=\"https://pic3.zhimg.com/v2-66ea0da470271205fc367a094ec52616_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;630&#39; height=&#39;820&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"630\" data-rawheight=\"820\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"630\" data-original=\"https://pic3.zhimg.com/v2-66ea0da470271205fc367a094ec52616_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-66ea0da470271205fc367a094ec52616_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><hr/><p>第二步：对传感器数据进行基本的粗校准（粗校准可以满足基本的使用要求）</p><p>比较精确的测量模型如下：</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-7557f3e30bafb25e370b3104d9d3569e_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"276\" data-rawheight=\"118\" class=\"content_image\" width=\"276\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;276&#39; height=&#39;118&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"276\" data-rawheight=\"118\" class=\"content_image lazy\" width=\"276\" data-actualsrc=\"https://pic3.zhimg.com/v2-7557f3e30bafb25e370b3104d9d3569e_b.jpg\"/></figure><p>K表示缩放比例矩阵，b表示偏置误差，n表示高斯测量噪声。</p><p>在这里，只实现加速度计和陀螺仪零偏误差的消除，磁强计粗校准主要消除偏心误差和椭圆误差。</p><p>具体操作简单，对加速度计和陀螺仪水平静置，在一段时间内取平均值，该值就是要消除的偏置误差（加速度计Z轴要先减去g再做平均）</p><p>磁强计校准要将磁强计分别绕X、Y、Z轴进行360°旋转，取每个轴读数的最大值和最小值，二者相加除以2，就是零偏误差，然后选定一个轴为基本轴，将椭球校正为球：</p><p> 假设已经找到三个轴的最大最小值——<img src=\"https://www.zhihu.com/equation?tex=x_%7Bmax%7D\" alt=\"x_{max}\" eeimg=\"1\"/> ， <img src=\"https://www.zhihu.com/equation?tex=x_%7Bmin%7D\" alt=\"x_{min}\" eeimg=\"1\"/> , <img src=\"https://www.zhihu.com/equation?tex=y_%7Bmax%7D\" alt=\"y_{max}\" eeimg=\"1\"/> , <img src=\"https://www.zhihu.com/equation?tex=y_%7Bmin%7D\" alt=\"y_{min}\" eeimg=\"1\"/> , <img src=\"https://www.zhihu.com/equation?tex=z_%7Bmax%7D\" alt=\"z_{max}\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=z_%7Bmin%7D\" alt=\"z_{min}\" eeimg=\"1\"/> </p><p>则有x轴的零偏误差: <img src=\"https://www.zhihu.com/equation?tex=x_%7Boffset%7D%3D%28x_%7Bmax%7D%2Bx_%7Bmin%7D%29%2F2\" alt=\"x_{offset}=(x_{max}+x_{min})/2\" eeimg=\"1\"/> ，x轴的比例： <img src=\"https://www.zhihu.com/equation?tex=x_%7Bgain%7D%3D1\" alt=\"x_{gain}=1\" eeimg=\"1\"/> </p><p>则有y轴的零偏误差: <img src=\"https://www.zhihu.com/equation?tex=y_%7Boffset%7D%3D%28y_%7Bmax%7D%2By_%7Bmin%7D%29%2F2\" alt=\"y_{offset}=(y_{max}+y_{min})/2\" eeimg=\"1\"/> ，y轴的比例： <img src=\"https://www.zhihu.com/equation?tex=y_%7Bgain%7D%3D%5Cfrac%7Bx_%7Bmax%7D-x_%7Bmin%7D%7D%7By_%7Bmax%7D-y_%7Bmin%7D%7D\" alt=\"y_{gain}=\\frac{x_{max}-x_{min}}{y_{max}-y_{min}}\" eeimg=\"1\"/></p><p>则有z轴的零偏误差: <img src=\"https://www.zhihu.com/equation?tex=z_%7Boffset%7D%3D%28z_%7Bmax%7D%2Bz_%7Bmin%7D%29%2F2\" alt=\"z_{offset}=(z_{max}+z_{min})/2\" eeimg=\"1\"/> ，z轴的比例： <img src=\"https://www.zhihu.com/equation?tex=z_%7Bgain%7D%3D%5Cfrac%7Bx_%7Bmax%7D-x_%7Bmin%7D%7D%7Bz_%7Bmax%7D-z_%7Bmin%7D%7D\" alt=\"z_{gain}=\\frac{x_{max}-x_{min}}{z_{max}-z_{min}}\" eeimg=\"1\"/></p><p>校正后，磁强计三个轴输出为</p><p><img src=\"https://www.zhihu.com/equation?tex=mag_x%3Dx_%7Bgain%7D%2A%28mag_x-x_%7Boffset%7D%29\" alt=\"mag_x=x_{gain}*(mag_x-x_{offset})\" eeimg=\"1\"/> </p><p><img src=\"https://www.zhihu.com/equation?tex=mag_y%3Dy_%7Bgain%7D%2A%28mag_y-y_%7Boffset%7D%29\" alt=\"mag_y=y_{gain}*(mag_y-y_{offset})\" eeimg=\"1\"/> </p><p><img src=\"https://www.zhihu.com/equation?tex=mag_z%3Dz_%7Bgain%7D%2A%28mag_z-z_%7Boffset%7D%29\" alt=\"mag_z=z_{gain}*(mag_z-z_{offset})\" eeimg=\"1\"/> </p><p>三个传感器校正完成后，对9个轴的实际输出数据进行适当的低通滤波，出去噪声，即可进入下一步.（过分的低通会造成数据的延时）</p><p class=\"ztext-empty-paragraph\"><br/></p><p>第三步：互补滤波姿态解算</p><p>互补滤波，主要实现以陀螺仪为基本传感器敏感载体三轴运动，辅以加速度计和磁强计来修正漂移误差，以达到获得稳定姿态信息的目的。</p><p>思路及其简单，直观如下图所示</p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-db8cfce5cd70781ba9ee585e9249e5f7_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"678\" data-rawheight=\"386\" class=\"origin_image zh-lightbox-thumb\" width=\"678\" data-original=\"https://pic4.zhimg.com/v2-db8cfce5cd70781ba9ee585e9249e5f7_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;678&#39; height=&#39;386&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"678\" data-rawheight=\"386\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"678\" data-original=\"https://pic4.zhimg.com/v2-db8cfce5cd70781ba9ee585e9249e5f7_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-db8cfce5cd70781ba9ee585e9249e5f7_b.jpg\"/></figure><p>实际代码如下：</p><p>函数的输入包括两次函数执行的间隔dT,经过校正的三轴陀螺仪数据，三轴加速度计数据和三轴磁强计数据。</p><p>关于如何得到较为精确的dT，可以参考我的另一个小帖子</p><a href=\"https://link.zhihu.com/?target=http%3A//www.stmcu.org/module/forum/thread-616016-1-1.html\" data-draft-node=\"block\" data-draft-type=\"link-card\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">基于STM32CUBEMX的程序时间计时器（简单易用）（STM32L496） - STM32 - 意法半导体STM32/STM8技术社区</a><p>互补原理参见实际代码注释，相信已经非常简单易懂了</p><div class=\"highlight\"><pre><code class=\"language-text\">#define DEG_TO_RAD 0.01745329251994329576f\n#define RAD_TO_DEG 57.29577951308232087679f\n\nvoid ins_update(float dT, float gx, float gy, float gz, float ax, float ay, float az, float mx, float my, float mz)\n{\n  float Kp_acc=15.0f;\n  float Ki_acc=0.008f;\n\n  float Kp_mag=5.0f;\n  float Ki_mag=0.003f;\n\n  static float q0 = 1, q1 = 0, q2 = 0, q3 = 0;\n  float q0_old,q1_old,q2_old,q3_old;\n  float quaternion_norm;\n  /**************************重力校正姿态*******************************/\n  static float acc_exInt = 0, acc_eyInt = 0, acc_ezInt = 0;\n  float acc_norm;\n  float acc_vx, acc_vy, acc_vz;\n  float acc_ex, acc_ey, acc_ez;\n\n  acc_norm = sqrt(ax*ax + ay*ay + az*az);\n  if(acc_norm==0) return;               //传感器未读取数据时，acc_norm为0,此时会出现NAN错误\n  ax = ax / acc_norm;\n  ay = ay / acc_norm;\n  az = az / acc_norm;\n  //重力向量提取\n  acc_vx = 2*(q1*q3 - q0*q2);\n  acc_vy = 2*(q0*q1 + q2*q3);\n  acc_vz = q0*q0 - q1*q1 - q2*q2 + q3*q3 ;\n  //重量向量与实测重力值叉乘得到误差\n  acc_ex = (ay*acc_vz - az*acc_vy) ;\n  acc_ey = (az*acc_vx - ax*acc_vz) ;\n  acc_ez = (ax*acc_vy - ay*acc_vx) ;\n  //误差积分+比例，校正x和y角速度值\n  acc_exInt = acc_exInt + acc_ex * Ki_acc;\n  acc_eyInt = acc_eyInt + acc_ey * Ki_acc;\n  acc_ezInt = acc_ezInt + acc_ez * Ki_acc;\n  gx = gx + Kp_acc*acc_ex + acc_exInt;\n  gy = gy + Kp_acc*acc_ey + acc_eyInt;\n  // gz = gz + Kp_acc*acc_ez + acc_ezInt; //重力向量只能校正x，y轴的角速度值\n\n  /**************************地磁场校正姿态*****************************/\n  static float mag_exInt = 0, mag_eyInt = 0, mag_ezInt = 0;\n  float mag_norm;\n  float mhx,mhy,mhz;\n  float mag_vx, mag_vy, mag_vz;\n  float mag_ex, mag_ey, mag_ez;\n  //将三轴磁强计测量值投影至水平面\n  mhx = mx*cos(t_roll.euler_rad) + my*sin(t_roll.euler_rad)*sin(t_pitch.euler_rad) + mz*sin(t_roll.euler_rad)*cos(t_pitch.euler_rad);\n  mhy = my*cos(t_pitch.euler_rad) - mz*sin(t_pitch.euler_rad);\n  // mhz = -mx*sin(t_roll.euler_rad) + my*cos(t_roll.euler_rad)*sin(t_pitch.euler_rad) + mz*cos(t_roll.euler_rad)*cos(t_pitch.euler_rad);\n\n  mag_norm = sqrt(mhx*mhx + mhy*mhy);\n  mhx = mhx / mag_norm;\n  mhy = mhy / mag_norm;\n  mhz = 0;\n  //磁场向量提取\n  mag_vx = 2*(q1*q2 + q0*q3);\n  mag_vy = 1-2*(q1*q1+q3*q3);\n  mag_vz = 2*(q2*q3 - q0*q1);\n  //磁场向量与实测磁场叉乘得到误差\n  mag_ex = (mhy*mag_vz - mhz*mag_vy) ;\n  mag_ey = (mhz*mag_vx - mhx*mag_vz) ;\n  mag_ez = (mhx*mag_vy - mhy*mag_vx) ;\n  //误差积分+比例，校正z轴角速度值\n  mag_exInt = mag_exInt + mag_ex * Ki_mag;\n  mag_eyInt = mag_eyInt + mag_ey * Ki_mag;\n  mag_ezInt = mag_ezInt + mag_ez * Ki_mag;\n\n  // gx = gx + Kp_mag*mag_ex + mag_exInt;\n  // gy = gy + Kp_mag*mag_ey + mag_eyInt;\n  gz = gz + Kp_mag*mag_ez + mag_ezInt;\n  //四元数迭代\n  q0_old=q0;\n  q1_old=q1;\n  q2_old=q2;\n  q3_old=q3;\n  //四元数更新\n  q0 = q0_old + (-q1_old*gx - q2_old*gy - q3_old*gz) * 0.5f * dT;\n  q1 = q1_old + (q0_old*gx + q2_old*gz -q3_old*gy) * 0.5f * dT;\n  q2 = q2_old + (q0_old*gy - q1_old*gz +q3_old*gx) * 0.5f * dT;\n  q3 = q3_old + (q0_old*gz + q1_old*gy -q2_old*gx) * 0.5f * dT;\n  //四元数归一化\n  quaternion_norm = sqrt(q0*q0 + q1*q1 + q2*q2 + q3*q3);\n  q0 = q0 / quaternion_norm;\n  q1 = q1 / quaternion_norm;\n  q2 = q2 / quaternion_norm;\n  q3 = q3 / quaternion_norm;\n  //输出结果\n  t_pitch.euler_rad = atan2(2*(q2*q3-q0*q1),1-2*(q1*q1+q2*q2));\n  t_roll.euler_rad = -asin(2*(q1*q3+q0*q2));\n  t_yaw.euler_rad = atan2(2*(q1*q2-q0*q3),1-2*(q2*q2+q3*q3));\n  //角度单位弧度转度\n  t_pitch.euler_deg = t_pitch.euler_rad * RAD_TO_DEG;\n  t_roll.euler_deg = t_roll.euler_rad * RAD_TO_DEG;\n  t_yaw.euler_deg = t_yaw.euler_rad * RAD_TO_DEG;\n}</code></pre></div><p></p>", 
            "topic": [
                {
                    "tag": "机器人", 
                    "tagLink": "https://api.zhihu.com/topics/19551273"
                }, 
                {
                    "tag": "树莓派（Raspberry Pi）", 
                    "tagLink": "https://api.zhihu.com/topics/19737690"
                }, 
                {
                    "tag": "无人机（UAV）", 
                    "tagLink": "https://api.zhihu.com/topics/19604166"
                }
            ], 
            "comments": [
                {
                    "userName": "牧童短笛", 
                    "userLink": "https://www.zhihu.com/people/259c6c986ebb5ff25d566043af035c4a", 
                    "content": "谢谢答主，最近在研究无人机，很有帮助", 
                    "likes": 0, 
                    "childComments": []
                }
            ]
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/33372549", 
            "userName": "融冰C", 
            "userLink": "https://www.zhihu.com/people/ae1df4b61f956bf551ad9e4d77aa2fd3", 
            "upvote": 2, 
            "title": "机器人：（4）树莓派自驾仪的开发备忘录——MCU基本驱动的实现", 
            "content": "<p>本文及接下来的几片文章主要讲下如何实现MCU端的驱动，包括程序运行架构，MPU9250，MS5803，遥控器PWM信号捕获，电调控制，GPS，UWB，与树莓派的高效串口通信，匿名地面站的兼容支持等9个部分。</p><p>IAR及MDK是开发STM32应用常用的IDE，也的确很好用，但是都绕不开软件版权的问题，为防止日后翻车，还是更换开发方案。APM在linux下实现的开发环境很极客，完全拥抱开源的nuttx也很有吸引力，但是总体来说有些繁琐，单是环境的环境配置估计就会吓跑一大堆人，自己也懒得折腾。因此，在MCU的开发上，直接选取了SW4STM32这个跨平台的IDE，准备直接借助STM32CUBEMX，加速工程结构的开发。</p><p>SW4STM32下载链接：</p><a href=\"https://link.zhihu.com/?target=http%3A//www.openstm32.org/Downloading%252Bthe%252BSystem%252BWorkbench%252Bfor%252BSTM32%252Binstaller\" data-draft-node=\"block\" data-draft-type=\"link-card\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">http://www.</span><span class=\"visible\">openstm32.org/Downloadi</span><span class=\"invisible\">ng%2Bthe%2BSystem%2BWorkbench%2Bfor%2BSTM32%2Binstaller</span><span class=\"ellipsis\"></span></a><p>STM32CUBEMX下载链接（Version 4.24.0）：</p><a href=\"https://link.zhihu.com/?target=http%3A//www.st.com/content/st_com/zh/products/development-tools/software-development-tools/stm32-software-development-tools/stm32-configurators-and-code-generators/stm32cubemx.html\" data-draft-node=\"block\" data-draft-type=\"link-card\" data-image=\"https://pic4.zhimg.com/v2-33eaf47c891c249b90e7d6b52190ef83_180x120.jpg\" data-image-width=\"700\" data-image-height=\"371\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">STM32CubeMX - STM32Cube initialization code generator - STMicroelectronics</a><p>进入本文主题，关于MCU部分的程序运行架构，斟酌多次，还是放弃使用RTOS，直接设计分时处理的程序结构，暂时够用。</p><p>驱动的内容还是蛮多，但是终归是体力活，本文就不一点一点的描述怎样实现驱动了，直接github上开源相关代码，此时此刻所有任务基本都目的就是为了后面的算法实现，虽然着实含金量不多。对单片机驱动开发感兴趣的同学可以自行百度了解学习。</p><a href=\"https://link.zhihu.com/?target=https%3A//github.com/tsuibeyond/SFOX_ZERO\" data-draft-node=\"block\" data-draft-type=\"link-card\" data-image=\"https://pic1.zhimg.com/v2-f4f0dae25d07a648e7a7d76e6f38b6d8_ipico.jpg\" data-image-width=\"420\" data-image-height=\"420\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">tsuibeyond/SFOX_ZERO</a><p>但是，值得一提的是，树莓派3B上有个小坑，板子上的串口不能直接使用，需要做一些改动才行。</p><p>在最后一行加上：</p><p>dtoverlay=pi3-disable-bt</p><p>然后 sudo vi /boot/cmdline.txt</p><p>删除 &#34;<code>console=serial0,115200</code>&#34;</p><p>最后，重启 </p><p>sudo reboot</p><p>经过这样一番操作，树莓派3B上的串口才能正常工作</p><p>参考：</p><a href=\"https://link.zhihu.com/?target=https%3A//raspberrypi.stackexchange.com/questions/45570/how-do-i-make-serial-work-on-the-raspberry-pi3\" data-draft-node=\"block\" data-draft-type=\"link-card\" data-image=\"https://pic3.zhimg.com/v2-1ac0a4bdecd4194bf8870ad7dcfca166_ipico.jpg\" data-image-width=\"316\" data-image-height=\"316\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">How do I make serial work on the Raspberry Pi3</a><p>最后实际的树莓派串口通信测试如下图所示，PC上通过USB转TTL连接树莓派，通过串口助手定时发送数据，树莓派上直接运行的cutecom显示接收到的数据。</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-d2139058460450bd604b202e128f63a1_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1432\" data-rawheight=\"567\" class=\"origin_image zh-lightbox-thumb\" width=\"1432\" data-original=\"https://pic2.zhimg.com/v2-d2139058460450bd604b202e128f63a1_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1432&#39; height=&#39;567&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1432\" data-rawheight=\"567\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1432\" data-original=\"https://pic2.zhimg.com/v2-d2139058460450bd604b202e128f63a1_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-d2139058460450bd604b202e128f63a1_b.jpg\"/></figure><p></p>", 
            "topic": [
                {
                    "tag": "STM32", 
                    "tagLink": "https://api.zhihu.com/topics/19855229"
                }, 
                {
                    "tag": "机器人", 
                    "tagLink": "https://api.zhihu.com/topics/19551273"
                }, 
                {
                    "tag": "无人机（UAV）", 
                    "tagLink": "https://api.zhihu.com/topics/19604166"
                }
            ], 
            "comments": []
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/33370243", 
            "userName": "融冰C", 
            "userLink": "https://www.zhihu.com/people/ae1df4b61f956bf551ad9e4d77aa2fd3", 
            "upvote": 4, 
            "title": "机器人：（3）树莓派自驾仪的开发备忘录——ROS环境搭建", 
            "content": "<p></p><p>ROS的安装老生常谈，本文的实现主要参考官方的安装文档</p><a href=\"https://link.zhihu.com/?target=http%3A//wiki.ros.org/kinetic/Installation\" data-draft-node=\"block\" data-draft-type=\"link-card\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">kinetic/Installation - ROS Wiki</a><p>ROS版本选Kinetic，安装过程简单无脑，直接按照官网wiki的教程执行下去就可以</p><p class=\"ztext-empty-paragraph\"><br/></p><p>更新 sources.list</p><ul><li>sudo sh -c &#39;echo &#34;deb <a href=\"https://link.zhihu.com/?target=http%3A//packages.ros.org/ros/ubuntu\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">http://</span><span class=\"visible\">packages.ros.org/ros/ub</span><span class=\"invisible\">untu</span><span class=\"ellipsis\"></span></a> $(lsb_release -sc) main&#34; &gt; /etc/apt/sources.list.d/ros-latest.list&#39;</li></ul><p>设置 key</p><ul><li>sudo apt-key adv --keyserver hkp://<a href=\"https://link.zhihu.com/?target=http%3A//ha.pool.sks-keyservers.net/\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">ha.pool.sks-keyservers.net:80</a> --recv-key 421C365BD9FF1F717815A3895523BAEEB01FA116</li></ul><p>更新软件包索引</p><ul><li>sudo apt-get update</li></ul><p>安装Desktop-Full版本（也可以选其他比较精简的版本），时间较长，漫长的等待（3个小时左右）</p><ul><li>sudo apt-get install ros-kinetic-desktop-full</li></ul><p>初始化rosdep</p><ul><li>sudo rosdep init</li><li>rosdep update</li></ul><p>系统环境配置</p><ul><li>echo &#34;source /opt/ros/kinetic/setup.bash&#34; &gt;&gt; ~/.bashrc</li><li>source ~/.bashrc</li></ul><p>安装其他依赖包</p><ul><li>sudo apt-get install python-rosinstall python-rosinstall-generator python-wstool build-essential</li></ul><p>ROS环境至此安装完毕，直接命令行运行 roscore 验证即可。</p><p>基本的工程、环境等问题没有技术含量，但是在实际操作过程中依旧少不了这些体力活，争取早点建立完整的工程环境，开启倒腾算法的新阶段。</p><p>后面将进行ROS与单片机（实时性任务）之间的通信。打样的板子还在路上，先来个3D预览图（最下的两排与树莓派相连，四角的孔位也与树莓派的位置保持一致）：</p><figure data-size=\"normal\"><noscript><img src=\"https://pic3.zhimg.com/v2-3f37ac95a33ccf2fd4c77b234c56d70a_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"604\" data-rawheight=\"519\" class=\"origin_image zh-lightbox-thumb\" width=\"604\" data-original=\"https://pic3.zhimg.com/v2-3f37ac95a33ccf2fd4c77b234c56d70a_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;604&#39; height=&#39;519&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"604\" data-rawheight=\"519\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"604\" data-original=\"https://pic3.zhimg.com/v2-3f37ac95a33ccf2fd4c77b234c56d70a_r.jpg\" data-actualsrc=\"https://pic3.zhimg.com/v2-3f37ac95a33ccf2fd4c77b234c56d70a_b.jpg\"/></figure><p></p>", 
            "topic": [
                {
                    "tag": "机器人操作平台 (ROS)", 
                    "tagLink": "https://api.zhihu.com/topics/19821635"
                }, 
                {
                    "tag": "嵌入式开发", 
                    "tagLink": "https://api.zhihu.com/topics/19610823"
                }, 
                {
                    "tag": "无人机（UAV）", 
                    "tagLink": "https://api.zhihu.com/topics/19604166"
                }
            ], 
            "comments": []
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/33356890", 
            "userName": "融冰C", 
            "userLink": "https://www.zhihu.com/people/ae1df4b61f956bf551ad9e4d77aa2fd3", 
            "upvote": 4, 
            "title": "机器人：（2）树莓派自驾仪的开发备忘录——ubuntu mate新镜像准备工作", 
            "content": "<p>树莓派的生态很丰富，性价比也较高，因此，系统中的非实时部分主要由树莓派3B挑大梁。</p><p>本篇文章内容主要针对一个崭新的树莓派而写，谈谈如何配置一个新鲜的树莓派，为后面的开发做准备。</p><p class=\"ztext-empty-paragraph\"><br/></p><p>由于后面预备采用ROS环境进行开发，因此采用与ROS兼容较好的ubuntu mate系统来刷树莓派。</p><p>提前需要准备的东西有：</p><p>原始镜像下载地址：</p><a href=\"https://link.zhihu.com/?target=https%3A//ubuntu-mate.org/download/\" data-draft-node=\"block\" data-draft-type=\"link-card\" data-image=\"https://pic1.zhimg.com/v2-43dc2144074aaf9b8464fdcc88f902fc_180x120.jpg\" data-image-width=\"1023\" data-image-height=\"448\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">Download</a><p>镜像烧写工具：</p><a href=\"https://link.zhihu.com/?target=https%3A//sourceforge.net/projects/win32diskimager/\" data-draft-node=\"block\" data-draft-type=\"link-card\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">win32diskimager</a><p class=\"ztext-empty-paragraph\"><br/></p><p>SD卡一张：16G</p><p>网线一根</p><p>主机（win10）远程桌面软件VNC-Viewer，比windows自带的远程桌面工具强大很多</p><a href=\"https://link.zhihu.com/?target=https%3A//www.realvnc.com/en/connect/download/viewer/\" data-draft-node=\"block\" data-draft-type=\"link-card\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">Download VNC Viewer | RealVNC</a><p>SFTP软件安装（win10），方便PC与树莓派之间文件传输，推荐FileZilla</p><a href=\"https://link.zhihu.com/?target=https%3A//filezilla-project.org/download.php%3Ftype%3Dclient\" data-draft-node=\"block\" data-draft-type=\"link-card\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">filezilla-project.org/d</span><span class=\"invisible\">ownload.php?type=client</span><span class=\"ellipsis\"></span></a><p>(可选)主机（win10）ip扫描软件，利用这个小工具，可以在不接显示器、键盘等外设的情况下查看局域网内树莓派的IP地址</p><a href=\"https://link.zhihu.com/?target=http%3A//www.advanced-ip-scanner.com/cn/help/\" data-draft-node=\"block\" data-draft-type=\"link-card\" data-image=\"https://pic1.zhimg.com/v2-0aae1cc3c9f4d8ec6f45c2dd795cf398_180x120.jpg\" data-image-width=\"653\" data-image-height=\"474\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">Advanced IP Scanner - 帮助</a><p class=\"ztext-empty-paragraph\"><br/></p><p>给树莓派刷系统很简单，不再赘述，但是系统刷好后，第一次启动最好外接显示器和鼠标&amp;键盘外设，在启动过程中设置用户名、密码等，这里主要谈谈系统刷好之后的配置情况。</p><p>树莓派系统配置：</p><ol><li>安装git：sudo apt-get install git</li><li>安装vim：sudo apt-get install vim</li><li>配置git：</li></ol><ul><li>配置用户名（请替换自己的git账户username）：git config --global user.name &#34;username&#34;    </li><li>配置邮箱地址（请替换自己的gitz账户邮箱email）：git config --global user.email &#34;emailaddress@xxxx.com&#34;</li></ul><p>配置远程桌面，直接用脚本配置简单方便，（借了朵花，主要内容参考了别人的博客：<a href=\"https://link.zhihu.com/?target=http%3A//blog.csdn.net/longhr/article/details/51657610\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">http://</span><span class=\"visible\">blog.csdn.net/longhr/ar</span><span class=\"invisible\">ticle/details/51657610</span><span class=\"ellipsis\"></span></a>）</p><ul><ul><li>wget <a href=\"https://link.zhihu.com/?target=https%3A//github.com/tsuibeyond/ubuntu1604hub/blob/master/ubuntu1604VNC.sh\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">https://</span><span class=\"visible\">github.com/tsuibeyond/u</span><span class=\"invisible\">buntu1604hub/blob/master/ubuntu1604VNC.sh</span><span class=\"ellipsis\"></span></a></li><li>添加脚本的权限：sudo chmod +x ubuntu1604VNC.sh</li><li>sudo ./ubuntu1604VNC.sh（过程中会要求输入密码，请牢记自己的密码）</li><li>脚本配置完毕后，会自动重启生效</li><li>使用ifconfig命令查看树莓派的IP地址</li></ul></ul><p>使用VNC-Viewer尝试连接树莓派的远程桌面，直接输入刚刚记录下的IP地址进行连接，如果刚刚没有记录IP地址，可以使用Advanced_IP_Scanner软件查看局域网（与arp -a命令类似，但是可以可以看到制造商的名称，方便识别哪个是树莓派）</p><p class=\"ztext-empty-paragraph\"><br/></p><p>SD卡分区大小重新调整，充分使用SD卡的空间，命令流如下</p><ul><ul><li>sudo fdisk /dev/mmcblk0</li><li>d</li><li>2</li><li>n</li><li>p</li><li>若干回车</li><li>w（保存）</li><li>重启系统</li><li>sudo resize2fs /dev/mmcblk0p2</li><li>df -h（查看此时磁盘使用情况）</li></ul></ul><p>树莓派在编译的时候会消耗很多CPU和内存资源，可能会出现死机和编译器内部错误，为了防止这种情况发生，需修改系统交换空间大小</p><ul><ul><li>使用命令 free -mt 查看系统内存详细使用情况</li></ul></ul><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-fdfe02f1f09a3ebe18ae15b10b4bc505_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"596\" data-rawheight=\"185\" class=\"origin_image zh-lightbox-thumb\" width=\"596\" data-original=\"https://pic2.zhimg.com/v2-fdfe02f1f09a3ebe18ae15b10b4bc505_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;596&#39; height=&#39;185&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"596\" data-rawheight=\"185\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"596\" data-original=\"https://pic2.zhimg.com/v2-fdfe02f1f09a3ebe18ae15b10b4bc505_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-fdfe02f1f09a3ebe18ae15b10b4bc505_b.jpg\"/></figure><ul><ul><li>sudo fallocate -l 1G /swapfile</li><li>sudo chmod 600 /swapfile</li><li>sudo mkswap /swapfile，通知系统挂载swap</li><li>sudo swapon /swapfile，通知系统启用swap</li><li>sudo swapon -s，查看信息</li><li>完成swap设置，如果想移除swap执行sudo swapoff /swapfile &amp;&amp; sudo rm /swapfile</li><li>sudo vim /etc/fstab，编辑脚本</li><li>最后面添加一行/swapfile  none  swap  sw  0  0，然后保存</li><li>重新启动，执行free -mt再次查看</li></ul></ul><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-01763fa8043e9815c3668c189c05be15_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"719\" data-rawheight=\"227\" class=\"origin_image zh-lightbox-thumb\" width=\"719\" data-original=\"https://pic2.zhimg.com/v2-01763fa8043e9815c3668c189c05be15_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;719&#39; height=&#39;227&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"719\" data-rawheight=\"227\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"719\" data-original=\"https://pic2.zhimg.com/v2-01763fa8043e9815c3668c189c05be15_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-01763fa8043e9815c3668c189c05be15_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p>vim配置，这个看个人喜好，自己常用下面现成的配置，安装简单无脑，具体使用方式参见链接中README.markdown文件</p><a href=\"https://link.zhihu.com/?target=https%3A//github.com/tsuibeyond/spf13-vim\" data-draft-node=\"block\" data-draft-type=\"link-card\" data-image=\"https://pic1.zhimg.com/v2-f4f0dae25d07a648e7a7d76e6f38b6d8_ipico.jpg\" data-image-width=\"420\" data-image-height=\"420\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">tsuibeyond/spf13-vim</a><p>ssh配置：</p><ul><li>安装：sudo apt-get install openssh-server</li><li>启动：sudo /etc/init.d/ssh start</li><li>此时，可以利用FileZilla软件进行尝试连接进行文件传输，也可以用其他ssh工具进行远程登陆</li><li>设置开机启动：sudo vi /etc/rc.local   ,在exit 0语句前加入  /etc/init.d/ssh start</li><li>重启后，使用命令 ps -e | grep ssh 进行测试，看到sshd即可</li></ul><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-0935d99a35233f382e9684717701986d_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"618\" data-rawheight=\"120\" class=\"origin_image zh-lightbox-thumb\" width=\"618\" data-original=\"https://pic2.zhimg.com/v2-0935d99a35233f382e9684717701986d_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;618&#39; height=&#39;120&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"618\" data-rawheight=\"120\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"618\" data-original=\"https://pic2.zhimg.com/v2-0935d99a35233f382e9684717701986d_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-0935d99a35233f382e9684717701986d_b.jpg\"/></figure><p>至此，一个树莓派使用前的基本配置结束，下文将简单说明ROS环境的安装。</p><p class=\"ztext-empty-paragraph\"><br/></p><p><b>微信公众号：墨阑萱</b></p><p><b>新浪微博：融冰C</b></p><p>知乎专栏：</p><a href=\"https://zhuanlan.zhihu.com/c_132713269\" data-draft-node=\"block\" data-draft-type=\"link-card\" data-image=\"https://pic3.zhimg.com/v2-adc58f4caf4c6f8ce287313135a5138e_ipico.jpg\" data-image-width=\"959\" data-image-height=\"959\" class=\"internal\">墨阑萱</a><p></p>", 
            "topic": [
                {
                    "tag": "树莓派（Raspberry Pi）", 
                    "tagLink": "https://api.zhihu.com/topics/19737690"
                }, 
                {
                    "tag": "机器人操作平台 (ROS)", 
                    "tagLink": "https://api.zhihu.com/topics/19821635"
                }
            ], 
            "comments": []
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/31576736", 
            "userName": "融冰C", 
            "userLink": "https://www.zhihu.com/people/ae1df4b61f956bf551ad9e4d77aa2fd3", 
            "upvote": 3, 
            "title": "机器人：（1）入坑备忘录", 
            "content": "<p>好奇之心与改变之力</p><p>无疑，机器人的发展日新月异。多旋翼作为机器人的代表，为广大的工科学生和实验室提供了一个极好的综合实验平台，内容涉及：通信、导航、控制、机器视觉，甚至人工智能。只要想象力足够强大，它能做的更多。</p><p>这里，借助知乎专栏，记录下入坑的故事。</p><p>在这个故事的剧本里，我们会一点一点的记录机器人自控器的硬件、软件的设计，大到系统架构、算法思想，小到电路元器件的选型、控制器代码的实现，从无到有的设计出一款作品。不断更新，不断迭代，不断成长。</p><p>我们要实现的系统的概览图</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-c2311cfafc5d217e01ceb70b07cac821_b.jpg\" data-size=\"normal\" data-rawwidth=\"514\" data-rawheight=\"523\" class=\"origin_image zh-lightbox-thumb\" width=\"514\" data-original=\"https://pic2.zhimg.com/v2-c2311cfafc5d217e01ceb70b07cac821_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;514&#39; height=&#39;523&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"514\" data-rawheight=\"523\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"514\" data-original=\"https://pic2.zhimg.com/v2-c2311cfafc5d217e01ceb70b07cac821_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-c2311cfafc5d217e01ceb70b07cac821_b.jpg\"/><figcaption>机器人系统概览图</figcaption></figure><p>系统由两个部分组成，按照系统的实时性部分来划分，可以分为实时部分和非实时部分。实时部分主要完成对实时性要求比较高的任务，如：旋翼姿态控制、基本传感器的数据获取（IMU、GPS气压计等）；非实时部分主要用来实现机器视觉、网络数据通信以及更高级的算法等。其中，实时部分采用Cortex-M微控制器，提供基本的实时控制与导航，保证基本的运动功能，重点在于安全、可靠；非实时部分采用Cortex-A系统处理，为上层的应用提供强大的运算能力和丰富的开发工具。</p><p>单片机作为实时部分的处理器，成本低廉，实时性佳，搭配IAR或KEIL等IDE进行开发，可以实现基本的多旋翼飞行控制。但是毕竟还是属于微控制器的范畴，在实际的开发上还存在诸多的不便。矩阵运算就是其中的一大软肋，多数IDE的工具链不能支持常规的面向对象矩阵运算库（如eigen）。非实时部分的最大优势就是运算能力强大，开源生态环境良好。基于Linux操作系统和ROS的开发快捷、方便，有众多的开源工具及代码可以利用，我们可以装上eigen，opencv、python等利器，进一步扩展机器人自控器的功能。</p><p class=\"ztext-empty-paragraph\"><br/></p><p><b>微信公众号：墨阑萱</b></p><p><b>新浪微博：融冰C</b></p><p>知乎专栏：<a href=\"https://zhuanlan.zhihu.com/c_132713269\" class=\"internal\">墨阑萱</a></p><p></p>", 
            "topic": [
                {
                    "tag": "机器人", 
                    "tagLink": "https://api.zhihu.com/topics/19551273"
                }
            ], 
            "comments": []
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/31500421", 
            "userName": "融冰C", 
            "userLink": "https://www.zhihu.com/people/ae1df4b61f956bf551ad9e4d77aa2fd3", 
            "upvote": 0, 
            "title": "笔记：（3）非线性最小二乘问题（non-linear least squares problem）", 
            "content": "<p>标题先占一个坑，这几天补上</p>", 
            "topic": [
                {
                    "tag": "算法", 
                    "tagLink": "https://api.zhihu.com/topics/19553510"
                }
            ], 
            "comments": [
                {
                    "userName": "五个半橘子", 
                    "userLink": "https://www.zhihu.com/people/947fb240ea8363a357e2fab4c33d038d", 
                    "content": "还没补呢？不是弃坑了吧_(:D)∠)_", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "话不多", 
                    "userLink": "https://www.zhihu.com/people/56b44267b8dec426a01c40f34b009f62", 
                    "content": "<p>快来填坑</p>", 
                    "likes": 0, 
                    "childComments": []
                }
            ]
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/31095177", 
            "userName": "融冰C", 
            "userLink": "https://www.zhihu.com/people/ae1df4b61f956bf551ad9e4d77aa2fd3", 
            "upvote": 19, 
            "title": "笔记：（2）TDOA和TOA的定位对比", 
            "content": "<h2>简单的写在前面</h2><p>来张图，对两种方法有直观的认识：</p><p>TDOA和TOA，都是基于测距原理的定位方法。只要涉及到定位的应用，基本都绕不开这两种方法。典型应用就是GPS，其定位机理其实就是TOA。</p><p>TOA：the Time of Arrival</p><p>TDOA：the Time Difference of Arrival</p><p>本次笔记，就根据文献的内容，记录下两种方法在理论上的分析对比。</p><p>主要原文：</p><p>Kaune, Regina. &#34;Accuracy studies for TDOA and TOA localization.&#34; <i>Information Fusion (FUSION), 2012 15th International Conference on</i>. IEEE, 2012.</p><hr/><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-dbdf0bebec976a74017be0143ab50747_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"511\" data-rawheight=\"400\" class=\"origin_image zh-lightbox-thumb\" width=\"511\" data-original=\"https://pic4.zhimg.com/v2-dbdf0bebec976a74017be0143ab50747_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;511&#39; height=&#39;400&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"511\" data-rawheight=\"400\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"511\" data-original=\"https://pic4.zhimg.com/v2-dbdf0bebec976a74017be0143ab50747_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-dbdf0bebec976a74017be0143ab50747_b.jpg\"/></figure><p class=\"ztext-empty-paragraph\"><br/></p><p>如上图所示，TDOA定位原理实际上就是以基站为焦点的双曲线的交点，TOA定位原理实际上就是以基站为圆心的圆的交点。（盗用原文中的图）</p><p>关于两种方法的讨论已经有很多文献研究过了，慢慢来参悟（文献那么多，读死算了）。</p><p>本文主要使用CRLB来对比下两种方式的定位效果（实际上，两者相同）。另外，在方差相同的情况下，参考基站的选取不影响定位精度。代价函数的特征分析说明TOA的定位性能高于TDOA，但是蒙特卡洛分析却表明两者的估计精度基本相同。</p><p>内容约定：</p><p>移动标签——tag</p><p>定位基站——anchor</p><p>坐标数据均为实数</p><hr/><h2>基本原理</h2><p>记标签tag的位置为 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bx%7D%3D%28x%2Cy%29%5ET\" alt=\"\\bold{x}=(x,y)^T\" eeimg=\"1\"/> ，anchor的位置为 <img src=\"https://www.zhihu.com/equation?tex=x%5E%7B%28i%29%7D%2Ci%3D1%2C...%2CM\" alt=\"x^{(i)},i=1,...,M\" eeimg=\"1\"/> 。发射电磁波信号，由时钟同步的基站anchor被动地接收信号，并利用接收到的信号进行分析定位。</p><p class=\"ztext-empty-paragraph\"><br/></p><p>对于TOA场景，TOA由信号的发射时刻 <img src=\"https://www.zhihu.com/equation?tex=t_0\" alt=\"t_0\" eeimg=\"1\"/> 和信号的传播时间组成，其表达式为</p><p><img src=\"https://www.zhihu.com/equation?tex=TOA%3Dt_0%2B%5Cfrac%7Br_i%7D%7Bc%7D+%5Cquad+%281%29\" alt=\"TOA=t_0+\\frac{r_i}{c} \\quad (1)\" eeimg=\"1\"/> </p><p>其中</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbegin%7Balign%7D+r_i+%26%3D+%7C%7C%5Cbold%7Bx%7D-%5Cbold%7Bx%7D%5E%7B%28i%29%7D%7C%7C%5C%5C+%26%3D%5Csqrt%7B%28x-x%5E%7B%28i%29%7D%29%5E2%2B%28y-y%5E%7B%28i%29%7D%29%5E2%7D+%5Cend%7Balign%7D%5Cquad+%282%29\" alt=\"\\begin{align} r_i &amp;= ||\\bold{x}-\\bold{x}^{(i)}||\\\\ &amp;=\\sqrt{(x-x^{(i)})^2+(y-y^{(i)})^2} \\end{align}\\quad (2)\" eeimg=\"1\"/> </p><p><img src=\"https://www.zhihu.com/equation?tex=i\" alt=\"i\" eeimg=\"1\"/> 表示anchor序号， <img src=\"https://www.zhihu.com/equation?tex=c\" alt=\"c\" eeimg=\"1\"/> 表示光速。</p><p>根据（1）将时间转换为距离，有公式</p><p><img src=\"https://www.zhihu.com/equation?tex=h_i%3Dr_0%2Br_i%5Cquad%283%29\" alt=\"h_i=r_0+r_i\\quad(3)\" eeimg=\"1\"/> </p><p>其中 <img src=\"https://www.zhihu.com/equation?tex=r_0%3Dct_0\" alt=\"r_0=ct_0\" eeimg=\"1\"/> 是未知的发射时间与光速 <img src=\"https://www.zhihu.com/equation?tex=c\" alt=\"c\" eeimg=\"1\"/> 的乘积。</p><p>实际上，TOA的测量含有比较大的噪声，这里将其测量噪声建模为高斯白噪声，并假设各个anchor的测量噪声互不相关，则测量方程</p><p><img src=\"https://www.zhihu.com/equation?tex=z_i%3Dh_i%28%5Cbold%7Bx%7D%29%2Bv%2Cv%5Csim+N%280%2C%5Csigma_i%5E2%29%5Cquad+%284%29\" alt=\"z_i=h_i(\\bold{x})+v,v\\sim N(0,\\sigma_i^2)\\quad (4)\" eeimg=\"1\"/> </p><p>由于高斯测量噪声的存在，则单个TOA测量满足</p><p><img src=\"https://www.zhihu.com/equation?tex=p%28z_i%7C%5Cbold%7Bx%7D%29%3D%5Cfrac%7B1%7D%7B%5Csqrt%7B2%5Cpi%7D%5Csigma%5E2%7Dexp%28-%5Cfrac%7B1%7D%7B2%5Csigma_i%5E2%7D%28z_i-h_i%28%5Cbold%7Bx%7D%29%29%5E2%29%5Cquad+%285%29\" alt=\"p(z_i|\\bold{x})=\\frac{1}{\\sqrt{2\\pi}\\sigma^2}exp(-\\frac{1}{2\\sigma_i^2}(z_i-h_i(\\bold{x}))^2)\\quad (5)\" eeimg=\"1\"/> </p><p>对于完整的测量集有</p><p><img src=\"https://www.zhihu.com/equation?tex=p%28z_t%7C%5Cbold%7Bx%7D%29%3D+%5Cfrac%7B1%7D%7B%5Csqrt%7B%7C2%5Cpi%5Cbold%7BR%7D_t%7C%7D%7Dexp%28-%5Cfrac%7B1%7D%7B2%7D%28z_t-h_t%28%5Cbold%7Bx%7D%29%29%5Cbold%7BR_t%5E%7B-1%7D%7D%28z_t-h_t%28%5Cbold%7Bx%7D%29%29%29\" alt=\"p(z_t|\\bold{x})= \\frac{1}{\\sqrt{|2\\pi\\bold{R}_t|}}exp(-\\frac{1}{2}(z_t-h_t(\\bold{x}))\\bold{R_t^{-1}}(z_t-h_t(\\bold{x})))\" eeimg=\"1\"/> </p><p>其中 <img src=\"https://www.zhihu.com/equation?tex=%7C%5Cquad%7C\" alt=\"|\\quad|\" eeimg=\"1\"/> 表示行列式， <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bh%7D_t%28%5Cbold%7Bx%7D%29%3D%28h_1%28%5Cbold%7Bx%7D%29%2C...%2Ch_M%28%5Cbold%7Bx%7D%29%29%5ET\" alt=\"\\bold{h}_t(\\bold{x})=(h_1(\\bold{x}),...,h_M(\\bold{x}))^T\" eeimg=\"1\"/> ，协方差矩阵</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BR%7D_t%3D+%5Cleft%28+%5Cbegin%7Bmatrix%7D+%5Csigma%5E2_1%260%26%5Cdots%260%5C%5C+0%26%5Csigma%5E2_2%26%5Cdots%260%5C%5C+%5Cvdots%26%5Cddots%26%5Cddots%260%5C%5C+0%26%5Cdots%260%26%5Csigma%5E2_M+%5Cend%7Bmatrix%7D+%5Cright%29+%5Cquad+%287%29\" alt=\"\\bold{R}_t= \\left( \\begin{matrix} \\sigma^2_1&amp;0&amp;\\dots&amp;0\\\\ 0&amp;\\sigma^2_2&amp;\\dots&amp;0\\\\ \\vdots&amp;\\ddots&amp;\\ddots&amp;0\\\\ 0&amp;\\dots&amp;0&amp;\\sigma^2_M \\end{matrix} \\right) \\quad (7)\" eeimg=\"1\"/> </p><p class=\"ztext-empty-paragraph\"><br/></p><p>对于TDOA场景。两个TOA测量量便可以得到一个TDOA，时间乘以光速便可以得到距离差</p><p><img src=\"https://www.zhihu.com/equation?tex=h_%7Bi%2Cj%7D%3Dr_i-r_j%2C+i%2Cj+%5Cin+%5C%7B1%2C%5Cdots%2CM%5C%7D+%5Cwedge+j+%5Cne+i+%5Cquad+%288%29\" alt=\"h_{i,j}=r_i-r_j, i,j \\in \\{1,\\dots,M\\} \\wedge j \\ne i \\quad (8)\" eeimg=\"1\"/> </p><p>假设加性高斯白噪声互不相关，测量方程可以写为：</p><p><img src=\"https://www.zhihu.com/equation?tex=z_%7Bi%2Cj%7D%3Dh_%7Bi%2Cj%7D%28%5Cbold%7Bx%7D_k%29%2Bv_%7Bi%2Cj%7D%2Cv_%7Bi%2Cj%7D%5Csim+N%280%2C%5Csigma%5E2_i%2B%5Csigma%5E2_j%29+%5Cquad+%289%29\" alt=\"z_{i,j}=h_{i,j}(\\bold{x}_k)+v_{i,j},v_{i,j}\\sim N(0,\\sigma^2_i+\\sigma^2_j) \\quad (9)\" eeimg=\"1\"/> </p><p>其中测量噪声 <img src=\"https://www.zhihu.com/equation?tex=v_%7Bi%2Cj%7D%3Dv_i%2Bv_j\" alt=\"v_{i,j}=v_i+v_j\" eeimg=\"1\"/>，其方差为 <img src=\"https://www.zhihu.com/equation?tex=%5Csigma_i%5E2%2B%5Csigma_j%5E2\" alt=\"\\sigma_i^2+\\sigma_j^2\" eeimg=\"1\"/> 。</p><p>在TDOA定位系统中，通常使用同一个公用的参考基站，即M个基站，总共可以得到M-1个测量值。以三个anchor为例，将anchor 1视为参考anchor，则测量向量为</p><p><img src=\"https://www.zhihu.com/equation?tex=z_%7B%5CDelta+t1%7D%3D%28z_%7B12%7D%2Cz_%7B13%7D%29%5ET\" alt=\"z_{\\Delta t1}=(z_{12},z_{13})^T\" eeimg=\"1\"/> </p><p>测量方程为</p><p><img src=\"https://www.zhihu.com/equation?tex=h_%7B%5CDelta+t1%7D+%3D+%28h_%7B12%7D%2Ch_%7B13%7D%29%5ET\" alt=\"h_{\\Delta t1} = (h_{12},h_{13})^T\" eeimg=\"1\"/> </p><p>他们的关系为</p><p><img src=\"https://www.zhihu.com/equation?tex=p%28z_%7B%5CDelta+t1%7D%7C%5Cbold%7Bx%7D%29%3D+%5Cfrac%7B1%7D%7B%7C%5Csqrt%7B2%5Cpi%5Cbold%7BR%7D_%7B%5CDelta+t1%7D%7D%7C%7Dexp%28-%5Cfrac%7B1%7D%7B2%7D%28z_%7B%5CDelta_%7Bt1%7D%7D-h_%7B%5CDelta+t1%7D%28%5Cbold%7Bx%7D%29%29%5ET%5Cbold%7BR%7D%5E%7B-1%7D_%7B%5CDelta+t1%7D%28z_%7B%5CDelta+t1%7D-h_%7B%5CDelta+t1%7D%28%5Cbold%7Bx%7D%29%29+%5Cquad+%2810%29\" alt=\"p(z_{\\Delta t1}|\\bold{x})= \\frac{1}{|\\sqrt{2\\pi\\bold{R}_{\\Delta t1}}|}exp(-\\frac{1}{2}(z_{\\Delta_{t1}}-h_{\\Delta t1}(\\bold{x}))^T\\bold{R}^{-1}_{\\Delta t1}(z_{\\Delta t1}-h_{\\Delta t1}(\\bold{x})) \\quad (10)\" eeimg=\"1\"/> </p><p>其中 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BR%7D_%7B%5CDelta+t1%7D\" alt=\"\\bold{R}_{\\Delta t1}\" eeimg=\"1\"/> 是测量量的协方差矩阵。根据文献【】，其测量的标准差与距离（anchor与tag之间）相关，但是在这里我们暂时忽略掉。</p><p>本文中，假定测量值有恒定的方差，即</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BR%7D_%7B%5CDelta+t1%7D%3D+%5Cleft%28+%5Cbegin%7Bmatrix%7D+%5Csigma_1%5E2%2B%5Csigma_2%5E2%26%5Csigma_1%5E2%5C%5C+%5Csigma_1%5E2%26%5Csigma_1%5E2%2B%5Csigma_3%5E2+%5Cend%7Bmatrix%7D+%5Cright%29+%5Cquad+%2811%29\" alt=\"\\bold{R}_{\\Delta t1}= \\left( \\begin{matrix} \\sigma_1^2+\\sigma_2^2&amp;\\sigma_1^2\\\\ \\sigma_1^2&amp;\\sigma_1^2+\\sigma_3^2 \\end{matrix} \\right) \\quad (11)\" eeimg=\"1\"/> </p><p>如果用anchor 2作为参考基站</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BR%7D_%7B%5CDelta+t1%7D%3D+%5Cleft%28+%5Cbegin%7Bmatrix%7D+%5Csigma_2%5E2%2B%5Csigma_1%5E2%26%5Csigma_2%5E2%5C%5C+%5Csigma_2%5E2%26%5Csigma_2%5E2%2B%5Csigma_3%5E2+%5Cend%7Bmatrix%7D+%5Cright%29+%5Cquad+%2812%29\" alt=\"\\bold{R}_{\\Delta t1}= \\left( \\begin{matrix} \\sigma_2^2+\\sigma_1^2&amp;\\sigma_2^2\\\\ \\sigma_2^2&amp;\\sigma_2^2+\\sigma_3^2 \\end{matrix} \\right) \\quad (12)\" eeimg=\"1\"/> </p><p>如果用anchor 3作为参考基站</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BR%7D_%7B%5CDelta+t1%7D%3D+%5Cleft%28+%5Cbegin%7Bmatrix%7D+%5Csigma_3%5E2%2B%5Csigma_2%5E2%26%5Csigma_3%5E2%5C%5C+%5Csigma_3%5E2%26%5Csigma_3%5E2%2B%5Csigma_2%5E2+%5Cend%7Bmatrix%7D+%5Cright%29+%5Cquad+%2813%29\" alt=\"\\bold{R}_{\\Delta t1}= \\left( \\begin{matrix} \\sigma_3^2+\\sigma_2^2&amp;\\sigma_3^2\\\\ \\sigma_3^2&amp;\\sigma_3^2+\\sigma_2^2 \\end{matrix} \\right) \\quad (13)\" eeimg=\"1\"/> </p><p>对于全部3个anchor，全部的测量集为</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bz%7D_%7B%5CDelta+full%7D%3D%28z_%7B12%7D%2Cz_%7B13%7D%2Cz_%7B2%2C3%7D%29%5ET\" alt=\"\\bold{z}_{\\Delta full}=(z_{12},z_{13},z_{2,3})^T\" eeimg=\"1\"/> </p><p>其协方差矩阵为</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BR%7D_%7B%5CDelta+t+full%7D%3D+%5Cleft%28+%5Cbegin%7Bmatrix%7D+%5Csigma%5E2_1%2B%5Csigma_2%5E2%26%5Csigma_1%5E2%26%5Csigma_2%5E2%5C%5C+%5Csigma%5E2_1%26%5Csigma_1%5E2%2B%5Csigma_3%5E2%26%5Csigma_3%5E2%5C%5C+%5Csigma_2%5E2%26%5Csigma_3%5E2%26%5Csigma_2%5E2%2B%5Csigma_3%5E2+%5Cend%7Bmatrix%7D+%5Cright%29+%5Cquad+%2814%29\" alt=\"\\bold{R}_{\\Delta t full}= \\left( \\begin{matrix} \\sigma^2_1+\\sigma_2^2&amp;\\sigma_1^2&amp;\\sigma_2^2\\\\ \\sigma^2_1&amp;\\sigma_1^2+\\sigma_3^2&amp;\\sigma_3^2\\\\ \\sigma_2^2&amp;\\sigma_3^2&amp;\\sigma_2^2+\\sigma_3^2 \\end{matrix} \\right) \\quad (14)\" eeimg=\"1\"/> </p><hr/><h2>CRLB下界分析</h2><p>CRLB：英文解释是 CRLB provide a lower bound on the convariance that is asymptotically achievable by any unbiased estimation algorithm based on the measurement vector <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bz%7D\" alt=\"\\bold{z}\" eeimg=\"1\"/> 。</p><p>结合百度百科上的解释，可以明白</p><p><a href=\"https://link.zhihu.com/?target=https%3A//baike.baidu.com/item/%25E6%2597%25A0%25E5%2581%258F%25E4%25BC%25B0%25E8%25AE%25A1%25E9%2587%258F\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">无偏估计量</a>的方差只能无限制的逼近CRLB，而不会低于CRLB。也就是说CRLB本质还是一个方差，只不过提供了一个极限值。</p><p>CRLB可以根据新息矩阵的逆来求解。在本文的例子里，记tag的位置为 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bx%7D\" alt=\"\\bold{x}\" eeimg=\"1\"/> ，从测量向量 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bz%7D\" alt=\"\\bold{z}\" eeimg=\"1\"/> 中估计出来的位置为 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7B%5Chat%7Bx%7D%7D\" alt=\"\\bold{\\hat{x}}\" eeimg=\"1\"/> ，则误差的方差需要满足</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BE%7D%5B%28%5Cbold%7B%5Chat%7Bx%7D%7D-%5Cbold%7Bx%7D%29%28%5Cbold%7B%5Chat%7Bx%7D%7D-%5Cbold%7Bx%7D%29%5ET%5D%5Cgeq+%5Cbold%7BJ%7D%5E%7B-1%7D+%5Cquad+%2815%29\" alt=\"\\bold{E}[(\\bold{\\hat{x}}-\\bold{x})(\\bold{\\hat{x}}-\\bold{x})^T]\\geq \\bold{J}^{-1} \\quad (15)\" eeimg=\"1\"/> </p><p>其中</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BJ%7D%3D%5Cbold%7BE%7D%5B%5Cnabla_%7B%5Cbold%7Bx%7D%7D%5Crm%7Bln%7D%28z%7Cx%29%5Cnabla_%7B%5Cbold%7Bx%7D%7D%5Crm%7Bln%7D%28z%7Cx%29%5ET%5D%5Cquad+%2816%29\" alt=\"\\bold{J}=\\bold{E}[\\nabla_{\\bold{x}}\\rm{ln}(z|x)\\nabla_{\\bold{x}}\\rm{ln}(z|x)^T]\\quad (16)\" eeimg=\"1\"/> </p><p>（16）是在噪声分布满足高斯分布的情况下才满足的。</p><p>对于TOA机制，将未知的信号发射时间 <img src=\"https://www.zhihu.com/equation?tex=t_0\" alt=\"t_0\" eeimg=\"1\"/> 一并进行估计，则需要估计的量为</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Crm+x%5E%7B%28%2B%29%7D%3D%28%5Cit%7Bt_0%7D%5Crm%2Cx%5ET%29%5ET%5Cin+%5Cbold%7BR%7D%5E3%5Cquad+%2817%29\" alt=\"\\rm x^{(+)}=(\\it{t_0}\\rm,x^T)^T\\in \\bold{R}^3\\quad (17)\" eeimg=\"1\"/> </p><p>给定测量向量 <img src=\"https://www.zhihu.com/equation?tex=%5Crm+z_t\" alt=\"\\rm z_t\" eeimg=\"1\"/> ，则它的CRLB下界可以根据下式计算</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BJ%7D_t%3D+%5Cfrac%7B%5Cpartial+%5Cbold%7Bh%7D_t%5ET%7D%7B%5Cpartial+%5Cbold%7Bx%7D%5E%7B%28%2B%29%7D%7D+%5Cbold%7BR%7D_t%5E%7B-1%7D+%5Cfrac%7B%5Cpartial+%5Cbold%7Bh%7D_t%7D%7B%5Cpartial+%5Cbold%7Bx%7D%5E%7B%28%2B%29%7D%7D+%5Cquad+%2818%29\" alt=\"\\bold{J}_t= \\frac{\\partial \\bold{h}_t^T}{\\partial \\bold{x}^{(+)}} \\bold{R}_t^{-1} \\frac{\\partial \\bold{h}_t}{\\partial \\bold{x}^{(+)}} \\quad (18)\" eeimg=\"1\"/> </p><p>容易理解</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cpartial+%5Cbold%7Bh%7D_t%7D%7B%5Cpartial+%5Cbold%7Bx%7D%5E%7B%28%2B%29%7D%7D%3D+%5Cleft%28+%5Cbegin%7Bmatrix%7D+%5Cfrac%7B%5Cpartial+h_1%7D%7B%5Cpartial+t_0%7D%26%5Cfrac%7B%5Cpartial+h_1%7D%7B%5Cpartial+x%7D%26%5Cfrac%7B%5Cpartial+h_1%7D%7B%5Cpartial+y%7D%5C%5C+%5Cfrac%7B%5Cpartial+h_2%7D%7B%5Cpartial+t_0%7D%26%5Cfrac%7B%5Cpartial+h_2%7D%7B%5Cpartial+x%7D%26%5Cfrac%7B%5Cpartial+h_2%7D%7B%5Cpartial+y%7D%5C%5C+%5Cfrac%7B%5Cpartial+h_3%7D%7B%5Cpartial+t_0%7D%26%5Cfrac%7B%5Cpartial+h_3%7D%7B%5Cpartial+x%7D%26%5Cfrac%7B%5Cpartial+h_3%7D%7B%5Cpartial+y%7D+%5Cend%7Bmatrix%7D+%5Cright%29%3D+%5Cleft%28+%5Cbegin%7Bmatrix%7D+c%26%5Cfrac%7Bx-x_1%7D%7Br_1%7D%26%5Cfrac%7By-y_1%7D%7Br_1%7D%5C%5C+c%26%5Cfrac%7Bx-x_2%7D%7Br_2%7D%26%5Cfrac%7By-y_2%7D%7Br_2%7D%5C%5C+c%26%5Cfrac%7Bx-x_3%7D%7Br_3%7D%26%5Cfrac%7By-y_3%7D%7Br_3%7D%5C%5C+%5Cend%7Bmatrix%7D+%5Cright%29+%5Cquad+%2819%29\" alt=\"\\frac{\\partial \\bold{h}_t}{\\partial \\bold{x}^{(+)}}= \\left( \\begin{matrix} \\frac{\\partial h_1}{\\partial t_0}&amp;\\frac{\\partial h_1}{\\partial x}&amp;\\frac{\\partial h_1}{\\partial y}\\\\ \\frac{\\partial h_2}{\\partial t_0}&amp;\\frac{\\partial h_2}{\\partial x}&amp;\\frac{\\partial h_2}{\\partial y}\\\\ \\frac{\\partial h_3}{\\partial t_0}&amp;\\frac{\\partial h_3}{\\partial x}&amp;\\frac{\\partial h_3}{\\partial y} \\end{matrix} \\right)= \\left( \\begin{matrix} c&amp;\\frac{x-x_1}{r_1}&amp;\\frac{y-y_1}{r_1}\\\\ c&amp;\\frac{x-x_2}{r_2}&amp;\\frac{y-y_2}{r_2}\\\\ c&amp;\\frac{x-x_3}{r_3}&amp;\\frac{y-y_3}{r_3}\\\\ \\end{matrix} \\right) \\quad (19)\" eeimg=\"1\"/> </p><p>进一步推导可以得到</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BJ_t%7D%3D%5Csum_%7Bi%3D1%7D%5E3+%5Cleft%28+%5Cbegin%7Bmatrix%7D+%5Cfrac%7Bc%5E2%7D%7B%5Csigma%5E2_i%7D%26%5Cfrac%7Bc%7D%7B%5Csigma_i%5E2%7D%5Cfrac%7Bx-x_i%7D%7Br_i%7D%26%5Cfrac%7Bc%7D%7B%5Csigma_i%5E2%7D%5Cfrac%7By-y_i%7D%7Br_i%7D%5C%5C+%5Cfrac%7Bc%7D%7B%5Csigma%5E2_i%7D%5Cfrac%7Bx-x_i%7D%7Br_i%7D%26%5Cfrac%7B1%7D%7B%5Csigma_i%5E2%7D%5Cfrac%7B%28x-x_i%29%5E2%7D%7Br_i%5E2%7D%26%5Cfrac%7B1%7D%7B%5Csigma%5E2_i%7D%5Cfrac%7B%28x-x_i%29%28y-y_i%29%7D%7Br_i%5E2%7D%5C%5C+%5Cfrac%7Bc%7D%7B%5Csigma_i%5E2%7D%5Cfrac%7By-y_i%7D%7Br_i%7D%26%5Cfrac%7B1%7D%7B%5Csigma%5E2_i%7D%5Cfrac%7B%28x-x_i%29%28y-y_i%29%7D%7Br_i%5E2%7D%26%5Cfrac%7B1%7D%7B%5Csigma_i%5E2%7D%5Cfrac%7B%28y-y_i%29%5E2%7D%7Br_i%5E2%7D+%5Cend%7Bmatrix%7D+%5Cright%29+%5Cquad+%2820%29\" alt=\"\\bold{J_t}=\\sum_{i=1}^3 \\left( \\begin{matrix} \\frac{c^2}{\\sigma^2_i}&amp;\\frac{c}{\\sigma_i^2}\\frac{x-x_i}{r_i}&amp;\\frac{c}{\\sigma_i^2}\\frac{y-y_i}{r_i}\\\\ \\frac{c}{\\sigma^2_i}\\frac{x-x_i}{r_i}&amp;\\frac{1}{\\sigma_i^2}\\frac{(x-x_i)^2}{r_i^2}&amp;\\frac{1}{\\sigma^2_i}\\frac{(x-x_i)(y-y_i)}{r_i^2}\\\\ \\frac{c}{\\sigma_i^2}\\frac{y-y_i}{r_i}&amp;\\frac{1}{\\sigma^2_i}\\frac{(x-x_i)(y-y_i)}{r_i^2}&amp;\\frac{1}{\\sigma_i^2}\\frac{(y-y_i)^2}{r_i^2} \\end{matrix} \\right) \\quad (20)\" eeimg=\"1\"/> </p><p>注意观察（19）式，有的项含 <img src=\"https://www.zhihu.com/equation?tex=c\" alt=\"c\" eeimg=\"1\"/> ，表示与估计发射时间 <img src=\"https://www.zhihu.com/equation?tex=t_0\" alt=\"t_0\" eeimg=\"1\"/> 有关，有的项含 <img src=\"https://www.zhihu.com/equation?tex=x\" alt=\"x\" eeimg=\"1\"/> 与 <img src=\"https://www.zhihu.com/equation?tex=y\" alt=\"y\" eeimg=\"1\"/> ，表示与估计tag的位置有关，将（19）式用分块矩阵表示</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BJ%7D_t%3D+%5Cleft%28+%5Cbegin%7Bmatrix%7D+J_%7B11%7D%26J_%7B12%7D%26J_%7B13%7D%5C%5C+J_%7B21%7D%26J_%7B22%7D%26J_%7B23%7D%5C%5C+J_%7B31%7D%26J_%7B32%7D%26J_%7B33%7D+%5Cend%7Bmatrix%7D+%5Cright%29+%3D+%5Cleft%28+%5Cbegin%7Bmatrix%7D+J_t%26J_%7Bt%2Cpos%7D%5C%5C+J_%7Bpos%2Ct%7D%26J_%7Bpos%7D+%5Cend%7Bmatrix%7D+%5Cright%29+%5Cquad+%2821%29\" alt=\"\\bold{J}_t= \\left( \\begin{matrix} J_{11}&amp;J_{12}&amp;J_{13}\\\\ J_{21}&amp;J_{22}&amp;J_{23}\\\\ J_{31}&amp;J_{32}&amp;J_{33} \\end{matrix} \\right) = \\left( \\begin{matrix} J_t&amp;J_{t,pos}\\\\ J_{pos,t}&amp;J_{pos} \\end{matrix} \\right) \\quad (21)\" eeimg=\"1\"/> </p><p class=\"ztext-empty-paragraph\"><br/></p><p>同样的步骤，也可以在TDOA上执行一遍，</p><p>在将anchor 1作为参考基站时，</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cpartial+%5Cbold%7Bh%7D_%7B%5CDelta+t1%7D%7D%7B%5Cpartial+%5Cbold%7Bx%7D%7D%3D+%5Cleft%28+%5Cbegin%7Bmatrix%7D+%5Cfrac%7B%5Cpartial+r_%7B12%7D%7D%7B%5Cpartial+x%7D+%26+%5Cfrac%7B%5Cpartial+r_%7B12%7D%7D%7B%5Cpartial+y%7D%5C%5C+%5Cfrac%7B%5Cpartial+r%7B13%7D%7D%7B%5Cpartial+x%7D+%26+%5Cfrac%7B%5Cpartial+r_%7B13%7D%7D%7B%5Cpartial+y%7D+%5Cend%7Bmatrix%7D+%5Cright%29+%3D+%5Cleft%28+%5Cbegin%7Bmatrix%7D+%5Cfrac%7Bx-x_1%7D%7Br_1%7D-%5Cfrac%7Bx-x_2%7D%7Br_2%7D+%26+%5Cfrac%7By-y_1%7D%7Br_1%7D-%5Cfrac%7By-y_2%7D%7Br_2%7D%5C%5C+%5Cfrac%7Bx-x_1%7D%7Br_1%7D-%5Cfrac%7Bx-x_2%7D%7Br_3%7D+%26+%5Cfrac%7By-y_1%7D%7Br_1%7D-%5Cfrac%7By-y_2%7D%7Br_3%7D+%5Cend%7Bmatrix%7D+%5Cright%29+%5Cquad+%2822%29\" alt=\"\\frac{\\partial \\bold{h}_{\\Delta t1}}{\\partial \\bold{x}}= \\left( \\begin{matrix} \\frac{\\partial r_{12}}{\\partial x} &amp; \\frac{\\partial r_{12}}{\\partial y}\\\\ \\frac{\\partial r{13}}{\\partial x} &amp; \\frac{\\partial r_{13}}{\\partial y} \\end{matrix} \\right) = \\left( \\begin{matrix} \\frac{x-x_1}{r_1}-\\frac{x-x_2}{r_2} &amp; \\frac{y-y_1}{r_1}-\\frac{y-y_2}{r_2}\\\\ \\frac{x-x_1}{r_1}-\\frac{x-x_2}{r_3} &amp; \\frac{y-y_1}{r_1}-\\frac{y-y_2}{r_3} \\end{matrix} \\right) \\quad (22)\" eeimg=\"1\"/> </p><p>将（22）代入（18），可以得到</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BJ%7D_%7B%5CDelta+t1%7D%3D+%5Cleft%28+%5Cbegin%7Bmatrix%7D+F_%7B11%7D%26F_%7B12%7D%5C%5C+F_%7B21%7D%26F_%7B22%7D+%5Cend%7Bmatrix%7D+%5Cright%29\" alt=\"\\bold{J}_{\\Delta t1}= \\left( \\begin{matrix} F_{11}&amp;F_{12}\\\\ F_{21}&amp;F_{22} \\end{matrix} \\right)\" eeimg=\"1\"/> </p><p>下面的公式偷个懒</p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-4fb150efd976b5063629e1cbca7b9668_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"416\" data-rawheight=\"470\" class=\"content_image\" width=\"416\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;416&#39; height=&#39;470&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"416\" data-rawheight=\"470\" class=\"content_image lazy\" width=\"416\" data-actualsrc=\"https://pic1.zhimg.com/v2-4fb150efd976b5063629e1cbca7b9668_b.jpg\"/></figure><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-c16e2f40e595c991f7b405fa112b23b3_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"269\" data-rawheight=\"95\" class=\"content_image\" width=\"269\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;269&#39; height=&#39;95&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"269\" data-rawheight=\"95\" class=\"content_image lazy\" width=\"269\" data-actualsrc=\"https://pic4.zhimg.com/v2-c16e2f40e595c991f7b405fa112b23b3_b.jpg\"/></figure><p>由于本文只研究3个anchor的定位系统，所以经过实际的运算比对，TOA和TDOA的CRLB是一样的。</p><p class=\"ztext-empty-paragraph\"><br/></p><p><b>微信公众号：墨阑萱</b></p><p><b>新浪微博：融冰C</b></p><p>知乎专栏：<a href=\"https://zhuanlan.zhihu.com/c_132713269\" class=\"internal\">墨阑萱</a></p><p></p>", 
            "topic": [
                {
                    "tag": "室内定位", 
                    "tagLink": "https://api.zhihu.com/topics/19647940"
                }, 
                {
                    "tag": "导航", 
                    "tagLink": "https://api.zhihu.com/topics/19553199"
                }
            ], 
            "comments": []
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/30949000", 
            "userName": "融冰C", 
            "userLink": "https://www.zhihu.com/people/ae1df4b61f956bf551ad9e4d77aa2fd3", 
            "upvote": 15, 
            "title": "笔记：(1)CHAN定位算法", 
            "content": "<p><b>笔记是啥？用笔去记哈~~~~~</b></p><p>获取设备自身的位置是一个导航系统要解决的终极问题。</p><p>本文主要记录下对CHAN算法的理解。</p><p class=\"ztext-empty-paragraph\"><br/></p><p>归根结底，CHAN算法是TDOA定位方法的一个trick，很赞的一个trick。但是很多方法一旦从学术的角度去看，就罩上了奇异的光环。</p><p>TDOA，the time differnces of arrival。暂不谈TDOA，后面单独开一篇，来个基于测距来定位的方法综述。</p><p>约定：</p><p>移动标签，简称tag，自身发射信号</p><p>固定基站，简称anchor，接收来自tag的无线信号</p><hr/><p><b>正文：</b></p><p>CHAN算法是基于双曲线交点的定位方法，闭和解，小范围和大范围的定位系统都适用</p><p>当TDOA估计误差较小时，可以认为是ML（最大似然法）的一种近似方法。</p><p>在二维平面上来研讨这个算法可以减小理解的难度，布局如Fig.1所示。假定在二维平面上有 <img src=\"https://www.zhihu.com/equation?tex=M\" alt=\"M\" eeimg=\"1\"/> 个anchor，1个tag，则anchor <img src=\"https://www.zhihu.com/equation?tex=i\" alt=\"i\" eeimg=\"1\"/> 收到的信号为</p><p><img src=\"https://www.zhihu.com/equation?tex=u_i%28k%29%3Ds%28k-d_i%29%2B%5Ceta_i%28k%29%2C%5Cquad%7B%7Di%3D1%2C2%2C...%2CM%5Cquad%7B%7D%281%29\" alt=\"u_i(k)=s(k-d_i)+\\eta_i(k),\\quad{}i=1,2,...,M\\quad{}(1)\" eeimg=\"1\"/> </p><p>其中 <img src=\"https://www.zhihu.com/equation?tex=s%28k%29\" alt=\"s(k)\" eeimg=\"1\"/> 表示从tag发射出来的信号， <img src=\"https://www.zhihu.com/equation?tex=d_i\" alt=\"d_i\" eeimg=\"1\"/> 表示时间延迟， <img src=\"https://www.zhihu.com/equation?tex=%5Ceta_i%28i%29\" alt=\"\\eta_i(i)\" eeimg=\"1\"/> 表示加性噪声，并假设信号和噪声是相互独立的（mutually independent）,且噪声为零均值高斯噪声。</p><p class=\"ztext-empty-paragraph\"><br/></p><figure data-size=\"normal\"><noscript><img src=\"https://pic1.zhimg.com/v2-65c42a7e89eda52ba867892b7554767c_b.jpg\" data-size=\"normal\" data-rawwidth=\"515\" data-rawheight=\"349\" class=\"origin_image zh-lightbox-thumb\" width=\"515\" data-original=\"https://pic1.zhimg.com/v2-65c42a7e89eda52ba867892b7554767c_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;515&#39; height=&#39;349&#39;&gt;&lt;/svg&gt;\" data-size=\"normal\" data-rawwidth=\"515\" data-rawheight=\"349\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"515\" data-original=\"https://pic1.zhimg.com/v2-65c42a7e89eda52ba867892b7554767c_r.jpg\" data-actualsrc=\"https://pic1.zhimg.com/v2-65c42a7e89eda52ba867892b7554767c_b.jpg\"/><figcaption>Fig.1. 二维平面定位示意（小黑圆圈为anchor，小黑三角为tag）</figcaption></figure><p>为了达到定位的目的，首先应该估计TDOA，并进而计算出各个anchor到tag的距离差。TDOA的估计不是本文的重点，且成熟的电子测距模块（如DW1000芯片）已经可以直接给出测距值，直接用各个测距值相减处理即可。</p><p>tag与anchor <img src=\"https://www.zhihu.com/equation?tex=i\" alt=\"i\" eeimg=\"1\"/> 与 <img src=\"https://www.zhihu.com/equation?tex=j\" alt=\"j\" eeimg=\"1\"/> 之间的距离差</p><p><img src=\"https://www.zhihu.com/equation?tex=d_%7Bi%2Cj%7D%3Dd_%7Bi%2C1%7D-d_%7Bj%2C1%7D%2C%5Cquad+i%2Cj%3D2%2C3%2C...%2CM%5Cquad+%282%29\" alt=\"d_{i,j}=d_{i,1}-d_{j,1},\\quad i,j=2,3,...,M\\quad (2)\" eeimg=\"1\"/> </p><p>尽管在工程应用上不必要，但是出于学术研讨目的，还是有必要讨论下 <img src=\"https://www.zhihu.com/equation?tex=d_%7Bi%2Cj%7D\" alt=\"d_{i,j}\" eeimg=\"1\"/> 的统计特性的。记 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bd%7D%3D%5Cleft%5B+d_%7B2%2C1%7D%2Cd_%7B3%2C1%7D%2C...%2Cd_%7BM%2C1%7D+%5Cright%5D%5ET\" alt=\"\\bold{d}=\\left[ d_{2,1},d_{3,1},...,d_{M,1} \\right]^T\" eeimg=\"1\"/> ，其协方差矩阵 <img src=\"https://www.zhihu.com/equation?tex=Q\" alt=\"Q\" eeimg=\"1\"/> 为【1】【2】：</p><p><img src=\"https://www.zhihu.com/equation?tex=Q%3D%5Cleft%5C%7B+%5Cfrac%7B2T%7D%7B2%5Cpi%7D%5Cint_0%5E%5COmega+%5Comega%5E2%5Cfrac%7BS%28%5Comega%29%5E2%7D%7B1%2BS%28%5Comega%29tr%28N%28%5Comega%29%5E%7B-1%7D%29%7D+%5Ctimes+%5Cleft%5B+tr%5Cleft%28+x+%5Cright%29N_p%28%5Comega%29%5E%7B-1%7D-+N_p%28%5Comega%29%5E%7B-1%7DII%5ETN_p%28%5Comega%29%5E%7B-1%7D%5Cright%5Dd%5Comega+%5Cright%5C%7D%5E%7B-1%7D%5Cquad+%283%29\" alt=\"Q=\\left\\{ \\frac{2T}{2\\pi}\\int_0^\\Omega \\omega^2\\frac{S(\\omega)^2}{1+S(\\omega)tr(N(\\omega)^{-1})} \\times \\left[ tr\\left( x \\right)N_p(\\omega)^{-1}- N_p(\\omega)^{-1}II^TN_p(\\omega)^{-1}\\right]d\\omega \\right\\}^{-1}\\quad (3)\" eeimg=\"1\"/> </p><p>其中 <img src=\"https://www.zhihu.com/equation?tex=%5COmega\" alt=\"\\Omega\" eeimg=\"1\"/> 表示信号频率， <img src=\"https://www.zhihu.com/equation?tex=T\" alt=\"T\" eeimg=\"1\"/> 表示观测的时间， <img src=\"https://www.zhihu.com/equation?tex=tr%28%2A%29\" alt=\"tr(*)\" eeimg=\"1\"/> 表示矩阵的迹， <img src=\"https://www.zhihu.com/equation?tex=S%28%5Comega%29\" alt=\"S(\\omega)\" eeimg=\"1\"/> 表示信号功率谱， <img src=\"https://www.zhihu.com/equation?tex=N%28%5Comega%29%3Ddiag+%5Cleft%5C%7B+N_1%28%5Comega%29%2CN_2%28%5Comega%29%2C...%2CN_M%28%5Comega%29+%5Cright%5C%7D\" alt=\"N(\\omega)=diag \\left\\{ N_1(\\omega),N_2(\\omega),...,N_M(\\omega) \\right\\}\" eeimg=\"1\"/> 表示噪声功率谱矩阵， <img src=\"https://www.zhihu.com/equation?tex=N_p%28%5Comega%29\" alt=\"N_p(\\omega)\" eeimg=\"1\"/> 表示 <img src=\"https://www.zhihu.com/equation?tex=N%28%5Comega%29\" alt=\"N(\\omega)\" eeimg=\"1\"/> 右下 <img src=\"https://www.zhihu.com/equation?tex=%28M-1%29%5Ctimes+%28M-1%29\" alt=\"(M-1)\\times (M-1)\" eeimg=\"1\"/> 的矩阵， <img src=\"https://www.zhihu.com/equation?tex=I\" alt=\"I\" eeimg=\"1\"/> 表示单位矩阵。公式（3）看起来比较恐怖，但是也仅仅是描述了测量噪声的特性。</p><p>如果简单的说，其实可以把公式（2）直接写为</p><p><img src=\"https://www.zhihu.com/equation?tex=d_%7Bi%2Cj%7D%3Dd_%7Bi%2Cj%7D%5E0%2Bn_%7Bi%2Cj%7D%2C%5Cquad+i%2Cj%3D1%2C2%2C...%2CM+%5Cquad+%284%29\" alt=\"d_{i,j}=d_{i,j}^0+n_{i,j},\\quad i,j=1,2,...,M \\quad (4)\" eeimg=\"1\"/> </p><p>上标0表示该值没有受噪声影响， <img src=\"https://www.zhihu.com/equation?tex=n_%7Bi%2Cj%7D\" alt=\"n_{i,j}\" eeimg=\"1\"/> 表示测量噪声项。很容易理解，噪声项的协方差矩阵也是 <img src=\"https://www.zhihu.com/equation?tex=Q\" alt=\"Q\" eeimg=\"1\"/> 。显然，根据式（2）可以得到 <img src=\"https://www.zhihu.com/equation?tex=n_%7Bi%2Cj%7D%3Dn_%7Bi%2C1%7D-n_%7Bj%2C1%7D\" alt=\"n_{i,j}=n_{i,1}-n_{j,1}\" eeimg=\"1\"/> 。</p><p>记tag的位置为 <img src=\"https://www.zhihu.com/equation?tex=%28x%2Cy%29\" alt=\"(x,y)\" eeimg=\"1\"/> ，anchor的位置为 <img src=\"https://www.zhihu.com/equation?tex=%28x_i%2Cy_i%29\" alt=\"(x_i,y_i)\" eeimg=\"1\"/> ，则两者之间的距离为</p><p><img src=\"https://www.zhihu.com/equation?tex=r_i%5E2%3D%28x_i-x%29%5E2%2B%28y_i-y%29%5E2%5C%5C+%3DK_i-2x_ix-2y_iy%2Bx%5E2%2By%5E2%2Ci%3D1%2C2%2C...%2CM%5Cquad%7B%7D+%285%29\" alt=\"r_i^2=(x_i-x)^2+(y_i-y)^2\\\\ =K_i-2x_ix-2y_iy+x^2+y^2,i=1,2,...,M\\quad{} (5)\" eeimg=\"1\"/>其中<img src=\"https://www.zhihu.com/equation?tex=K_i%3Dx_i%5E2%2By_i%5E2\" alt=\"K_i=x_i^2+y_i^2\" eeimg=\"1\"/> 。</p><p>由于我们直接的测量值不是距离，所以使用光速 <img src=\"https://www.zhihu.com/equation?tex=c\" alt=\"c\" eeimg=\"1\"/> 将时间延时转换为距离值</p><p><img src=\"https://www.zhihu.com/equation?tex=r_%7Bi%2C1%7D%3Dcd_%7Bi%2C1%7D%3Dr_i-r_1%5Cquad%7B%7D+%286%29\" alt=\"r_{i,1}=cd_{i,1}=r_i-r_1\\quad{} (6)\" eeimg=\"1\"/> </p><p>这样，我们利用一系列的公式(6)便可以得到一组非线性方程。</p><p>解非线性方程组并非易事，虽然可以使用泰勒展开得到近似的线性方程组迭代求解，但是计算量比较大，且需要足够良好的初始迭代点，并且不一定能够满足收敛。（迭代法不是本文的研究重点）</p><p>为了能够更好的求解方程，可以对公式(5)进行一定程度的修改。由（6）可以得到 <img src=\"https://www.zhihu.com/equation?tex=r_i%5E2%3D%28r_%7Bi%2C1%7D%2Br_1%29%5E2\" alt=\"r_i^2=(r_{i,1}+r_1)^2\" eeimg=\"1\"/> ，将其带入（5）可以得到</p><p><img src=\"https://www.zhihu.com/equation?tex=r_%7Bi%2C1%7D%5E2%2B2r_%7Bi%2C1%7Dr_1%2Br_1%5E2%3DK_i-2x_ix-2y_iy%2Bx%5E2%2By%5E2%5Cquad+%288%29\" alt=\"r_{i,1}^2+2r_{i,1}r_1+r_1^2=K_i-2x_ix-2y_iy+x^2+y^2\\quad (8)\" eeimg=\"1\"/> </p><p>从（8）式中减去 <img src=\"https://www.zhihu.com/equation?tex=r_1%5E2%3D%28x_1-x%29%5E2%2B%28y_1-y%29%5E2\" alt=\"r_1^2=(x_1-x)^2+(y_1-y)^2\" eeimg=\"1\"/> (即 <img src=\"https://www.zhihu.com/equation?tex=i%3D1\" alt=\"i=1\" eeimg=\"1\"/> 时的式（5）)，可以得到</p><p><img src=\"https://www.zhihu.com/equation?tex=r_%7Bi%2C1%7D%5E2%2B2r_%7Bi%2C1%7Dr_1%3D-2x_%7Bi%2C1%7Dx-2y_%7Bi%2C1%7Dy%2BK_i-K_1%5Cquad+%289%29\" alt=\"r_{i,1}^2+2r_{i,1}r_1=-2x_{i,1}x-2y_{i,1}y+K_i-K_1\\quad (9)\" eeimg=\"1\"/> </p><p>这是关键一步：消除了未知数的平方项，仅保留一次项，得到了一系列的线性方程组（9）</p><p>如果是采用的测距模块的话，未知数只有两个 ：<img src=\"https://www.zhihu.com/equation?tex=x\" alt=\"x\" eeimg=\"1\"/>和 <img src=\"https://www.zhihu.com/equation?tex=y\" alt=\"y\" eeimg=\"1\"/> ，很方便求解；如果不是，则未知数有三个： <img src=\"https://www.zhihu.com/equation?tex=x\" alt=\"x\" eeimg=\"1\"/> 、 <img src=\"https://www.zhihu.com/equation?tex=y\" alt=\"y\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=r_1\" alt=\"r_1\" eeimg=\"1\"/>，则需要进一步讨论。</p><hr/><p><b>讨论解</b></p><p>当只有三个anchor时，含有未知数 <img src=\"https://www.zhihu.com/equation?tex=r_1\" alt=\"r_1\" eeimg=\"1\"/> 的求解式为</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cleft%5B+%5Cbegin%7Barray%7D+%5C%5C+x+%5C%5C+y+%5Cend%7Barray%7D+%5Cright%5D+%3D-+%5Cleft%5B+%5Cbegin%7Barray%7D%5C%5C+x_%7B2%2C1%7D+%26+y_%7B2%2C1%7D+%5C%5C+x_%7B3%2C1%7D+%26+y_%7B3%2C1%7D+%5Cend%7Barray%7D+%5Cright%5D%5E%7B-1%7D+%5Ctimes+%5Cleft%5C%7B+%5Cleft%5B+%5Cbegin%7Barray%7D%5C%5C+r_%7B2%2C1%7D%5C%5C+r_%7B3%2C1%7D+%5Cend%7Barray%7D+%5Cright%5D+r_1+%2B+%5Cfrac%7B1%7D%7B2%7D+%5Cleft%5B+%5Cbegin%7Barray%7D%5C%5C+r_%7B2%2C1%7D%5E2-K_2%2BK_1%5C%5C+r_%7B3%2C1%7D%5E2-K_3%2BK_1+%5Cend%7Barray%7D+%5Cright%5D+%5Cright%5C%7D+%5Cquad+%2810%29\" alt=\"\\left[ \\begin{array} \\\\ x \\\\ y \\end{array} \\right] =- \\left[ \\begin{array}\\\\ x_{2,1} &amp; y_{2,1} \\\\ x_{3,1} &amp; y_{3,1} \\end{array} \\right]^{-1} \\times \\left\\{ \\left[ \\begin{array}\\\\ r_{2,1}\\\\ r_{3,1} \\end{array} \\right] r_1 + \\frac{1}{2} \\left[ \\begin{array}\\\\ r_{2,1}^2-K_2+K_1\\\\ r_{3,1}^2-K_3+K_1 \\end{array} \\right] \\right\\} \\quad (10)\" eeimg=\"1\"/> </p><p>将（10）式带入 <img src=\"https://www.zhihu.com/equation?tex=r_1%3D%28x_1-x%29%5E2%2B%28y_1-y%29%5E2\" alt=\"r_1=(x_1-x)^2+(y_1-y)^2\" eeimg=\"1\"/> （即 <img src=\"https://www.zhihu.com/equation?tex=i%3D1\" alt=\"i=1\" eeimg=\"1\"/> 时的式（5）），可以求解得到关于 <img src=\"https://www.zhihu.com/equation?tex=r_1\" alt=\"r_1\" eeimg=\"1\"/> 的二次方程。将 <img src=\"https://www.zhihu.com/equation?tex=r_1\" alt=\"r_1\" eeimg=\"1\"/> 的正数根带入（10），便可以求得未知数。</p><p>但是，在某些情况下，可能会求得两个正数根，这样便只能根据对定位信息先验知识进行位置的猜测了。</p><p>当有更多的anchor时，线性方程组便是超定的。</p><p>由于测量噪声的存在，方程组（9）的解不可能完全满足其中的所有方程，所以合适的解只能是匹配这些方程组的最佳解。记 <img src=\"https://www.zhihu.com/equation?tex=z_a%3D%5Bz_a%5ET%2Cr_1%5D%5ET\" alt=\"z_a=[z_a^T,r_1]^T\" eeimg=\"1\"/> 为未知向量，其中 <img src=\"https://www.zhihu.com/equation?tex=z_p%3D%5Bx%2Cy%5D%5ET\" alt=\"z_p=[x,y]^T\" eeimg=\"1\"/> 。由于TDOA噪声的存在，则误差向量为</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cpsi%3D%5Cbold%7Bh%7D-%5Cbold%7BG_az_a%5E0%7D%5Cquad+%2811%29\" alt=\"\\psi=\\bold{h}-\\bold{G_az_a^0}\\quad (11)\" eeimg=\"1\"/> </p><p>其中</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bh%7D%3D+%5Cfrac%7B1%7D%7B2%7D+%5Cleft%5B+%5Cbegin%7Barray%7D%5C%5C+r_%7B2%2C1%7D%5E2-K_2%2BK_1%5C%5C+r_%7B3%2C1%7D%5E2-K_3%2BK_1%5C%5C+%5Cquad%5Cquad%5Cquad%5Cvdots+%5C%5C+r_%7BM%2C1%7D%5E2-K_M%2BK_1%5C%5C+%5Cend%7Barray%7D+%5Cright%5D\" alt=\"\\bold{h}= \\frac{1}{2} \\left[ \\begin{array}\\\\ r_{2,1}^2-K_2+K_1\\\\ r_{3,1}^2-K_3+K_1\\\\ \\quad\\quad\\quad\\vdots \\\\ r_{M,1}^2-K_M+K_1\\\\ \\end{array} \\right]\" eeimg=\"1\"/> </p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BG_a%7D%3D-+%5Cleft%5B+%5Cbegin%7Barray%7D%5C%5C+x_%7B2%2C1%7D%26y_%7B2%2C1%7D%26r_%7B2%2C1%7D%5C%5C+x_%7B3%2C1%7D%26y_%7B3%2C1%7D%26r_%7B3%2C1%7D%5C%5C+%26%5Cvdots%5C%5C+x_%7BM%2C1%7D%26y_%7BM%2C1%7D%26r_%7BM%2C1%7D+%5Cend%7Barray%7D+%5Cright%5D\" alt=\"\\bold{G_a}=- \\left[ \\begin{array}\\\\ x_{2,1}&amp;y_{2,1}&amp;r_{2,1}\\\\ x_{3,1}&amp;y_{3,1}&amp;r_{3,1}\\\\ &amp;\\vdots\\\\ x_{M,1}&amp;y_{M,1}&amp;r_{M,1} \\end{array} \\right]\" eeimg=\"1\"/> </p><p>且已知 <img src=\"https://www.zhihu.com/equation?tex=r_%7Bi%2C1%7D%3Dr_%7Bi%2C1%7D%5E0%2Bcn_%7Bi%2C1%7D\" alt=\"r_{i,1}=r_{i,1}^0+cn_{i,1}\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=r_i%5E0%3Dr_%7Bi%2C1%7D%5E0%2Br_1%5E0\" alt=\"r_i^0=r_{i,1}^0+r_1^0\" eeimg=\"1\"/> ，则可以得到</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cpsi%3Dc%5Cbold%7BBn%7D%2B0.5c%5E2%5Cbold%7Bn%5Codot+n%7D%5Cquad+%2812%29\" alt=\"\\psi=c\\bold{Bn}+0.5c^2\\bold{n\\odot n}\\quad (12)\" eeimg=\"1\"/> </p><p>其中 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BB%7D%3Ddiag%5Cleft%5C%7Br_2%5E0%2Cr_3%5E0%2C%5Cdots%2Cr_M%5E0%5Cright%5C%7D\" alt=\"\\bold{B}=diag\\left\\{r_2^0,r_3^0,\\dots,r_M^0\\right\\}\" eeimg=\"1\"/> ，符号 <img src=\"https://www.zhihu.com/equation?tex=%5Codot\" alt=\"\\odot\" eeimg=\"1\"/> 表示Schur积（对应元素相乘）。</p><p>尝试着理解下式子（12），（12）由两项组成， <img src=\"https://www.zhihu.com/equation?tex=c%5Cbold%7BBn%7D\" alt=\"c\\bold{Bn}\" eeimg=\"1\"/> 为一次项，对应着 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BG_az_a%5E0%7D\" alt=\"\\bold{G_az_a^0}\" eeimg=\"1\"/> 中的第三列，前两列都是与基站位置相关的已知量； <img src=\"https://www.zhihu.com/equation?tex=0.5c%5E2%5Cbold%7Bn%5Codot+n%7D\" alt=\"0.5c^2\\bold{n\\odot n}\" eeimg=\"1\"/>为二次项，对应着 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bh%7D\" alt=\"\\bold{h}\" eeimg=\"1\"/> ；之所以式（12）式中有个加号，是因为 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BG_a%7D\" alt=\"\\bold{G_a}\" eeimg=\"1\"/> 项有个负号；之所以需要乘以光速 <img src=\"https://www.zhihu.com/equation?tex=c\" alt=\"c\" eeimg=\"1\"/> ，是因为 <img src=\"https://www.zhihu.com/equation?tex=n_%7Bi%2C1%7D\" alt=\"n_{i,1}\" eeimg=\"1\"/> 是因为直接测量值是到达时间差（TDOA），将时间转换为距离就需要乘以光速 <img src=\"https://www.zhihu.com/equation?tex=c\" alt=\"c\" eeimg=\"1\"/> 。（可是暂时有一点没想明白， <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BB%7D\" alt=\"\\bold{B}\" eeimg=\"1\"/> 是干啥用的？暂时留白，需要再查阅下文献，想明白的时候再补充）</p><p>当信号的信噪比（SNR）比较高时，高斯数据的广义互相关是渐进正太分布的【3】。噪声向量 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bn%7D\" alt=\"\\bold{n}\" eeimg=\"1\"/> 也是渐近正太分布的【1】。因此，实际上 <img src=\"https://www.zhihu.com/equation?tex=%5Cpsi\" alt=\"\\psi\" eeimg=\"1\"/> 的协方差矩阵是可以估计出来的。</p><p>在实际工程应用中，条件 <img src=\"https://www.zhihu.com/equation?tex=cn_%7Bi%2C1%7D%5Cll+r_i%5E0\" alt=\"cn_{i,1}\\ll r_i^0\" eeimg=\"1\"/> 通常是可以满足的。当忽略式（12）中的二次项， <img src=\"https://www.zhihu.com/equation?tex=%5Cpsi\" alt=\"\\psi\" eeimg=\"1\"/> 变成了高斯随机向量，其协方差矩阵为</p><p><img src=\"https://www.zhihu.com/equation?tex=%5CPsi+%3D+E%5B%5Cpsi%5Cpsi%5ET%5D%3Dc%5E2%5Cbold%7BBQB%7D%5Cquad+%2813%29\" alt=\"\\Psi = E[\\psi\\psi^T]=c^2\\bold{BQB}\\quad (13)\" eeimg=\"1\"/> </p><p>到这里为止，其实完全YY的认为：根据公式（11）进行最小二乘来求解未知向量 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bz_a%7D\" alt=\"\\bold{z_a}\" eeimg=\"1\"/> ，求解公式为</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bz_a%7D%3D+%5Crm+arg%5C+%5Crm+min+%5Cleft%5C%7B+%28%5Cbold%7Bh-G_az_a%29%5ET%5CPsi%5E%7B-1%7D%28%5Cbold%7Bh-G_az_a%29%7D%7D+%5Cright%5C%7D+%5C%5C+%3D%28%5Cbold%7BG_a%5ET%5CPsi%5E%7B-1%7DG_a%7D%29%5E%7B-1%7D%5Cbold%7BG_a%5ET%5CPsi%5E%7B-1%7Dh%7D+%5Cqquad+%2814%29\" alt=\"\\bold{z_a}= \\rm arg\\ \\rm min \\left\\{ (\\bold{h-G_az_a)^T\\Psi^{-1}(\\bold{h-G_az_a)}} \\right\\} \\\\ =(\\bold{G_a^T\\Psi^{-1}G_a})^{-1}\\bold{G_a^T\\Psi^{-1}h} \\qquad (14)\" eeimg=\"1\"/> </p><p>个人觉得不介意的话，直接把 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7B%5CPsi%7D\" alt=\"\\bold{\\Psi}\" eeimg=\"1\"/> 当成单位阵，一样可以求解，完全可以应付一般的定位；根据自己的实际测试情况，直接用三个anchor利用公式（10）就可以实现定位。</p><p>但是，毕竟是学生，还是需要进一步分析其数学本质与机理，才能水paper。</p><p>向量 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bz_a%7D\" alt=\"\\bold{z_a}\" eeimg=\"1\"/> 受公式（5）约束，实际上也意味着：由公式（11）组成的方程组依然是关于变量 <img src=\"https://www.zhihu.com/equation?tex=x\" alt=\"x\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=y\" alt=\"y\" eeimg=\"1\"/> 的非线性方程组。那么可以这样去解这个线性方程组：</p><ul><li>先假设 <img src=\"https://www.zhihu.com/equation?tex=x\" alt=\"x\" eeimg=\"1\"/> 、 <img src=\"https://www.zhihu.com/equation?tex=y\" alt=\"y\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=r_1\" alt=\"r_1\" eeimg=\"1\"/> 之间没有关系，那么可以直接用最小二乘法求解（见公式（14））</li><li>把上一步求解的结果，带入公式（5），再来一波最小二乘法。</li></ul><hr/><p>下面再讨论下 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bz_a%7D\" alt=\"\\bold{z_a}\" eeimg=\"1\"/> 的协方差矩阵。</p><p>显然，可以直接用公式（14）进行求解，再根据 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bz_az_a%5ET%7D\" alt=\"\\bold{z_az_a^T}\" eeimg=\"1\"/> 计算得到。但是由于 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BG_a%7D\" alt=\"\\bold{G_a}\" eeimg=\"1\"/> 存在 <img src=\"https://www.zhihu.com/equation?tex=r_%7Bi%2C1%7D\" alt=\"r_{i,1}\" eeimg=\"1\"/> 这样含有随机量的元素，所以计算会很复杂。这里，考虑使用摄动法（perturbation approach）来进行求解。</p><p>已知 <img src=\"https://www.zhihu.com/equation?tex=r_%7Bi%2C1%7D%3Dr_%7Bi%2C1%7D%5E0%2Bcn_%7Bi%2C1%7D\" alt=\"r_{i,1}=r_{i,1}^0+cn_{i,1}\" eeimg=\"1\"/> ， <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BG_a%7D\" alt=\"\\bold{G_a}\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bh%7D\" alt=\"\\bold{h}\" eeimg=\"1\"/> 可以表示为 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BG_a%7D%3D%5Cbold%7BG_a%5E0%2B%5CDelta+G_a%7D\" alt=\"\\bold{G_a}=\\bold{G_a^0+\\Delta G_a}\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bh%7D%3D%5Cbold%7Bh%7D%5E0%2B%5CDelta%5Cbold%7Bh%7D\" alt=\"\\bold{h}=\\bold{h}^0+\\Delta\\bold{h}\" eeimg=\"1\"/> 。由于 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BG_a%5E0%7D%5Cbold%7Bz_a%5E0%7D%3D%5Cbold%7Bh%5E0%7D\" alt=\"\\bold{G_a^0}\\bold{z_a^0}=\\bold{h^0}\" eeimg=\"1\"/> ，则有</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cpsi%3D%5CDelta%5Cbold%7Bh%7D-%5CDelta%5Cbold%7BG_a%7D%5Cbold%7Bz_a%5E0%7D%5Cquad+%2815%29\" alt=\"\\psi=\\Delta\\bold{h}-\\Delta\\bold{G_a}\\bold{z_a^0}\\quad (15)\" eeimg=\"1\"/> </p><p>记 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bz_a%7D%3D%5Cbold%7Bz_a%5E0%7D%2B%5CDelta%5Cbold%7Bz_a%7D\" alt=\"\\bold{z_a}=\\bold{z_a^0}+\\Delta\\bold{z_a}\" eeimg=\"1\"/> ，根据公式（14），有</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cleft%28+%5Cbold%7B+G_a%5E%7B0T%7D%2B%5CDelta+G_a%5ET+%7D+%5Cright%29+%5CPsi%5E%7B-1%7D+%5Cleft%28+%5Cbold%7B+G_a%5E%7B0%7D%2B%5CDelta+G_a+%7D+%5Cright%29+%5Cleft%28+%5Cbold%7B+z_a%5E%7B0%7D%2B%5CDelta+z_a+%7D+%5Cright%29+%3D+%5Cleft%28+%5Cbold%7B+G_a%5E%7B0T%7D%2B%5CDelta+G_a%5ET+%7D+%5Cright%29+%5CPsi%5E%7B-1%7D+%5Cleft%28+%5Cbold%7B+h%2B%5CDelta+h+%7D+%5Cright%29+%5Cquad+%2816%29\" alt=\"\\left( \\bold{ G_a^{0T}+\\Delta G_a^T } \\right) \\Psi^{-1} \\left( \\bold{ G_a^{0}+\\Delta G_a } \\right) \\left( \\bold{ z_a^{0}+\\Delta z_a } \\right) = \\left( \\bold{ G_a^{0T}+\\Delta G_a^T } \\right) \\Psi^{-1} \\left( \\bold{ h+\\Delta h } \\right) \\quad (16)\" eeimg=\"1\"/> </p><p>仅保留线性扰动项，并结合公式（12）和公式（15）， <img src=\"https://www.zhihu.com/equation?tex=%5CDelta+%5Cbold%7Bz_a%7D\" alt=\"\\Delta \\bold{z_a}\" eeimg=\"1\"/> 和其协方差矩阵为</p><p><img src=\"https://www.zhihu.com/equation?tex=%5CDelta+%5Cbold%7Bz_a%7D%3Dc%28%5Cbold%7BG%7D_a%5E%7B0T%7D%5CPsi%5E%7B-1%7D%5Cbold%7BG_a%5E0%7D%29%5E%7B-1%7D%5Cbold%7BG_a%5E%7B0T%7D%7D%5CPsi%5E%7B-1%7D%5Cbold%7BBn%7D\" alt=\"\\Delta \\bold{z_a}=c(\\bold{G}_a^{0T}\\Psi^{-1}\\bold{G_a^0})^{-1}\\bold{G_a^{0T}}\\Psi^{-1}\\bold{Bn}\" eeimg=\"1\"/> </p><p><img src=\"https://www.zhihu.com/equation?tex=cov%28%5Cbold%7Bz_a%7D%29%3DE%5B%5CDelta%5Cbold%7Bz_a%7D%5CDelta%5Cbold%7Bz_a%7D%5ET%5D%3D%28%5Cbold%7BG_a%5E%7B0T%7D%7D%5CPsi%5E%7B-1%7D%5Cbold%7BG_a%5E0%7D%29%5E%7B-1%7D%5Cquad+%2817%29\" alt=\"cov(\\bold{z_a})=E[\\Delta\\bold{z_a}\\Delta\\bold{z_a}^T]=(\\bold{G_a^{0T}}\\Psi^{-1}\\bold{G_a^0})^{-1}\\quad (17)\" eeimg=\"1\"/> </p><p>其中式（12）误差的平方项在上述的公式推导过程中已经被忽略掉了。</p><hr/><p>科研和工程还是有区别的，工程上只要解决问题就行，科研则需要从工程中抽象出问题和理论，并指导更高要求的工程。</p><p>在上面，我们在利用公式（14）进行求解时，假设 <img src=\"https://www.zhihu.com/equation?tex=x\" alt=\"x\" eeimg=\"1\"/> 、 <img src=\"https://www.zhihu.com/equation?tex=y\" alt=\"y\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=r_1\" alt=\"r_1\" eeimg=\"1\"/> 是相互独立的。但是，他们终究还是受到公式（5）的约束（ <img src=\"https://www.zhihu.com/equation?tex=i%3D1\" alt=\"i=1\" eeimg=\"1\"/> ）。那么，能否利用这个关系，更进一步的提高估计精度？</p><p>再来个假设，当TDOA的测量噪声足够小的时候，向量 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bz_a%7D\" alt=\"\\bold{z_a}\" eeimg=\"1\"/> 是一个随机向量，其均值为真值，其协方差见公式（17），因此， <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bz_a%7D\" alt=\"\\bold{z_a}\" eeimg=\"1\"/> 的元素可以表示为：</p><p><img src=\"https://www.zhihu.com/equation?tex=z_%7Ba%2C1%7D%3Dx%5E0%2Be_1%2Cz_%7Ba%2C2%7D%3Dy%5E0%2Be_2%2Cz_%7Ba%2C3%7D%3Dr%5E0_1%2Be_3%5Cquad+%2818%29\" alt=\"z_{a,1}=x^0+e_1,z_{a,2}=y^0+e_2,z_{a,3}=r^0_1+e_3\\quad (18)\" eeimg=\"1\"/> </p><p>其中， <img src=\"https://www.zhihu.com/equation?tex=e_1\" alt=\"e_1\" eeimg=\"1\"/> 、 <img src=\"https://www.zhihu.com/equation?tex=e_2\" alt=\"e_2\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=e_3\" alt=\"e_3\" eeimg=\"1\"/> 为向量 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bz_a%7D\" alt=\"\\bold{z_a}\" eeimg=\"1\"/> 的估计误差。从向量 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bz_a%7D\" alt=\"\\bold{z_a}\" eeimg=\"1\"/> 的前两个元素中分别减去 <img src=\"https://www.zhihu.com/equation?tex=x_1\" alt=\"x_1\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=y_1\" alt=\"y_1\" eeimg=\"1\"/> （就是anchor 1的坐标），再对向量 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bz_a%7D\" alt=\"\\bold{z_a}\" eeimg=\"1\"/> 的元素来个平方运算，见如下公式：</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cpsi%27%3D%5Cbold%7Bh%27%7D-%5Cbold%7B%7BG_a%7D%27%7Bz_a%5E0%7D%27%7D%5Cquad+%2819%29\" alt=\"\\psi&#39;=\\bold{h&#39;}-\\bold{{G_a}&#39;{z_a^0}&#39;}\\quad (19)\" eeimg=\"1\"/> </p><p>其中， <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bh%27%7D%3D+%5Cleft%5B+%5Cbegin%7Bmatrix%7D+%28z_%7Ba%2C1%7D-x_1%29%5E2%5C%5C+%28z_%7Ba%2C2%7D-y_1%29%5E2%5C%5C+%28z_%7Ba%2C3%7D%5E2%29+%5Cend%7Bmatrix%7D+%5Cright%5D\" alt=\"\\bold{h&#39;}= \\left[ \\begin{matrix} (z_{a,1}-x_1)^2\\\\ (z_{a,2}-y_1)^2\\\\ (z_{a,3}^2) \\end{matrix} \\right]\" eeimg=\"1\"/> ， <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BG%27_a%7D%3D+%5Cleft%5B+%5Cbegin%7Bmatrix%7D+1%260%5C%5C+0%261%5C%5C+1%261+%5Cend%7Bmatrix%7D+%5Cright%5D\" alt=\"\\bold{G&#39;_a}= \\left[ \\begin{matrix} 1&amp;0\\\\ 0&amp;1\\\\ 1&amp;1 \\end{matrix} \\right]\" eeimg=\"1\"/> ， <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bz_a%27%7D%3D+%5Cleft%5B+%5Cbegin%7Bmatrix%7D+%28x-x_1%29%5E2%5C%5C+%28y-y_1%29%5E2%5C%5C+%5Cend%7Bmatrix%7D+%5Cright%5D\" alt=\"\\bold{z_a&#39;}= \\left[ \\begin{matrix} (x-x_1)^2\\\\ (y-y_1)^2\\\\ \\end{matrix} \\right]\" eeimg=\"1\"/> </p><p>上标0表示真值，不受噪声影响。显然， <img src=\"https://www.zhihu.com/equation?tex=%5Cpsi%27\" alt=\"\\psi&#39;\" eeimg=\"1\"/> 表明了向量 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bz_a%7D\" alt=\"\\bold{z_a}\" eeimg=\"1\"/> 的不准确性。将式（18）带入式（19），则有</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbegin%7Barray%7D%5C%5C+%5Cpsi%27_1%3D2%28x%5E0-x_1%29e_1%2Be_1%5E2%5Capprox+2%28x%5E0-x_1%29e_1%5C%5C+%5Cpsi%27_2%3D2%28y%5E0-y_1%29e_2%2Be_2%5E2%5Capprox+2%28y%5E0-y_1%29e_2%5C%5C+%5Cpsi%27_3%3D2r_1%5E0e_3%2Be_3%5E2%5Capprox+2r_1%5E0e_3+%5Cend%7Barray%7D+%5Cquad+%2820%29\" alt=\"\\begin{array}\\\\ \\psi&#39;_1=2(x^0-x_1)e_1+e_1^2\\approx 2(x^0-x_1)e_1\\\\ \\psi&#39;_2=2(y^0-y_1)e_2+e_2^2\\approx 2(y^0-y_1)e_2\\\\ \\psi&#39;_3=2r_1^0e_3+e_3^2\\approx 2r_1^0e_3 \\end{array} \\quad (20)\" eeimg=\"1\"/> </p><p>当误差 <img src=\"https://www.zhihu.com/equation?tex=e_i%2Ci%3D1%2C2%2C3\" alt=\"e_i,i=1,2,3\" eeimg=\"1\"/> 比较小时，公式（20）近似成立。</p><p>现在，比较容易推到出</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbegin%7Bmatrix%7D+%5CPsi%27%3D%5B%5Cpsi%5Cpsi%27%5ET%5D%3D4%5Cbold%7BB%7D%27%5Crm%7Bcov%7D%28%5Cbold%7Bz_a%7D%29%5Cbold%7BB%7D%27%5C%5C+%5Cbold%7BB%7D%27%3Ddiag%7B%28x%5E0-x_1%2Cy%5E0-y_1%2Cr_1%5E0%29%7D+%5Cend%7Bmatrix%7D+%5Cquad+%2821%29\" alt=\"\\begin{matrix} \\Psi&#39;=[\\psi\\psi&#39;^T]=4\\bold{B}&#39;\\rm{cov}(\\bold{z_a})\\bold{B}&#39;\\\\ \\bold{B}&#39;=diag{(x^0-x_1,y^0-y_1,r_1^0)} \\end{matrix} \\quad (21)\" eeimg=\"1\"/> </p><p>由于 <img src=\"https://www.zhihu.com/equation?tex=%5Cpsi\" alt=\"\\psi\" eeimg=\"1\"/> 遵循高斯分布，那么显然 <img src=\"https://www.zhihu.com/equation?tex=%5Cpsi%27\" alt=\"\\psi&#39;\" eeimg=\"1\"/> 也遵循高斯分布用最小二乘估计</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bz_a%27%7D%3D%5Cbold%7B%28%7BG%27%7D_a%5ET%5CPsi%27%5E%7B-1%7D%7BG%27%7D_a%29%5E%7B-1%7D%7BG%27%7D_a%5ET%5CPsi%27%5E%7B-1%7Dh%27%7D%5Cquad+%2822a%29\" alt=\"\\bold{z_a&#39;}=\\bold{({G&#39;}_a^T\\Psi&#39;^{-1}{G&#39;}_a)^{-1}{G&#39;}_a^T\\Psi&#39;^{-1}h&#39;}\\quad (22a)\" eeimg=\"1\"/> </p><p>公式（22）中， <img src=\"https://www.zhihu.com/equation?tex=%5CPsi%27\" alt=\"\\Psi&#39;\" eeimg=\"1\"/> 中含有真值，因此不能直接求得：</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bz_a%5Et%7D%3D%5Cbold%7B%28%7BG%27%7D_a%5ETB%27%5E%7B-1%7DG_aQ%5E%7B-1%7DG_aB%27%5E%7B-1%7DG%27_a%29%5E%7B-1%7D%7D+%5Cbold%7B%28%7BG%27%7D_a%5ETB%27%5E%7B-1%7DG_aQ%5E%7B-1%7DG_aB%27%5E%7B-1%7D%29h%27%7D+%5Cquad+%2822b%29\" alt=\"\\bold{z_a^t}=\\bold{({G&#39;}_a^TB&#39;^{-1}G_aQ^{-1}G_aB&#39;^{-1}G&#39;_a)^{-1}} \\bold{({G&#39;}_a^TB&#39;^{-1}G_aQ^{-1}G_aB&#39;^{-1})h&#39;} \\quad (22b)\" eeimg=\"1\"/> </p><p>再进一步求得（公式推导还真是有点繁琐：（   ）</p><p><img src=\"https://www.zhihu.com/equation?tex=cov%28%5Cbold%7Bz_a%27%7D%29%3D%28%5Cbold%7B%7BG%27%7D_a%5ET%5CPsi%27%5E%7B-1%7DG_a%27%7D%29%5E%7B-1%7D%5Cquad+%2823%29\" alt=\"cov(\\bold{z_a&#39;})=(\\bold{{G&#39;}_a^T\\Psi&#39;^{-1}G_a&#39;})^{-1}\\quad (23)\" eeimg=\"1\"/> </p><p>最终，位置的估计为</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bz_p%7D%3D%5Csqrt%7B%5Cbold%7Bz_a%27%7D%7D%2B+%5Cleft%5B+%5Cbegin%7Bmatrix%7D+x_1%5C%5C+y_1+%5Cend%7Bmatrix%7D+%5Cright%5D+%5C%5C+%E6%88%96%E8%80%85%5C%5C+%5Cbold%7Bz_p%7D%3D-%5Csqrt%7B%5Cbold%7Bz_a%27%7D%7D%2B+%5Cleft%5B+%5Cbegin%7Bmatrix%7D+x_1%5C%5C+y_1+%5Cend%7Bmatrix%7D+%5Cright%5D+%5Cquad+%2824%29\" alt=\"\\bold{z_p}=\\sqrt{\\bold{z_a&#39;}}+ \\left[ \\begin{matrix} x_1\\\\ y_1 \\end{matrix} \\right] \\\\ 或者\\\\ \\bold{z_p}=-\\sqrt{\\bold{z_a&#39;}}+ \\left[ \\begin{matrix} x_1\\\\ y_1 \\end{matrix} \\right] \\quad (24)\" eeimg=\"1\"/> </p><p>合适的解需要根据我们所划定的兴趣区域来消除模糊度。</p><p>为了确定 <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bz_p%7D\" alt=\"\\bold{z_p}\" eeimg=\"1\"/> 的协方差矩阵，将定位结果表达为 <img src=\"https://www.zhihu.com/equation?tex=x%3Dx%5E0%2Be_x\" alt=\"x=x^0+e_x\" eeimg=\"1\"/> 和 <img src=\"https://www.zhihu.com/equation?tex=y%3Dy%5E0%2Be_y\" alt=\"y=y^0+e_y\" eeimg=\"1\"/> ，根据公式（19）的定义，有</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbegin%7Bmatrix%7D+z%27_%7Ba%2C1%7D-%28x%5E0-x%5E1%29%5E2%3D2%28x%5E0-x_1%29e_x%2Be_x%5E2%5C%5C+z%27_%7Ba%2C2%7D-%28y%5E0-y%5E1%29%5E2%3D2%28y%5E0-y_1%29e_y%2Be_y%5E2+%5Cend%7Bmatrix%7D+%5Cquad+%2825%29+\" alt=\"\\begin{matrix} z&#39;_{a,1}-(x^0-x^1)^2=2(x^0-x_1)e_x+e_x^2\\\\ z&#39;_{a,2}-(y^0-y^1)^2=2(y^0-y_1)e_y+e_y^2 \\end{matrix} \\quad (25) \" eeimg=\"1\"/> </p><p>自然的，忽略二阶误差小量，并利用前文所推导的关系， <img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7Bz_p%7D\" alt=\"\\bold{z_p}\" eeimg=\"1\"/> 的协方差公式为</p><p><img src=\"https://www.zhihu.com/equation?tex=%5CPhi%3D%5Crm%7Bcov%7D%28%5Cbold%7Bz_p%7D%29%3D%5Cfrac%7B1%7D%7B4%7D%5Cbold%7BB%27%27%7D%5E%7B-1%7Dcov%28%5Cbold%7Bz_a%27%7D%29%5Cbold%7BB%27%27%7D%5E%7B-1%7D+%5Cquad+%2826%29\" alt=\"\\Phi=\\rm{cov}(\\bold{z_p})=\\frac{1}{4}\\bold{B&#39;&#39;}^{-1}cov(\\bold{z_a&#39;})\\bold{B&#39;&#39;}^{-1} \\quad (26)\" eeimg=\"1\"/> </p><p>其中</p><p><img src=\"https://www.zhihu.com/equation?tex=%5Cbold%7BB%27%27%7D%3D+%5Cleft%5B+%5Cbegin%7Bmatrix%7D+%28x%5E0-x_1%29%260%5C%5C+0%26%28y%5E0-y_1%29+%5Cend%7Bmatrix%7D+%5Cright%5D\" alt=\"\\bold{B&#39;&#39;}= \\left[ \\begin{matrix} (x^0-x_1)&amp;0\\\\ 0&amp;(y^0-y_1) \\end{matrix} \\right]\" eeimg=\"1\"/> </p><p class=\"ztext-empty-paragraph\"><br/></p><hr/><p>本文暂时更新至此，等再有若干参悟，再来谈谈CRLB</p><p>拜读CHAN算法原文：</p><p>Chan, Yiu-Tong, and K. C. Ho. &#34;A simple and efficient estimator for hyperbolic location.&#34; <i>IEEE Transactions on signal processing</i> 42.8 (1994): 1905-1915.</p><p class=\"ztext-empty-paragraph\"><br/></p><p>参考文献</p><p>【1】Hahn, W., and S. Tretter. &#34;Optimum processing for delay-vector estimation in passive signal arrays.&#34; <i>IEEE Transactions on Information Theory</i> 19.5 (1973): 608-614.</p><p>【2】Hahn, William Robert. &#34;Optimum signal processing for passive sonar range and bearing estimation.&#34; <i>The Journal of the Acoustical Society of America</i> 58.1 (1975): 201-207.</p><p>【3】Carter, G. C. &#34;Time delay estimation for passive sonar signal processing.&#34; <i>IEEE Transactions on Acoustics, Speech, and Signal Processing</i> 29.3 (1981): 463-470.</p><p class=\"ztext-empty-paragraph\"><br/></p><p><b>微信公众号：墨阑萱</b></p><p><b>新浪微博：融冰C</b></p><p>知乎专栏：<a href=\"https://zhuanlan.zhihu.com/c_132713269\" class=\"internal\">墨阑萱</a></p>", 
            "topic": [
                {
                    "tag": "导航", 
                    "tagLink": "https://api.zhihu.com/topics/19553199"
                }, 
                {
                    "tag": "定位（地理）", 
                    "tagLink": "https://api.zhihu.com/topics/19649808"
                }
            ], 
            "comments": [
                {
                    "userName": "山中浪游", 
                    "userLink": "https://www.zhihu.com/people/241dfd73c32cbd1d49b634266f49bf24", 
                    "content": "<p>666 催更 催更</p>", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "isyc", 
                    "userLink": "https://www.zhihu.com/people/4078bbe04e3b5a8a8d98843d0a727a06", 
                    "content": "<p>公式有点小问题</p>", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "Jachin", 
                    "userLink": "https://www.zhihu.com/people/407a94548707d6c4b3dddd92e0098306", 
                    "content": "<p>B=diag{r2,r3……rM}</p>", 
                    "likes": 0, 
                    "childComments": []
                }
            ]
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/30722116", 
            "userName": "融冰C", 
            "userLink": "https://www.zhihu.com/people/ae1df4b61f956bf551ad9e4d77aa2fd3", 
            "upvote": 0, 
            "title": "机器人会梦到自己在飞翔么？（序）", 
            "content": "<p>题图：兰，娴静，青春永驻，淡泊高雅</p><p class=\"ztext-empty-paragraph\"><br/></p><p>意识觉醒的流程，或许是这样：</p><p>这是哪里——我是谁——我要干嘛</p><p class=\"ztext-empty-paragraph\"><br/></p><p>假如机器有了意识，定会埋怨它的设计者：满身的BUG！</p><p class=\"ztext-empty-paragraph\"><br/></p><p>技术专栏，却起了这样一个不伦不类的名称，哗个众，取个宠</p><p>想法还是要有的，万一某天，真正意义的AI诞生了</p><p>不过到那时，到底是谁设计了谁</p><p class=\"ztext-empty-paragraph\"><br/></p><p>人生那么长，青春那么短，意识那么拙</p><p class=\"ztext-empty-paragraph\"><br/></p><p><b>微信公众号：墨阑萱</b></p><p><b>新浪微博：融冰C</b></p><p>知乎专栏：<a href=\"https://zhuanlan.zhihu.com/c_132713269\" class=\"internal\">墨阑萱</a></p>", 
            "topic": [
                {
                    "tag": "机器人", 
                    "tagLink": "https://api.zhihu.com/topics/19551273"
                }
            ], 
            "comments": []
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/30449612", 
            "userName": "融冰C", 
            "userLink": "https://www.zhihu.com/people/ae1df4b61f956bf551ad9e4d77aa2fd3", 
            "upvote": 0, 
            "title": "写在前面", 
            "content": "<p>感谢这个日新月异的时代，能让每一个像我一样的普通人都能够有机会展示自己的所思、所想、所言、所行。</p><p>既然是专栏，就希望能够正式一点，像书店的卖的大小部头那样，总有一个写在前面，谈下为何而写，抑或是讲下它的故事。</p><p>作为在读小博，阅历尚浅，量也写不出什么有深度的文字，那就暂且以技术立栏，以技术专题的形式记录自己的研究与工作，一来做个备忘，某天自己神经质的怅然回首时，发现自己曾经也是做过一些small things，自娱自乐；二来能为需要这些技术的人或项目提供参考，大言不惭：“算是为人类文明进步大业贡献自己的一份微薄之力~~”，若能结识到志趣相合的好友，就是甚好。</p><p>本文会根据专栏内容不定期补充修改，专栏暂定：笔记、机器人两个部分。笔记没有逻辑，随性记录；机器人就专门谈机器人吧~~~~~</p><p><b>笔记</b>，强迫自己理解文献而写；<b>机器人</b>，向极客精神致敬。</p><p>附图为校园一角，愿岁月慢走，定格片刻。</p><p class=\"ztext-empty-paragraph\"><br/></p><p><b>微信公众号：墨阑萱</b></p><p><b>新浪微博：融冰C</b></p><p>知乎专栏：<a href=\"https://zhuanlan.zhihu.com/c_132713269\" class=\"internal\">墨阑萱</a></p>", 
            "topic": [
                {
                    "tag": "信息技术（IT）", 
                    "tagLink": "https://api.zhihu.com/topics/19556498"
                }, 
                {
                    "tag": "导航", 
                    "tagLink": "https://api.zhihu.com/topics/19553199"
                }
            ], 
            "comments": []
        }
    ], 
    "url": "https://zhuanlan.zhihu.com/c_132713269"
}
