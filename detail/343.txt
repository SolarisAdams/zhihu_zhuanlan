{
    "title": "è‡ªåˆ¶Javaè™šæ‹Ÿæœº", 
    "description": "è‡ªåˆ¶Javaè™šæ‹Ÿæœº", 
    "followers": [
        "https://www.zhihu.com/people/wu-pin-40", 
        "https://www.zhihu.com/people/tan-xiao-yang-95", 
        "https://www.zhihu.com/people/bu-ding-long", 
        "https://www.zhihu.com/people/tong-bai-75", 
        "https://www.zhihu.com/people/liu-xiao-sheng-27", 
        "https://www.zhihu.com/people/dong-sheng-91", 
        "https://www.zhihu.com/people/ma-nong-ban-yun-gong", 
        "https://www.zhihu.com/people/yang-yue-64-64-13", 
        "https://www.zhihu.com/people/xu-yu-kuan-10", 
        "https://www.zhihu.com/people/xie-tao-47-50", 
        "https://www.zhihu.com/people/ggff-ss", 
        "https://www.zhihu.com/people/liu-ai-ai-87", 
        "https://www.zhihu.com/people/liqiong", 
        "https://www.zhihu.com/people/linuxcpp", 
        "https://www.zhihu.com/people/zhukovasky", 
        "https://www.zhihu.com/people/sir-zhang-32", 
        "https://www.zhihu.com/people/jungle0718", 
        "https://www.zhihu.com/people/yang-shun-gang", 
        "https://www.zhihu.com/people/zheng-jian-yang-56", 
        "https://www.zhihu.com/people/zhou-wen-7-22", 
        "https://www.zhihu.com/people/gu-du-zhe-87-42", 
        "https://www.zhihu.com/people/qi-ji-26", 
        "https://www.zhihu.com/people/chen-lun-zhe-38", 
        "https://www.zhihu.com/people/rsysw", 
        "https://www.zhihu.com/people/yan-lao-shi-89-58", 
        "https://www.zhihu.com/people/raccoon", 
        "https://www.zhihu.com/people/huang-xing-60", 
        "https://www.zhihu.com/people/xu-ze-fan-37", 
        "https://www.zhihu.com/people/dhr-35", 
        "https://www.zhihu.com/people/xuan-yi-97-9", 
        "https://www.zhihu.com/people/ju-chen-4", 
        "https://www.zhihu.com/people/da-da-21-6-53", 
        "https://www.zhihu.com/people/himejisyana", 
        "https://www.zhihu.com/people/xi-yuan-qu-zhen", 
        "https://www.zhihu.com/people/pin-cou-73", 
        "https://www.zhihu.com/people/JeeGem", 
        "https://www.zhihu.com/people/cha-na-yong-jiu", 
        "https://www.zhihu.com/people/xiang-zao-ri-tuo-chi", 
        "https://www.zhihu.com/people/xiao-wen-55-60", 
        "https://www.zhihu.com/people/yanyanhohe-shuo-yan", 
        "https://www.zhihu.com/people/henji5566", 
        "https://www.zhihu.com/people/ace-98-79", 
        "https://www.zhihu.com/people/bai-jian-kun-24", 
        "https://www.zhihu.com/people/chen-mo-de-bluef", 
        "https://www.zhihu.com/people/zhang-zhong-wei-49", 
        "https://www.zhihu.com/people/sos2000", 
        "https://www.zhihu.com/people/ren-hao-84-60", 
        "https://www.zhihu.com/people/liam-zhang-92", 
        "https://www.zhihu.com/people/zhaoxin-11", 
        "https://www.zhihu.com/people/wang-xing-xiao-99", 
        "https://www.zhihu.com/people/da-mao-93-15", 
        "https://www.zhihu.com/people/niu-you-rou-87", 
        "https://www.zhihu.com/people/shecanwin", 
        "https://www.zhihu.com/people/bu-yan-94-50", 
        "https://www.zhihu.com/people/ma-xiang-bin", 
        "https://www.zhihu.com/people/don-18-80", 
        "https://www.zhihu.com/people/wang-bing-cao", 
        "https://www.zhihu.com/people/liu-bo-72-1", 
        "https://www.zhihu.com/people/zorsting", 
        "https://www.zhihu.com/people/dang-fu-yida-bai-59", 
        "https://www.zhihu.com/people/zhe-ye-34-86", 
        "https://www.zhihu.com/people/chen-tuo-11", 
        "https://www.zhihu.com/people/xi-dong-yang", 
        "https://www.zhihu.com/people/zhang-ji-hui-91-16", 
        "https://www.zhihu.com/people/isunimp", 
        "https://www.zhihu.com/people/Dxiaomianyang", 
        "https://www.zhihu.com/people/wiggin-74", 
        "https://www.zhihu.com/people/readgogogo", 
        "https://www.zhihu.com/people/zuo-yan-2-8", 
        "https://www.zhihu.com/people/xu-zai-15-84", 
        "https://www.zhihu.com/people/openthedoors", 
        "https://www.zhihu.com/people/qi-ye-59-20", 
        "https://www.zhihu.com/people/fanliyong", 
        "https://www.zhihu.com/people/verofess", 
        "https://www.zhihu.com/people/baozhifei", 
        "https://www.zhihu.com/people/qing-zheng-xian-yu", 
        "https://www.zhihu.com/people/chen-ban-xian-er-52", 
        "https://www.zhihu.com/people/chen-qi-14-72", 
        "https://www.zhihu.com/people/wang-liao-52", 
        "https://www.zhihu.com/people/wei-feng-xia-tian", 
        "https://www.zhihu.com/people/patrick-simon-78", 
        "https://www.zhihu.com/people/ceng-wei-han-93", 
        "https://www.zhihu.com/people/quan-duo-ling", 
        "https://www.zhihu.com/people/zhanghuidream", 
        "https://www.zhihu.com/people/wusatosi", 
        "https://www.zhihu.com/people/nai-you-wei-de-cong", 
        "https://www.zhihu.com/people/a-bei-87", 
        "https://www.zhihu.com/people/shijiaqi88", 
        "https://www.zhihu.com/people/da-bai-sha-97-94", 
        "https://www.zhihu.com/people/tra-sa", 
        "https://www.zhihu.com/people/cos30", 
        "https://www.zhihu.com/people/feiluotuo", 
        "https://www.zhihu.com/people/jello-chen", 
        "https://www.zhihu.com/people/luo-yu-31-80", 
        "https://www.zhihu.com/people/he-wei-wu-he-wei-wo", 
        "https://www.zhihu.com/people/yang-ze-hong-5", 
        "https://www.zhihu.com/people/li-jia-ming-70", 
        "https://www.zhihu.com/people/king-montain"
    ], 
    "article": [
        {
            "url": "https://zhuanlan.zhihu.com/p/36429461", 
            "userName": "kelthuzadx", 
            "userLink": "https://www.zhihu.com/people/88eadbe06dacd1645280e4d826de939a", 
            "upvote": 4, 
            "title": "è‡ªåˆ¶Javaè™šæ‹Ÿæœº (3) è™šæ‹Ÿæœºè¿è¡Œæ—¶æ•°æ®åŒº", 
            "content": "<p>ä¸Šä¸€ç¯‡æ–‡ç« æˆ‘ä»¬è§£æClasså¹¶ç”Ÿæˆ<code>JavaClass</code>ï¼Œ<code>JavaClass</code>é‡Œé¢åŒ…å«äº†javaçš„bytecodeï¼Œè¿™é‡Œéƒ½å¯ä»¥å¼€å§‹å†™ä»£ç æ‰§è¡Œå¼•æ“äº†ã€‚</p><p>æ²¡é”™ï¼Œç¬¬ä¸€æ¬¡æˆ‘ä¹Ÿæ˜¯è¿™ä¹ˆåšçš„ï¼Œç»“æœå¤±è´¥äº†ï¼Œå› ä¸ºåæœŸæ²¡æœ‰è‰¯å¥½çš„è¿è¡Œæ—¶æ•°æ®ç»„ç»‡æ ¹æœ¬å†™ä¸ä¸‹å»ã€‚è¿™æ¬¡æˆ‘å­¦èªæ˜äº†ï¼Œå…ˆè®¾è®¡ç»“æ„å†å†™é€»è¾‘ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>è¿è¡Œæ—¶æ•°æ®åŒº</b></h2><p>è¿è¡Œæ—¶æ•°æ®åŒºåœ¨JVM8 ä¸­æœ‰ä¸€ä¸ªæŒ‡å¯¼æ€§çš„å®šä¹‰ï¼Œè¯¦ç»†å†…å®¹å¯ä»¥å‚è§<a href=\"https://link.zhihu.com/?target=https%3A//docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html%23jvms-2.5\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">Chapter 2. The Structure of the Java Virtual Machine</a>:</p><a href=\"https://link.zhihu.com/?target=https%3A//docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html%23jvms-2.5\" data-draft-node=\"block\" data-draft-type=\"link-card\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">Chapter 2. The Structure of the Java Virtual Machine</a><p>è¿™é‡Œæœ‰ä¸ªæ›´ç›´è§‚çš„å›¾ç¤ºï¼š</p><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-f4d479e276ff106e429eadbb59d8ec51_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"617\" data-rawheight=\"365\" class=\"origin_image zh-lightbox-thumb\" width=\"617\" data-original=\"https://pic2.zhimg.com/v2-f4d479e276ff106e429eadbb59d8ec51_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;617&#39; height=&#39;365&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"617\" data-rawheight=\"365\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"617\" data-original=\"https://pic2.zhimg.com/v2-f4d479e276ff106e429eadbb59d8ec51_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-f4d479e276ff106e429eadbb59d8ec51_b.jpg\"/></figure><p>è¿è¡Œæ—¶ç»“æ„æ˜¯è™šæ‹Ÿæœºçš„éª¨æ¶ï¼Œåé¢ä»£ç æ‰§è¡Œï¼Œç®—æœ¯è¿ç®—ï¼Œæ–¹æ³•è°ƒç”¨ï¼Œå¼‚å¸¸å¤„ç†ç­‰ç­‰éƒ½éœ€è¦å’Œè¿è¡Œæ—¶æ‰“äº¤é“ï¼Œæå‰è®¾è®¡å¥½å®ƒæ˜¯éå¸¸é‡è¦çš„ï¼Œå…å¾—åé¢ç¼ºä¸€ä¸ªç»“æ„è¡¥ä¸€ä¸ªï¼Œæœ€ç»ˆç ´ç ´çƒ‚çƒ‚è¿è¡Œä¸èƒ½ã€‚ä¸‹é¢æ˜¯æˆ‘çš„è™šæ‹Ÿæœºè¿è¡Œæ—¶ç»“æ„ï¼Œä½äº<a href=\"https://link.zhihu.com/?target=https%3A//github.com/racaljk/yvm/blob/master/src/RuntimeEnv.h\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">RuntimeEnv.h</a></p><div class=\"highlight\"><pre><code class=\"language-cpp\"><span class=\"k\">struct</span> <span class=\"n\">RuntimeEnv</span> <span class=\"p\">{</span>\n    <span class=\"n\">MethodArea</span><span class=\"o\">*</span> <span class=\"n\">ma</span><span class=\"p\">;</span>\n    <span class=\"n\">JavaHeap</span><span class=\"o\">*</span> <span class=\"n\">jheap</span><span class=\"p\">;</span>\n    <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">unordered_map</span><span class=\"o\">&lt;</span><span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">string</span><span class=\"p\">,</span> <span class=\"n\">JType</span><span class=\"o\">*</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">)(</span><span class=\"n\">RuntimeEnv</span><span class=\"o\">*</span> <span class=\"n\">env</span><span class=\"p\">)</span><span class=\"o\">&gt;</span> <span class=\"n\">nativeMethods</span><span class=\"p\">;</span>\n    <span class=\"n\">ConcurrentGC</span><span class=\"o\">*</span> <span class=\"n\">gc</span><span class=\"p\">;</span>\n<span class=\"p\">};</span>\n<span class=\"k\">extern</span> <span class=\"n\">RuntimeEnv</span> <span class=\"n\">yrt</span><span class=\"p\">;</span>\n<span class=\"k\">extern</span> <span class=\"k\">thread_local</span> <span class=\"n\">StackFrames</span> <span class=\"n\">frames</span><span class=\"p\">;</span>\n</code></pre></div><ul><li>MethodAreaè¡¨ç¤ºæ–¹æ³•åŒº</li><li>JavaHeapè¡¨ç¤ºå †</li><li><code>nativeMethods</code>æ˜¯å·²ç»æ³¨å†Œçš„nativeæ–¹æ³•ï¼Œè¿™é‡Œæˆ‘ä¸ºäº†æ–¹ä¾¿æ”¾åˆ°äº†è¿è¡Œæ—¶ã€‚ </li></ul><p>æ‰€æœ‰çº¿ç¨‹å…¬æœ‰çš„ç»“æ„æ¯”å¦‚<b>æ–¹æ³•åŒº,å †ï¼Œå·²æ³¨å†Œçš„nativeæ–¹æ³•ï¼Œåƒåœ¾å›æ”¶å™¨</b>éƒ½æ”¾åœ¨RuntimeEnvé‡Œé¢ã€‚</p><p>æ¯ä¸ªæ‰§è¡Œçº¿ç¨‹ç§æœ‰çš„å†…å®¹å¦‚<b>è™šæ‹Ÿæœºæ ˆï¼Œæœ¬åœ°æ–¹æ³•æ ˆ</b>è¿™äº›ä½äºæ¥ä¸‹æ¥çš„t<a href=\"https://link.zhihu.com/?target=https%3A//github.com/racaljk/yvm/blob/master/src/Frame.h\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">hreadlocal SackFrame</a>ä¸­ï¼š</p><div class=\"highlight\"><pre><code class=\"language-text\">struct Frame {\n    deque&lt;JType*&gt; locals;\n    deque&lt;JType*&gt; stack;\n};\n\nclass StackFrames {\npublic:\n    inline auto back() noexcept { lock_guard&lt;SpinLock&gt; lock(spinMtx);return frames.back();}\n    inline void push_back(Frame * f) { lock_guard&lt;SpinLock&gt; lock(spinMtx); frames.push_back(f); }\n    inline void pop_back() { lock_guard&lt;SpinLock&gt; lock(spinMtx); frames.pop_back(); }\n    inline bool empty() { lock_guard&lt;SpinLock&gt; lock(spinMtx); return frames.empty(); }\n    inline auto cbegin() noexcept{ lock_guard&lt;SpinLock&gt; lock(spinMtx); return frames.cbegin(); }\n    inline auto cend() noexcept { lock_guard&lt;SpinLock&gt; lock(spinMtx); return frames.cend(); }\nprivate:\n    deque&lt;Frame*&gt; frames;\n// deque&lt;Frame*&gt; nativeFrames; æœ¬æ¥å¯ä»¥æœ‰ä¸ªnativeæ–¹æ³•æ ˆï¼Œä½†æˆ‘è¿™é‡Œæ˜¯è®©å®ƒä»¬å…±ç”¨ä¸€ä¸ªframe\n    SpinLock spinMtx;\n};</code></pre></div><p><code>Frame</code> è¡¨ç¤ºjavaæ ˆå’Œnativeæ–¹æ³•æ ˆï¼ŒåŒ…å«å±€éƒ¨å˜é‡æ ˆå’Œæ“ä½œæ•°æ ˆï¼Œå…¶ä¸­å±€éƒ¨å˜é‡æ ˆç”¨äºå‚æ•°ä¼ é€’å’Œå±€éƒ¨å˜é‡ï¼Œæ¯”å¦‚è°ƒç”¨ä¸€ä¸ª<code>void foo(int x,int y)</code>æ–¹æ³•ï¼Œå®å‚x,yçš„å€¼ä¼šä»ä¸Šä¸€ä¸ªFrameæ“ä½œæ•°æ ˆpopï¼Œç„¶åpushåˆ°æ–°Frameçš„å±€éƒ¨å˜é‡æ ˆ</p><p><code>StackFrame</code>ä¸ºäº†æ–¹ä¾¿ç®€å•å°è£…ä¸€ä¸‹ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><p>è¯´å®Œçº¿ç¨‹ç§æœ‰åŒºï¼Œå‰©ä¸‹å°±æ˜¯çº¿ç¨‹å…¬æœ‰éƒ¨åˆ†ï¼Œæœ¬æ¥æœ‰<b>æ–¹æ³•åŒº,å †ï¼Œå·²æ³¨å†Œçš„nativeæ–¹æ³•ï¼Œåƒåœ¾å›æ”¶å™¨ï¼Œ</b>ç”±äºè¿™é‡Œè®¨è®ºè¿è¡Œæ—¶æ•°æ®åŒºï¼Œåƒåœ¾å›æ”¶å’Œnativeæ–¹æ³•å°±æ”¾åˆ°åé¢è¯´äº†ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>1.æ–¹æ³•åŒº(Method Area)</b></h2><p>æ–¹æ³•åŒºå†…çš„æ•°æ®ç”±æ‰€æœ‰çº¿ç¨‹å…±äº«ã€‚å®ƒæœ‰ç‚¹ç±»ä¼¼äºè¿›ç¨‹ä¸­çš„.textæ®µï¼Œå‚¨å­˜äº†ç±»çš„é™æ€ä¿¡æ¯ï¼Œæœ€é‡è¦çš„æ˜¯å­—èŠ‚ç ï¼Œç„¶åæ˜¯æœ‰å¤šå°‘ä¸ªå­—æ®µï¼Œå­—æ®µåæ˜¯ä»€ä¹ˆï¼Œæ¥å£æ˜¯ä»€ä¹ˆï¼Œçˆ¶ç±»æ˜¯ä»€ä¹ˆï¼Œetcã€‚(Javaåå°„æœ€ç»ˆä¹Ÿæ˜¯ç”¨çš„è¿™ä¸ªåŒºçš„æ•°æ®)ã€‚</p><p>ä¸Šæ¬¡æˆ‘ä»¬è§£æClassæ–‡ä»¶å¾—åˆ° JavaClass,è¿™äº›JavaClasså°±ä½äºæ–¹æ³•åŒºï¼Œç»Ÿä¸€ç”±æ–¹æ³•åŒºè´Ÿè´£åŠ è½½é“¾æ¥åˆå§‹åŒ–ï¼š</p><div class=\"highlight\"><pre><code class=\"language-text\">class MethodArea {\npublic:\n    JavaClass* findJavaClass(const char* jcName);\n    bool loadJavaClass(const char* jcName);\n    bool removeJavaClass(const char* jcName);\n    void linkJavaClass(const char* jcName);\n    void initJavaClass(CodeExecution&amp; exec, const char* jcName);\n\npublic:\n    JavaClass* loadClassIfAbsent(const char* jcName){...}\n    void linkClassIfAbsent(const char* jcName){...}\n    void initClassIfAbsent(CodeExecution&amp; exec, const char* jcName){...}\n\nprivate:\n    std::unordered_set&lt;const char *&gt; linkedClasses;//å·²ç»é“¾æ¥çš„Class\n    std::unordered_set&lt;const char *&gt; initedClasses;//å·²ç»åˆå§‹åŒ–çš„Class\n    std::unordered_map&lt;std::string, JavaClass *&gt; classTable;//å·²ç»åŠ è½½çš„Class\n};</code></pre></div><p>åé¢*_IfAbsentæ˜¯è¾…åŠ©æ–¹æ³•ï¼Œè¡¨ç¤ºå¦‚æœæœªxxåˆ™xxã€‚ä¸»è¦å…³æ³¨å‰é¢å‡ ä¸ªæ–¹æ³•</p><p>1. bool loadJavaClass(const char* jcName); è´Ÿè´£åŠ è½½æŒ‡å®šçš„ç±»ï¼Œå¦‚æœè¯¥ç±»æœ‰çˆ¶ç±»åˆ™é€’å½’åŠ è½½çˆ¶ç±»ï¼Œå¦‚æœæœ‰æ¥å£åˆ™é€’å½’åŠ éå†åŠ è½½æ¥å£ï¼Œå¹¶æŠŠåŠ è½½å¥½çš„ç±»æ”¾åˆ°classTableé‡Œ </p><div class=\"highlight\"><pre><code class=\"language-text\">bool MethodArea::loadJavaClass(const char* jcName) {\n    std::lock_guard&lt;std::recursive_mutex&gt; lockMA(maMutex);\n    auto path = parseNameToPath(jcName);\n\n    if (path.length() != 0 &amp;&amp; !findJavaClass(jcName)) {\n        JavaClass* jc = new JavaClass(path.c_str());\n//è§£æClassæ–‡ä»¶ï¼Œå¡«å……JavaClass\n        jc-&gt;parseClassFile();\n//æŠŠå¡«å……åçš„JavaClasså­˜æ”¾åˆ°classTableï¼Œè¡¨ç¤ºè¯¥ç±»å·²åŠ è½½\n        classTable.insert(std::make_pair(std::string(jc-&gt;getClassName()), jc));\n//å¦‚æœè¿˜æœ‰çˆ¶ç±»å°±é€’å½’åŠ è½½çˆ¶ç±»\n        if (jc-&gt;getSuperClassName() &amp;&amp; !findJavaClass(jc-&gt;getSuperClassName())) {\n            this-&gt;loadJavaClass(jc-&gt;getSuperClassName());\n        }\n//å¦‚æœè¿˜æœ‰æ¥å£å°±é€’å½’+éå†è§£ææ¥å£\n        std::vector&lt;u2&gt;&amp;&amp; interfacesIdx = jc-&gt;getInterfacesIndex();\n        if (jc-&gt;getInterfacesIndex().empty()) {\n            for (auto idx : interfacesIdx) {\n                this-&gt;loadJavaClass(jc-&gt;getString(idx));\n            }\n        }\n        return true;\n    }\n    return false;\n}</code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><p>2.void linkJavaClass(const char* jcName); è´Ÿè´£é“¾æ¥ç±»ï¼Œé“¾æ¥çš„æ—¶å€™ä¼šåˆå§‹åŒ–æˆå‘˜ï¼ˆå› ä¸ºJavaæ¯ä¸ªç±»æ¯ä¸ªå­—æ®µéƒ½è¦æ±‚æœ‰å€¼ï¼Œè€Œè¿™ä¸ªè¦æ±‚å°±æ˜¯ç”±é“¾æ¥é˜¶æ®µå®Œæˆçš„ï¼‰</p><div class=\"highlight\"><pre><code class=\"language-text\">void MethodArea::linkJavaClass(const char* jcName) {\n    std::lock_guard&lt;std::recursive_mutex&gt; lockMA(maMutex);\n\n    JavaClass* javaClass = yrt.ma-&gt;findJavaClass(jcName);\n    FOR_EACH(fieldOffset, javaClass-&gt;raw.fieldsCount) {\n        const char* descriptor = javaClass-&gt;getString(javaClass-&gt;raw.fields[fieldOffset].descriptorIndex);\n//å¦‚æœå­—æ®µæ˜¯å¯¹è±¡ï¼Œç»™å®ƒä¸€ä¸ªnullptråˆå§‹å€¼\n        if (IS_FIELD_REF_CLASS(descriptor)) {\n            if (IS_FIELD_STATIC(javaClass-&gt;raw.fields[fieldOffset].accessFlags)) {\n                JObject* fieldObject = nullptr;\n                //å¦‚æœå®ƒè¿˜æ˜¯static finalä¿®é¥°ï¼Œå°±æ›´è¿›ä¸€æ­¥ç¡®å®šä¸€ä¸‹å®ƒçš„å€¼\n                FOR_EACH(fieldAttr, javaClass-&gt;raw.fields[fieldOffset].attributeCount) {\n                    if (typeid(*javaClass-&gt;raw.fields[fieldOffset].attributes[fieldAttr]) == typeid(ATTR_ConstantValue)\n                    ) {\n                        ...\n                        }\n                    }\n                }\n\n                javaClass-&gt;sfield.insert(std::make_pair(fieldOffset, fieldObject));\n            }\n        }\n//å¦‚æœå­—æ®µæ˜¯æ•°ç»„ï¼Œç»™å®ƒä¸€ä¸ªnullptråˆå§‹å€¼\n        else if (IS_FIELD_REF_ARRAY(descriptor)) {\n            if (IS_FIELD_STATIC(javaClass-&gt;raw.fields[fieldOffset].accessFlags)) {\n                JArray* uninitializedArray = nullptr;\n                javaClass-&gt;sfield.insert(std::make_pair(fieldOffset, uninitializedArray));\n            }\n        }\n        else {\n//å¦‚æœå­—æ®µæ˜¯åŸºæœ¬ç±»å‹ï¼Œç»™å®ƒç›¸åº”ç±»å‹çš„åˆå§‹å€¼\n            if (IS_FIELD_STATIC(javaClass-&gt;raw.fields[fieldOffset].accessFlags)) {\n                JType* basicField = determineBasicType(descriptor);\n                //å¦‚æœå®ƒè¿˜æ˜¯static finalä¿®é¥°ï¼Œå°±æ›´è¿›ä¸€æ­¥ç¡®å®šä¸€ä¸‹å®ƒçš„å€¼\n                FOR_EACH(fieldAttr, javaClass-&gt;raw.fields[fieldOffset].attributeCount) {\n                    if (typeid(*javaClass-&gt;raw.fields[fieldOffset].attributes[fieldAttr]) == typeid(ATTR_ConstantValue)\n                    ) {\n                       ...\n                    }\n                }\n\n                javaClass-&gt;sfield.insert(std::make_pair(fieldOffset, basicField));\n            }\n        }\n    }\n//æœ€åæŠŠåŠ è½½å¥½çš„JavaClassæ”¾å…¥linkedClasses\n    linkedClasses.insert(javaClass-&gt;getClassName());\n}</code></pre></div><p>3.void initJavaClass(CodeExecution&amp; exec, const char* jcName);è´Ÿè´£åˆå§‹åŒ–ç±»ï¼Œå³è°ƒç”¨&lt;clinit&gt;æ–¹æ³•ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚æ—¢ç„¶è¿™é‡Œå·²ç»è°ƒç”¨æ–¹æ³•äº†ï¼Œå…‰é MethodAreaæ˜¯å®Œä¸æˆçš„ï¼Œå› æ­¤å‚æ•°å¤šäº†ä¸€ä¸ªCodeExecution </p><div class=\"highlight\"><pre><code class=\"language-text\">void MethodArea::initJavaClass(CodeExecution&amp; exec, const char* jcName) {\n    std::lock_guard&lt;std::recursive_mutex&gt; lockMA(maMutex);\n    initedClasses.insert(jcName);\n    exec.invokeByName(yrt.ma-&gt;findJavaClass(jcName), &#34;&lt;clinit&gt;&#34;, &#34;()V&#34;);\n}</code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>2.Javaå †</b></h2><p>è®¨è®ºå †ä¹‹å‰æˆ‘ä»¬å¾—è¯´è¯´<a href=\"https://link.zhihu.com/?target=https%3A//github.com/racaljk/yvm/blob/master/src/JavaType.h\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">è™šæ‹Ÿæœºå¯¹è±¡</a>æ˜¯æ€ä¹ˆè¡¨ç¤ºçš„ï¼š</p><div class=\"highlight\"><pre><code class=\"language-text\">struct JObject BASE_OF_JTYPE {\n    explicit JObject() = default;\n\n    std::size_t offset = 0; // Offset on java heap\n    const JavaClass* jc{}; // Reference to meta java class\n};\n\nstruct JArray BASE_OF_JTYPE {\n    explicit JArray() = default;\n\n    int length = 0; // Length of java array\n    std::size_t offset = 0; // Offset on java heap\n};</code></pre></div><p>offsetæ˜¯åç§»åœ°å€ï¼Œç„¶åJObject.jcæ˜¯æŒ‡å‘JavaClassçš„æŒ‡é’ˆï¼›JArray.lengthæ˜¯æ•°ç»„é•¿åº¦ã€‚</p><p class=\"ztext-empty-paragraph\"><br/></p><p><a href=\"https://link.zhihu.com/?target=https%3A//github.com/racaljk/yvm/blob/master/src/JavaHeap.h\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">JavaHeap.h</a>æ¥å£æ¯”è¾ƒå¤šï¼Œæˆ‘æ‘˜è¦æ€§è¯´å‡ ä¸ªé‡è¦çš„ï¼Œå…¶ä»–æ¥å£æ„Ÿå…´è¶£çš„æœ‹å‹è¯·ç›´æ¥ç§»æ­¥source code</p><div class=\"highlight\"><pre><code class=\"language-text\">class JavaHeap {\npublic:\n//åˆ›å»ºå¯¹è±¡ï¼Œæ•°ç»„\n    JObject* createObject(const JavaClass&amp; javaClass);\n    JArray* createPODArray(int atype, int length);\n    JArray* createObjectArray(const JavaClass&amp; jc, int length);\n    JArray* createCharArray(const char* source, int length);\n\n//è·å–å¯¹è±¡å­—æ®µ\n    JType* getObjectFieldByOffset(const JObject&amp; object, size_t fieldOffset);\n    void putObjectFieldByOffset(const JObject&amp; object, size_t fieldOffset, JType* value);\n//è·å–æ•°ç»„item\n    void putArrayItem(const JArray&amp; array, size_t index, JType* value);\n    JType* getArrayItem(const JArray&amp; array, size_t index);\n\n//åˆ›å»ºï¼ŒæŸ¥æ‰¾ï¼Œæ£€æŸ¥å¯¹è±¡é”ï¼ˆä¸ºäº†æ”¯æŒsynchronized(){}ï¼‰\n    bool hasObjectMonitor(const JType* ref);\n    void createObjectMonitor(const JType* ref);\n    ObjectMonitor* findObjectMonitor(const JType* ref);\nprivate:\n\n//å¯¹è±¡å †\n    map&lt;size_t,\n        vector&lt;JType*&gt;,\n        less&lt;&gt;,\n        HeapAllocator&lt;pair&lt;const size_t,vector&lt;JType*&gt;&gt;&gt;&gt; objheap;\n    recursive_mutex objMtx;\n\n//æ•°ç»„å †\n    map&lt;size_t, \n        pair&lt;size_t, JType**&gt;, \n        less&lt;&gt;,\n        HeapAllocator&lt;pair&lt;const size_t, pair&lt;size_t, JType**&gt;&gt;&gt;&gt; arrheap;\n    recursive_mutex arrMtx;\n\n//å¯¹è±¡é”å †ï¼ˆå…¶å®æ•°ç»„ä¹Ÿå¯ä»¥ä½œä¸ºå¯¹è±¡é”ï¼Œæ‰€ä»¥è¿™é‡Œå…¨ååº”è¯¥æ˜¯å¯¹è±¡é”ANDæ•°ç»„é”å †ã€‚ã€‚ã€‚ï¼‰\n    map&lt;size_t, \n        ObjectMonitor*, \n        less&lt;&gt;, \n        HeapAllocator&lt;pair&lt;const size_t, ObjectMonitor*&gt;&gt;&gt; monitorheap;\n    recursive_mutex monitorMtx;\n};\n\n</code></pre></div><p>1.<code>JObject* createObject(const JavaClass&amp; javaClass);</code> </p><div class=\"highlight\"><pre><code class=\"language-text\">JObject* JavaHeap::createObject(const JavaClass&amp; javaClass) {\n    std::lock_guard&lt;std::recursive_mutex&gt; lock(objMtx);\n\n    JObject* object = new JObject;//åˆ›å»ºå¯¹è±¡\n    object-&gt;jc = &amp;javaClass;//è®¾ç½®å¯¹è±¡æ˜¯å¯¹åº”å“ªä¸ªJavaClass\n    object-&gt;offset = objheap.empty() ? 0 : (--objheap.end())-&gt;first + 1;//è®¾ç½®åç§»ï¼Œè¿™é‡Œç›´æ¥ç²—æš´æ”¾åˆ°æœ€åå³å¯\n   \n\n//åˆ›å»ºå¯¹è±¡å­—æ®µå¹¶ç»™å®ƒä»¬åˆå§‹å€¼\n    std::vector&lt;JType*&gt; instanceFields; \n\n    FOR_EACH(fieldOffset, javaClass.raw.fieldsCount) {\n        const char* descriptor = javaClass.getString(javaClass.raw.fields[fieldOffset].descriptorIndex);\n\n        if (IS_FIELD_REF_CLASS(descriptor)) {\n            if (!IS_FIELD_STATIC(javaClass.raw.fields[fieldOffset].accessFlags)) {\n                JObject* fieldObject = nullptr;\n                instanceFields.push_back(fieldObject);\n            }\n        }\n        else if (IS_FIELD_REF_ARRAY(descriptor)) {\n            if (!IS_FIELD_STATIC(javaClass.raw.fields[fieldOffset].accessFlags)) {\n                JArray* uninitializedArray = nullptr;\n                instanceFields.push_back(uninitializedArray);\n            }\n        }\n        else {\n            if (!IS_FIELD_STATIC(javaClass.raw.fields[fieldOffset].accessFlags)) {\n                JType* basicField = determineBasicType(descriptor);\n                instanceFields.push_back(basicField);\n            }\n        }\n    }\n\n//æŠŠåˆ›å»ºå¥½çš„å¯¹è±¡æ’å…¥å¯¹è±¡å †\n    objheap.insert(std::make_pair(object-&gt;offset, instanceFields));\n//å¦‚æœæœ‰çˆ¶ç±»åˆ™é€’å½’åˆ›å»ºçˆ¶ç±»å­—æ®µ\n    createSuperFields(javaClass, object);\n    return object;\n}</code></pre></div><p class=\"ztext-empty-paragraph\"><br/></p><p>2.<code>JArray* createPODArray(int atype, int length);</code>åˆ›å»ºæ•°ç»„æœ‰å¤šä¸ªæ–¹æ³•ï¼Œè¿™é‡Œè¯´ä¸€è¯´åˆ›å»ºåŸºç¡€ç±»å‹æ•°ç»„ </p><div class=\"highlight\"><pre><code class=\"language-text\">JArray* JavaHeap::createPODArray(int atype, int length) {\n    std::lock_guard&lt;std::recursive_mutex&gt; lock(arrMtx);\n\n    JArray* arr = new JArray;//åˆ›å»ºæ•°ç»„\n    arr-&gt;length = length;//æŒ‡å®šæ•°ç»„å¤§å°\n    arr-&gt;offset = arrheap.empty() ? 0 : (--arrheap.end())-&gt;first + 1;//è®¾ç½®æ•°ç»„åç§»ï¼ŒåŒä¸Šä¹Ÿæ˜¯ç½®äºæ•°ç»„å †æœ€å\n//åˆ›å»ºæ•°ç»„itemså¹¶èµ‹åˆå§‹å€¼\n    JType** items = new JType*[arr-&gt;length];\n    switch (atype) {\n    case T_FLOAT:\n        FOR_EACH(i, length) {\n            items[i] = new JFloat;\n        }\n        arrheap.insert(std::make_pair(arr-&gt;offset, std::make_pair(length, items)));\n        return arr;\n    case T_DOUBLE:\n        FOR_EACH(i, length) {\n            items[i] = new JDouble;\n        }\n        arrheap.insert(std::make_pair(arr-&gt;offset, std::make_pair(length, items)));\n        return arr;\n    case T_BOOLEAN:\n    case T_CHAR:\n    case T_BYTE:\n    case T_SHORT:\n    case T_INT:\n        FOR_EACH(i, length) {\n            items[i] = new JInt;\n        }\n        arrheap.insert(std::make_pair(arr-&gt;offset, std::make_pair(length, items)));\n        return arr;\n    case T_LONG:\n        FOR_EACH(i, length) {\n            items[i] = new JLong;\n        }\n        arrheap.insert(std::make_pair(arr-&gt;offset, std::make_pair(length, items)));\n        return arr;\n    default:\n        return nullptr;\n    }\n}</code></pre></div><p>3.<code>void createObjectMonitor(const JType* ref);</code>ç›´æ¥åˆ›å»ºå¯¹è±¡é”</p><div class=\"highlight\"><pre><code class=\"language-text\">void JavaHeap::createObjectMonitor(const JType* ref) {\n    std::lock_guard&lt;std::recursive_mutex&gt; lock(monitorMtx);\n    if (typeid(*ref) == typeid(JObject)) {\n        monitorheap.insert(std::make_pair(dynamic_cast&lt;const JObject*&gt;(ref)-&gt;offset, new ObjectMonitor()));\n    }\n    else if (typeid(*ref) == typeid(JArray)) {\n        monitorheap.insert(std::make_pair(dynamic_cast&lt;const JArray*&gt;(ref)-&gt;offset, new ObjectMonitor()));\n    }\n    else {\n        SHOULD_NOT_REACH_HERE\n    }\n}</code></pre></div><p><a href=\"https://link.zhihu.com/?target=https%3A//github.com/racaljk/yvm/blob/master/src/ObjectMonitor.h\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">ObjectMonitor</a>ç»“æ„æ˜¯è¿™æ ·å­çš„ï¼š</p><div class=\"highlight\"><pre><code class=\"language-text\">class ObjectMonitor {\npublic:\n    void enter(std::thread::id tid);\n    void exit();\n\nprivate:\n    std::mutex internalMtx;\n\n    volatile bool entered = false;\n    int32_t monitorCnt = 0;\n    std::thread::id owner;\n    std::condition_variable cv;\n};\n</code></pre></div><p><code>enter()å’Œexit()</code>å¯¹åº”è¿›å…¥monitoråŠ é”/è§£é”ã€‚</p>", 
            "topic": [
                {
                    "tag": "Java", 
                    "tagLink": "https://api.zhihu.com/topics/19561132"
                }, 
                {
                    "tag": "Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰", 
                    "tagLink": "https://api.zhihu.com/topics/19566470"
                }, 
                {
                    "tag": "Java ç¼–ç¨‹", 
                    "tagLink": "https://api.zhihu.com/topics/19582744"
                }
            ], 
            "comments": [
                {
                    "userName": "å¥¶æ²¹å‘³çš„è‘±", 
                    "userLink": "https://www.zhihu.com/people/c6282e1492ddc95e372c2b2528cb7d4f", 
                    "content": "<p>æ–­æ›´äº†??</p><p></p>", 
                    "likes": 0, 
                    "childComments": []
                }
            ]
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/36213497", 
            "userName": "kelthuzadx", 
            "userLink": "https://www.zhihu.com/people/88eadbe06dacd1645280e4d826de939a", 
            "upvote": 8, 
            "title": "è‡ªåˆ¶Javaè™šæ‹Ÿæœº (2.2) Classæ–‡ä»¶è§£æ", 
            "content": "<p>è§„èŒƒ(jvm specification 8)æœ‰å¯¹Classæ–‡ä»¶æ ¼å¼çš„è¯¦ç»†ä»‹ç»ï¼Œæˆ‘ä»¬æ‰€éœ€è¦åšçš„å…¨éƒ¨å†…å®¹å°±æ˜¯æ ¹æ®è§„èŒƒè§£æClassæ–‡ä»¶ï¼Œç„¶åä»¥åˆç†çš„æ–¹å¼ç»„ç»‡èµ·æ¥ã€‚</p><p>å¯¹åº”çš„<a href=\"https://link.zhihu.com/?target=https%3A//github.com/racaljk/yvm/blob/master/src/JavaClass.h\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">JavaClass</a>å°±è´Ÿè´£è¯»å–Classæ–‡ä»¶å¹¶è§£æï¼š</p><div class=\"highlight\"><pre><code class=\"language-text\">class JavaClass {\n...\npublic:\n    const char* getString(u2 index) const;\n\n    const char* getClassName() const;\n\n    const char* getSuperClassName() const;\n\n    bool hasSuperClass() const;\n\n    void parseClassFile();\n\n    std::vector&lt;u2&gt; getInterfacesIndex() const;\n\n    MethodInfo* getMethod(const char* methodName, const char* methodDescriptor) const;\n\n\nprivate:\n    bool parseConstantPool(u2 cpCount);\n    bool parseInterface(u2 interfaceCount);\n    bool parseField(u2 fieldCount);\n    bool parseMethod(u2 methodCount);\n    bool parseAttribute(AttributeInfo** (&amp;attrs), u2 attributeCount);\n...\nprivate:\n    ClassFile raw{};\n    FileReader reader;\n    std::map&lt;size_t, JType*&gt; sfield;\n};\n</code></pre></div><hr/><p>å‡½æ•°åå‡ ä¹æ˜¯è‡ªè§£é‡Šçš„ï¼Œå”¯ä¸€å¤šäº†ä¸ª<a href=\"https://link.zhihu.com/?target=https%3A//github.com/racaljk/yvm/blob/master/src/JavaClass.cpp%23L34\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">getMethod()</a>æ˜¯ä¸ºäº†è·¨è·å¾ˆé•¿çš„åé¢çš„ä»£ç æ‰§è¡Œï¼Œå®ƒç”¨äºåœ¨è¯¥ç±»ä¸­æŸ¥æ‰¾å‡½æ•°åï¼ˆmethodNameï¼‰ï¼Œæè¿°ç¬¦ï¼ˆmethodDescriptorï¼‰å®Œå…¨å¯¹åº”çš„å‡½æ•°ï¼š</p><div class=\"highlight\"><pre><code class=\"language-text\">MethodInfo* JavaClass::getMethod(const char* methodName, const char* methodDescriptor) const {\n    FOR_EACH(i, raw.methodsCount) {\n        assert(typeid(*raw.constPoolInfo[raw.methods[i].nameIndex]) == typeid(CONSTANT_Utf8));\n\n        const char* mn = (char*)getString(raw.methods[i].nameIndex);\n        const char* md = (char*)getString(raw.methods[i].descriptorIndex);\n        if (strcmp(mn, methodName) == 0 &amp;&amp; strcmp(md, methodDescriptor) == 0) {\n            return &amp;raw.methods[i];\n        }\n\n    }\n    return nullptr;\n}</code></pre></div><p>æœ€åå¤šè¯´ä¸€ç‚¹ï¼Œç”±äºè¿™åªæ˜¯ä¸€ä¸ªä»£ç æ‰§è¡Œå¼•æ“çš„è¾…åŠ©æ–¹æ³•ï¼Œå¹¶ä¸æ˜¯è´Ÿè´£å®Œæ•´çš„æ–¹æ³•resolveï¼Œæ‰€ä»¥ä¸éœ€è¦æŸ¥æ‰¾çˆ¶ç±»ï¼ŒæŸ¥æ‰¾æ¥å£ã€‚</p><hr/><p><b>sfield</b>å­˜æ”¾ç±»çš„é™æ€å­—æ®µï¼Œå› ä¸ºé™æ€å­—æ®µæ˜¯ç±»å…¬æœ‰ï¼Œä¸å®ä¾‹æ— å…³çš„ï¼Œæ‰€ä»¥æ— éœ€å­˜æ”¾åˆ°å †ä¸­ã€‚</p><p>sfieldä½¿ç”¨äº†mapè€Œä¸æ˜¯unordered<i>mapæ˜¯å› ä¸ºè™šæ‹Ÿæœºå¯¹å­—æ®µé¡ºåºæ˜¯æœ‰ä¸¥æ ¼è¦æ±‚çš„ã€‚</i><a href=\"https://link.zhihu.com/?target=https%3A//github.com/racaljk/yvm/blob/master/src/JavaType.h\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">JType</a>åˆ™æ˜¯è™šæ‹Ÿæœºå†…éƒ¨ç”¨æ¥è¡¨ç¤ºJavaç±»å‹çš„åŸºç±»ï¼Œè¿™ä¸ªåé¢ä¼šæåˆ°ã€‚ï¼ˆçªç„¶æƒ³èµ·ä¹‹å‰çš„ä¸€ä¸ªé—®é¢˜ <a href=\"https://www.zhihu.com/question/274137101\" class=\"internal\">javaä¸­ä¸ºä¸ºä»€ä¹ˆç»™floatç±»å‹å˜é‡èµ‹å€¼éœ€è¦åŠ Fï¼Œè€Œç»™byteã€shortèµ‹å€¼çš„æ—¶å€™å´ä¸éœ€è¦å‘¢ï¼Ÿ</a>...å¯ä»¥çœ‹åˆ°è™šæ‹Ÿæœºå†…éƒ¨å¿…è¦çš„å­˜åœ¨å¯ä»¥åªæ˜¯int,long,float,doubleï¼Œå…¶ä»–byte,char,short,booleanéƒ½å¯ä»¥ç±»å‹è½¬æ¢ä¸ºintï¼Œè¿™ä¸€ç‚¹åé¢çš„è™šæ‹ŸæœºæŒ‡ä»¤ä¼šæä¾›ä½è¯..ï¼‰</p><p class=\"ztext-empty-paragraph\"><br/></p><hr/><p><b>raw</b>æ˜¯ä¸€ä¸ª<a href=\"https://link.zhihu.com/?target=https%3A//github.com/racaljk/yvm/blob/master/src/ClassFile.h\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">ClassFileç»“æ„ä½“</a>ï¼Œç”¨æ¥å®é™…å­˜å‚¨classè§£æå‡ºçš„ç»“æœã€‚å®ƒçš„ç»“æ„å¦‚ä¸‹ï¼š</p><div class=\"highlight\"><pre><code class=\"language-text\">struct ClassFile {\n    u4 magic;\n    u2 minorVersion;\n    u2 majorVersion;\n    u2 constPoolCount;\n    ConstantPoolInfo** constPoolInfo;\n    u2 accessFlags;\n    u2 thisClass;\n    u2 superClass;\n    u2 interfacesCount;\n    u2* interfaces;\n    u2 fieldsCount;\n    FieldInfo* fields;\n    u2 methodsCount;\n    MethodInfo* methods;\n    u2 attributesCount;\n    AttributeInfo** attributes;\n    ~ClassFile(){...}\n}</code></pre></div><p>è¿™ä¸ªç»“æ„ä½“å’Œè§„èŒƒè¡¨è¿°å®Œå…¨å¯¹åº”ã€‚ä¹‹å‰è¯´çš„ä»¥åˆç†çš„æ–¹å¼ç»„ç»‡å…¶å®å°±æ˜¯ä¸€ä¸€å¯¹åº”è§£æå¡«å……ç»“æ„ä½“ï¼Œå®ƒçš„å®ç°ä½äº<a href=\"https://link.zhihu.com/?target=https%3A//github.com/racaljk/yvm/blob/master/src/JavaClass.cpp\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">JavaClass.cpp</a>ã€‚ç„¶åå°±æ²¡äº†ï¼ŒClassæ–‡ä»¶è§£ææ˜¯ä½“åŠ›æ´»ï¼Œéœ€è¦éå¸¸ä»”ç»†ï¼Œæ¼çœ‹ä¸€ä¸ªbyteéƒ½ä¼šç›´æ¥é€ æˆè™šæ‹Ÿæœºå´©æºƒã€‚</p>", 
            "topic": [
                {
                    "tag": "Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰", 
                    "tagLink": "https://api.zhihu.com/topics/19566470"
                }, 
                {
                    "tag": "Java", 
                    "tagLink": "https://api.zhihu.com/topics/19561132"
                }, 
                {
                    "tag": "è™šæ‹Ÿæœº", 
                    "tagLink": "https://api.zhihu.com/topics/19575631"
                }
            ], 
            "comments": [
                {
                    "userName": "VeroFess", 
                    "userLink": "https://www.zhihu.com/people/631bd61ec2f6f48a810cab639981048d", 
                    "content": "æœ‰ç”Ÿä¹‹å¹´çš„æ›´æ–°", 
                    "likes": 0, 
                    "childComments": [
                        {
                            "userName": "kelthuzadx", 
                            "userLink": "https://www.zhihu.com/people/88eadbe06dacd1645280e4d826de939a", 
                            "content": "å“ˆå“ˆ å±…ç„¶è¿˜æœ‰äººè®°å¾—ã€‚ã€‚ã€‚æˆ‘ä¼šç»§ç»­æ›´æ–°çš„", 
                            "likes": 0, 
                            "replyToAuthor": "VeroFess"
                        }
                    ]
                }
            ]
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/35350134", 
            "userName": "kelthuzadx", 
            "userLink": "https://www.zhihu.com/people/88eadbe06dacd1645280e4d826de939a", 
            "upvote": 2, 
            "title": "è‡ªåˆ¶Javaè™šæ‹Ÿæœº (2.1) Classæ–‡ä»¶å­˜åœ¨çš„å¿…è¦æ€§", 
            "content": "<h2><b># 2.1 ä¸ºä»€ä¹ˆè¦æœ‰*.classæ–‡ä»¶</b></h2><p>äºŒè¯ä¸è¯´å°±ä¸Šä»£ç å¤ªç²—ä¿—äº†ï¼Œæˆ‘æƒ³åœ¨å†™classè§£æå™¨ä¹‹å‰è®¨è®ºä¸€ä¸‹classå­˜åœ¨çš„å¿…è¦æ€§ï¼Œä¸ºä»€ä¹ˆä¸­é—´è¦åŠ ä¸€ä¸ªclassæ–‡ä»¶å•Šï¼Ÿå¤šåŠ ä¸ªclassæ–‡ä»¶ï¼Œè™šæ‹Ÿæœºè¿˜å¾—è´¹æ—¶è´¹åŠ›è§£æå®ƒï¼Œç›´æ¥ç¼–è¯‘è¿è¡Œçœæ—¶çœåŠ›ä¸å¥½å—ï¼Ÿä¸ºä»€ä¹ˆä¸­é—´åŠ ä¸ªclassæ–‡ä»¶å°±èƒ½å®ç°è·¨å¹³å°å‘¢ï¼Ÿ</p><p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒJavaç¼–è¯‘å’Œè¿è¡Œæ˜¯å®Œå…¨ç‹¬ç«‹çš„ã€‚å®ƒé€šè¿‡ç¼–è¯‘ç”Ÿæˆclassæ–‡ä»¶ï¼Œç„¶åå†ç”¨JVMè¯»å–è§£æå®ƒå¹¶è¿è¡Œï¼Œç±æ­¤å®ç°ä¸€æ¬¡ç¼–è¯‘ï¼Œåˆ°å¤„è¿è¡Œã€‚é‚£ä¹ˆclassæ–‡ä»¶åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>å­¦è¿‡ç¼–è¯‘åŸç†çš„æœ‹å‹åº”è¯¥å¬è¯´ä¸­é—´è¡¨ç¤º(intermediate representation):</p><blockquote>ä¸­é—´è¡¨ç¤ºï¼šå¯¹äºæ¨å¯¼å‡ºçš„è¢«ç¼–è¯‘ç¨‹åºçš„å…¨éƒ¨çŸ¥è¯†ï¼Œç¼–è¯‘å™¨éœ€è¦ä¸€ç§è¡¨ç¤ºï¼Œå› è€Œï¼Œå‡ ä¹æ‰€æœ‰ç¼–è¯‘å™¨éƒ½ä½¿ç”¨æŸç§å½¢å¼çš„ä¸­é—´è¡¨ç¤ºï¼Œæ¥å †è¢«åˆ†æï¼Œè½¬æ¢å’Œä¼˜åŒ–çš„ä»£ç è¿›è¡Œå»ºæ¨¡</blockquote><p>classæ–‡ä»¶ä¸­å°±åŒ…å«Javaæºä»£ç çš„ä¸­é—´è¡¨ç¤ºï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„å­—èŠ‚ç (bytecode)ã€‚</p><p>æ¯”å¦‚Javaæºç </p><div class=\"highlight\"><pre><code class=\"language-java\">    <span class=\"kd\">public</span> <span class=\"kd\">static</span> <span class=\"kt\">void</span> <span class=\"nf\">main</span><span class=\"o\">(</span><span class=\"n\">String</span><span class=\"o\">[]</span> <span class=\"n\">args</span><span class=\"o\">){</span>\n        <span class=\"kt\">int</span> <span class=\"n\">a</span> <span class=\"o\">=</span> <span class=\"n\">0</span><span class=\"o\">;</span>\n        <span class=\"k\">for</span><span class=\"o\">(</span><span class=\"kt\">int</span> <span class=\"n\">i</span><span class=\"o\">=</span><span class=\"n\">0</span><span class=\"o\">;</span><span class=\"n\">i</span><span class=\"o\">&lt;</span><span class=\"n\">10</span><span class=\"o\">;</span><span class=\"n\">i</span><span class=\"o\">++){</span>\n            <span class=\"n\">a</span><span class=\"o\">++;</span>\n        <span class=\"o\">}</span>\n        <span class=\"n\">System</span><span class=\"o\">.</span><span class=\"na\">out</span><span class=\"o\">.</span><span class=\"na\">println</span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"o\">);</span>\n    <span class=\"o\">}</span></code></pre></div><p>å¯¹åº”çš„å­—èŠ‚ç (å¯ä½¿ç”¨ <code>javap -verbose x.class</code>æŸ¥çœ‹ )è¡¨ç¤ºå°±æ˜¯ï¼š</p><div class=\"highlight\"><pre><code class=\"language-text\">0: iconst_0\n1: istore_1\n2: iconst_0\n3: istore_2\n4: iload_2\n5: bipush        10\n7: if_icmpge     19\n10: iinc          1, 1\n13: iinc          2, 1\n16: goto          4\n19: getstatic     #2                  // Field java/lang/System.out:Ljava/io/PrintStream;\n22: iload_1\n23: invokevirtual #3                  // Method java/io/PrintStream.println:(I)V\n26: return</code></pre></div><p>ç°åœ¨å¯ä»¥å›ç­”ä¸Šé¢çš„é—®é¢˜äº†ï¼Œä¸ºä»€ä¹ˆè¦å¤šåŠ ä¸€ä¸ªclassæ‰èƒ½å®ç°ä¸€æ¬¡ç¼–è¯‘åˆ°å¤„è¿è¡Œï¼Ÿå› ä¸ºå¯ä»¥çœ‹åˆ°ä¸Šé¢çš„å­—èŠ‚ç éƒ½æ˜¯CPU/æ“ä½œç³»ç»Ÿæ— å…³çš„ï¼Œå®ƒä¸ç¼–ç ä»»ä½•å¯„å­˜å™¨ä¿¡æ¯ï¼Œä¸ç®¡ä½ ç”¨ä»€ä¹ˆCPUï¼Œæ“ä½œç³»ç»Ÿï¼Œç¼–è¯‘å™¨ç¼–è¯‘å‡ºæ¥çš„æ°¸è¿œéƒ½æ˜¯è¿™æ ·ï¼Œå¯¹äº<code>bipush</code>åˆ°åº•æ˜¯æŠŠæ•°æ®æ”¾åˆ°æ ˆé‡Œé¢è¿˜æ˜¯ç›´æ¥ç”¨å¯„å­˜å™¨å­˜è¿™å¯æ˜¯ä½ è™šæ‹Ÿæœºçš„è´£ä»»å’Œè®®é¢˜ã€‚  è€Œç±»ä¼¼C++è¿™äº›è¯­è¨€ç¼–è¯‘å™¨è¿˜è¦è€ƒè™‘ç°åœ¨ç³»ç»Ÿçš„å¯„å­˜å™¨å¯¹äºè¿™ä¸ªå‡½æ•°å±€éƒ¨å˜é‡å¤Ÿä¸å¤Ÿå•Šï¼Œä¸å¤Ÿæ€ä¹ˆåŠå•Šï¼Œetcã€‚</p><p>å†æµè§ˆä¸€ä¸‹ä¸Šé¢çš„å­—èŠ‚ç ï¼Œ<code>invokevirtual</code>æ˜¯è™šæ–¹æ³•è°ƒç”¨ï¼Œå®ƒçš„æ“ä½œæ•°æ˜¯<code>#3</code>ï¼Œé€šè¿‡ä¸Šé¢çš„æ³¨é‡Šæˆ‘ä»¬å·²ç»çŸ¥é“äº†<code>#3</code> æ˜¯<code>Method java/io/PrintStream.println:(I)V</code>ã€‚å¾ˆæ˜æ˜¾ï¼Œå®ƒä»¬ä¸¤è€…çš„å¯¹åº”ä¿¡æ¯ä¸€å®šè¢«ç¼–ç åœ¨äº†classæ–‡ä»¶ä¸­ï¼Œè¦ä¸å®ƒæ˜¯æ€ä¹ˆçŸ¥é“çš„ï¼Ÿå­¦è¿‡ç¼–è¯‘åŸç†çš„æœ‹å‹ç°åœ¨è‚¯å®šæ¡ä»¶åå°„è¿™ä¸å°±æ˜¯ç¬¦å·è¡¨å˜›ï¼š</p><blockquote>ç¬¦å·è¡¨ï¼šä½œä¸ºè½¬æ¢è¿‡ç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œç¼–è¯‘å™¨éœ€è¦æ¨å¯¼ä¸è¢«è½¬æ¢ç¨‹åºæ“æ§çš„å„ç§è¯•é¢˜æ”¸å…³çš„ä¿¡æ¯ã€‚å®ƒå¿…é¡»å‘ç°å¹¶å­˜å‚¨è®¸å¤šä¸åŒç§ç±»çš„ä¿¡æ¯ã€‚å®ƒä¼šé‡åˆ°å„å¼å„æ ·çš„åå­—ï¼šå˜é‡ï¼Œå·²å®šä¹‰çš„å¸¸é‡ï¼Œè¿‡ç¨‹ï¼Œå‡½æ•°ï¼Œæ ‡å·ï¼Œç»“æ„å’Œæ–‡ä»¶ã€‚</blockquote><p> æ˜¯çš„ï¼Œclassæ–‡ä»¶ä¸å…‰åŒ…æ‹¬å­—èŠ‚ç ï¼Œè¿˜åŒ…æ‹¬ç±»ä¼¼ç¬¦å·è¡¨çš„ä¸œè¥¿ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€ä¸ªä¸‹æ ‡<code>#3</code>å°±èƒ½å®šä½éœ€è¦è°ƒç”¨çš„æ–¹æ³•ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥ç¼–ç <code>invokevirtual  java/io/PrintStream.println:(I)V</code>è¿™æ ·è™½ç„¶ç®€å•æ˜äº†ï¼Œä½†æ˜¯å¦‚æœåé¢å†ä½¿ç”¨è¿™ä¸ªå‡½æ•°æ€ä¹ˆåŠï¼Ÿå†ç¼–ç ä¸€æ¬¡å¢åŠ classä½“ç§¯ä¸è¯´è¿˜è®©JVMåˆèŠ±æ—¶é—´è§£æé‚£ä¹ˆé•¿çš„å­—ç¬¦ä¸²å¾—ä¸å¿å¤±ã€‚</p><p>çŸ¥é“äº†classå­˜åœ¨çš„å¿…è¦æ€§ï¼Œé‚£ä¹ˆæˆ‘ä»¬è§£æclassä¹Ÿå°±ç†æ‰€å½“ç„¶äº†ã€‚é€šè¿‡ä¸Šé¢çš„è®ºè¿°è§£æå™¨çš„ä»»åŠ¡ä¹Ÿæœ‰äº†çœ‰ç›®ï¼šè§£æè¿™ä¸ªç¬¦å·è¡¨å’Œå­—èŠ‚ç ï¼ŒæŠŠå®ƒç»„ç»‡æˆåˆç†çš„ç»“æ„ã€‚</p><p></p><p></p>", 
            "topic": [
                {
                    "tag": "Java ç¼–ç¨‹", 
                    "tagLink": "https://api.zhihu.com/topics/19582744"
                }, 
                {
                    "tag": "Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰", 
                    "tagLink": "https://api.zhihu.com/topics/19566470"
                }, 
                {
                    "tag": "è™šæ‹Ÿæœº", 
                    "tagLink": "https://api.zhihu.com/topics/19575631"
                }
            ], 
            "comments": []
        }, 
        {
            "url": "https://zhuanlan.zhihu.com/p/35349040", 
            "userName": "kelthuzadx", 
            "userLink": "https://www.zhihu.com/people/88eadbe06dacd1645280e4d826de939a", 
            "upvote": 43, 
            "title": "è‡ªåˆ¶Javaè™šæ‹Ÿæœº (1) ç®€ä»‹", 
            "content": "<p><b>é¡¹ç›®åœ°å€</b>ï¼š</p><a href=\"https://link.zhihu.com/?target=https%3A//github.com/racaljk/yvm\" data-draft-node=\"block\" data-draft-type=\"link-card\" data-image=\"https://pic2.zhimg.com/v2-14822deded41f5ca89bca587bd994c0d_ipico.jpg\" data-image-width=\"371\" data-image-height=\"371\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">racaljk/yvm</a><p>æœ¬æ¥æˆ‘æ˜¯æƒ³ç›´æ¥å®‰åˆ©ä¸€ä¸‹æˆ‘çš„è™šæ‹Ÿæœºé¡¹ç›®<a href=\"https://link.zhihu.com/?target=https%3A//github.com/racaljk/yvm\" class=\" wrap external\" target=\"_blank\" rel=\"nofollow noreferrer\">racaljk/yvm</a>ï¼Œä½†æ˜¯è¿™æ ·æŠ•é“¾æ¥å¤ªæ²¡è¯šæ„äº†ï¼Œæ¸…æ˜å‡æœŸä¹Ÿæ²¡å¤ªå¤šäº‹å¹²ï¼Œå¹²è„†å†™ä¸ªæ•™ç¨‹ï¼Œè®²è®²å®ƒçš„ç»“æ„è®¾è®¡ä¹Ÿæƒ³å­¦å­¦å…¶å®ƒäººçš„åšæ³•ï¼Œä¸å›å…±å‹‰ã€‚æœ€åå¸Œæœ›oracleä¸è¦å‘Šæˆ‘ï¼Œæˆ‘èµ”ä¸èµ·...</p><hr/><p class=\"ztext-empty-paragraph\"><br/></p><h2><b>#1.1 è¦åšåˆ°ä»€ä¹ˆç¨‹åº¦</b></h2><p>è¿™ç³»åˆ—æ•™ç¨‹çš„ç›®çš„æ˜¯é€ ä¸€ä¸ªå››è„ä¿±å…¨çš„éº»é›€ï¼Œç¼ºä¸€åä¸ºåƒåœ¾å›æ”¶çš„è„ã€‚å®ƒè‡³å°‘æ”¯æŒå¦‚ä¸‹åŠŸèƒ½ï¼š</p><ul><li>JavaåŸºæœ¬ç®—æ•°ï¼Œé€»è¾‘è¿ç®—ï¼Œæµç¨‹æ§åˆ¶ï¼Œè¿­ä»£ç»“æ„</li><li>é™æ€å‡½æ•°è°ƒç”¨ï¼Œæ¥å£æ–¹æ³•è°ƒç”¨ï¼Œè™šæ–¹æ³•è°ƒç”¨ï¼Œå®ä¾‹åˆå§‹åŒ–æ–¹æ³•è°ƒç”¨</li><li>é¢å‘å¯¹è±¡ç‰¹æ€§ï¼Œç»§æ‰¿ï¼Œè™šæ–¹æ³•dispatchï¼Œè¿è¡Œæ—¶ç±»å‹è¯†åˆ«ç­‰</li><li>å¼‚å¸¸å¤„ç†</li><li>native methods(ä¸æ”¯æŒnativeæ–¹æ³•åŸºæœ¬æ²¡åŠæ³•å®ç°è¾“å…¥è¾“å‡ºï¼‰</li></ul><p>æ›´å¤šç‰¹æ€§è¿™ç¯‡æ–‡ç« å¯èƒ½ä¸ä¼šæ¶‰åŠï¼Œæœ‰å…´è¶£çš„å¯ä»¥å‚è§é¡¹ç›®æºç ã€‚</p><p>å¦å¤–ï¼Œç”±äºJDKå’ŒJVMå…³ç³»éå¸¸å¯†åˆ‡ï¼ŒJVMçš„ä¸€äº›æŒ‡ä»¤å¦‚<code>ldc</code>,<code>athrow</code>ä¼šç›´æ¥è¦æ±‚è™šæ‹Ÿæœºå¤„ç†æŒ‡å®šçš„JDKç±»ï¼Œæ‰€ä»¥ä¸ºäº†è®©è™šæ‹Ÿæœºå¯ä»¥è¿è¡Œæˆ‘ä»¬è¿˜å¾—é‡å†™å°‘éƒ¨åˆ†JDKç±»ã€‚å¥½å§ï¼Œ è¿™ä¸ªè¯´èµ·æ¥æ¯”è¾ƒå¤¸å¼ å…¶å®å®Œå…¨å¯ä»¥éµå¾ªä¸€åˆ‡ä»ç®€çš„ä¿¡æ¡æ¥é‡å†™ï¼Œå·¥ä½œé‡å¹¶ä¸å¤§ï¼Œéœ€è¦é‡å†™çš„ç±»æœ‰è¿™äº›ï¼š</p><ul><li><code>java.lang.String</code> </li><li><code>java.lang.StringBuilder</code> </li><li><code>java.lang.Throwable</code> </li></ul><p class=\"ztext-empty-paragraph\"><br/></p><h2><b># 1.2 å…ˆæœ‰æœï¼Œå†æˆå› </b></h2><p>ç°åœ¨å®¹æˆ‘å› æœå€’ç½®ä¸€ä¸‹ï¼Œæ”¾å‡ å¼ è¿è¡Œæ•ˆæœã€‚å½“æˆ‘ä»¬æƒ³æ”¾å¼ƒçš„æ—¶å€™æƒ³æƒ³æˆ‘ä»¬çš„JVMçœŸçš„èƒ½è¿è¡Œï¼Œè€Œä¸”å·¥ä½œè‰¯å¥½ï¼Œå¸Œæœ›é‚£ä»½æ„‰æ‚¦èƒ½ç ¥ç ºæˆ‘ä»¬ç»§ç»­å‘å‰ ï¼šï¼‰ </p><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-c247664d5247f5d0d913132ca062a203_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"960\" data-rawheight=\"814\" class=\"origin_image zh-lightbox-thumb\" width=\"960\" data-original=\"https://pic4.zhimg.com/v2-c247664d5247f5d0d913132ca062a203_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;960&#39; height=&#39;814&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"960\" data-rawheight=\"814\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"960\" data-original=\"https://pic4.zhimg.com/v2-c247664d5247f5d0d913132ca062a203_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-c247664d5247f5d0d913132ca062a203_b.jpg\"/></figure><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-dc70d50ab4dbea336a69d37fe59fd515_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1223\" data-rawheight=\"639\" class=\"origin_image zh-lightbox-thumb\" width=\"1223\" data-original=\"https://pic2.zhimg.com/v2-dc70d50ab4dbea336a69d37fe59fd515_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1223&#39; height=&#39;639&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1223\" data-rawheight=\"639\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1223\" data-original=\"https://pic2.zhimg.com/v2-dc70d50ab4dbea336a69d37fe59fd515_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-dc70d50ab4dbea336a69d37fe59fd515_b.jpg\"/></figure><figure data-size=\"normal\"><noscript><img src=\"https://pic4.zhimg.com/v2-02172ee5dccb342334d2486bfda5df63_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1107\" data-rawheight=\"597\" class=\"origin_image zh-lightbox-thumb\" width=\"1107\" data-original=\"https://pic4.zhimg.com/v2-02172ee5dccb342334d2486bfda5df63_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1107&#39; height=&#39;597&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1107\" data-rawheight=\"597\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1107\" data-original=\"https://pic4.zhimg.com/v2-02172ee5dccb342334d2486bfda5df63_r.jpg\" data-actualsrc=\"https://pic4.zhimg.com/v2-02172ee5dccb342334d2486bfda5df63_b.jpg\"/></figure><figure data-size=\"normal\"><noscript><img src=\"https://pic2.zhimg.com/v2-e8f3cfda66c1124a66501fd44b32056d_b.jpg\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1223\" data-rawheight=\"639\" class=\"origin_image zh-lightbox-thumb\" width=\"1223\" data-original=\"https://pic2.zhimg.com/v2-e8f3cfda66c1124a66501fd44b32056d_r.jpg\"/></noscript><img src=\"data:image/svg+xml;utf8,&lt;svg xmlns=&#39;http://www.w3.org/2000/svg&#39; width=&#39;1223&#39; height=&#39;639&#39;&gt;&lt;/svg&gt;\" data-caption=\"\" data-size=\"normal\" data-rawwidth=\"1223\" data-rawheight=\"639\" class=\"origin_image zh-lightbox-thumb lazy\" width=\"1223\" data-original=\"https://pic2.zhimg.com/v2-e8f3cfda66c1124a66501fd44b32056d_r.jpg\" data-actualsrc=\"https://pic2.zhimg.com/v2-e8f3cfda66c1124a66501fd44b32056d_b.jpg\"/></figure><p></p>", 
            "topic": [
                {
                    "tag": "Java ç¼–ç¨‹", 
                    "tagLink": "https://api.zhihu.com/topics/19582744"
                }, 
                {
                    "tag": "Java è™šæ‹Ÿæœºï¼ˆJVMï¼‰", 
                    "tagLink": "https://api.zhihu.com/topics/19566470"
                }, 
                {
                    "tag": "è™šæ‹Ÿæœº", 
                    "tagLink": "https://api.zhihu.com/topics/19575631"
                }
            ], 
            "comments": [
                {
                    "userName": "Flandia Yingman", 
                    "userLink": "https://www.zhihu.com/people/9729a60f9bda100046664b105b35f04e", 
                    "content": "<p>WithoutReasonException ç¬‘å°¿äº†å“ˆå“ˆå“ˆå“ˆå“ˆå•Š</p>", 
                    "likes": 0, 
                    "childComments": [
                        {
                            "userName": "kelthuzadx", 
                            "userLink": "https://www.zhihu.com/people/88eadbe06dacd1645280e4d826de939a", 
                            "content": "è¯¥è¯„è®ºå·²åˆ é™¤", 
                            "likes": 0, 
                            "replyToAuthor": "Flandia Yingman"
                        }, 
                        {
                            "userName": "Flandia Yingman", 
                            "userLink": "https://www.zhihu.com/people/9729a60f9bda100046664b105b35f04e", 
                            "content": "<p>è¿™ä¸ªä¸œè¥¿åº•å±‚æ˜¯ c++ å®ç°çš„å—</p>", 
                            "likes": 1, 
                            "replyToAuthor": "kelthuzadx"
                        }
                    ]
                }, 
                {
                    "userName": "çŸ¥ä¹ç”¨æˆ·", 
                    "userLink": "https://www.zhihu.com/people/0", 
                    "content": "å€Ÿä½ å®åœ°shareä¸€ä¸‹æˆ‘å†™çš„è™šæ‹Ÿæœºï¼š<a href=\"http://link.zhihu.com/?target=http%3A//github.com/richdyang/jago\" class=\" external\" target=\"_blank\" rel=\"nofollow noreferrer\"><span class=\"invisible\">http://</span><span class=\"visible\">github.com/richdyang/ja</span><span class=\"invisible\">go</span><span class=\"ellipsis\"></span></a> å¦å¤–å®Œå…¨å¯ä»¥ä¸ç”¨é‡å†™ä»»ä½•JDKçš„ï¼Œå…¼å®¹oracle jdkå°±å¥½äº†", 
                    "likes": 0, 
                    "childComments": [
                        {
                            "userName": "kelthuzadx", 
                            "userLink": "https://www.zhihu.com/people/88eadbe06dacd1645280e4d826de939a", 
                            "content": "ä¹‹å‰æˆ‘ä¹Ÿæ˜¯å…¼å®¹oracle jdkï¼Œåé¢å†™ä¸ä¸‹å»äº†ï¼Œå¤ªå¤æ‚ï¼Œå­—æ®µå¤ªå¤šæ„ä¹‰ä¸æ˜ï¼Œè¿˜ä¸å¦‚é‡å†™", 
                            "likes": 0, 
                            "replyToAuthor": "çŸ¥ä¹ç”¨æˆ·"
                        }
                    ]
                }, 
                {
                    "userName": "è‡ªç”±æ‚£è€…", 
                    "userLink": "https://www.zhihu.com/people/562b3d78b30d5faa268b3710317959ca", 
                    "content": "éƒ½è¿™ä¹ˆå‰å®³ğŸ‘", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "çŸ¥ä¹ç”¨æˆ·", 
                    "userLink": "https://www.zhihu.com/people/0", 
                    "content": "<p>DQ8å¥½è¯„</p>", 
                    "likes": 0, 
                    "childComments": []
                }, 
                {
                    "userName": "ç§‘é’ç„é˜™", 
                    "userLink": "https://www.zhihu.com/people/caca7e8499611a95e64feaea2a2e227c", 
                    "content": "è§‚æ‘©å¤§ç¥å¦‚ä½•ç«‹åœ°ç¾½åŒ–æˆä»™", 
                    "likes": 0, 
                    "childComments": []
                }
            ]
        }
    ], 
    "url": "https://zhuanlan.zhihu.com/homemadejvm"
}
